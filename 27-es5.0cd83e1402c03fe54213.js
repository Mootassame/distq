!function(){function e(t,i){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,i)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=r(e);if(t){var c=r(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return i(this,n)}}function i(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"7UCR":function(i,r,a){"use strict";a.r(r),a.d(r,"UserModule",(function(){return Xt}));var o,s=a("Tx//"),d=a("tyNb"),u=a("P+IX"),l=a("ogYm"),f=a("mrSG"),m=a("QQG4"),p=a("DCw8"),h=a("QmLB"),v=a("Vbab"),g=a("zkTT"),b=a("qXBG"),w=a("fXoL"),y=((o=function(){function e(t,i,r,a){n(this,e),this.authService=t,this.errorService=i,this.router=r,this.snackbar=a,this.initLoading=!1,this.saveLoading=!1,this.user=null}return c(e,[{key:"doInit",value:function(e){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.user=null,this.initLoading=!0,t.t0=e,!t.t0){t.next=8;break}return t.next=7,p.a.find(e);case 7:this.user=t.sent;case 8:this.initLoading=!1,t.next=14;break;case 11:t.prev=11,t.t1=t.catch(0),this.errorService.handle(t.t1),this.user=null,this.initLoading=!1,this.router.navigate(["/user"]);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})))}},{key:"doAdd",value:function(e){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.saveLoading=!0,t.next=4,p.a.create(e);case 4:this.saveLoading=!1,this.snackbar.success(Object(v.d)("user.doAddSuccess")),this.router.navigate(["/user"]),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),this.errorService.handle(t.t0),this.saveLoading=!1;case 12:case"end":return t.stop()}}),t,this,[[0,9]])})))}},{key:"doUpdate",value:function(e){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.saveLoading=!0,t.next=4,p.a.edit(e);case 4:if(this.saveLoading=!1,t.t0=this.authService.currentUser.id===e.id,!t.t0){t.next=9;break}return t.next=9,this.authService.doRefreshCurrentUser();case 9:this.snackbar.success(Object(v.d)("user.doUpdateSuccess")),this.router.navigate(["/user"]),t.next=16;break;case 13:t.prev=13,t.t1=t.catch(0),this.errorService.handle(t.t1),this.saveLoading=!1;case 16:case"end":return t.stop()}}),t,this,[[0,13]])})))}}]),e}()).\u0275fac=function(e){return new(e||o)(w.Rc(b.a),w.Rc(h.a),w.Rc(d.b),w.Rc(g.a))},o.\u0275prov=w.Dc({token:o,factory:o.\u0275fac,providedIn:"root"}),o),k=a("rXYk"),x=a("3Pt+"),I=a("APW9"),N=a("UDmo"),S=a("ofXK"),M=a("Xa2L"),L=a("kmnG"),O=a("qFsG"),R=a("d3UM"),T=a("vFJ8"),j=a("bTqV"),D=a("NFeN"),P=a("FKr1");function C(e,t){1&e&&(w.Nc(0,"div",6),w.Ic(1,"mat-spinner",7),w.Mc())}function F(e,t){if(1&e&&(w.Nc(0,"mat-option",25),w.xd(1),w.Mc()),2&e){var i=t.$implicit;w.dd("value",i.value),w.wc(1),w.yd(i.label)}}var X=function(){return["/user"]};function H(e,t){if(1&e){var i=w.Oc();w.Nc(0,"form",8,9),w.Tc("ngSubmit",(function(){return w.nd(i),w.Xc().doSave()})),w.Nc(2,"mat-form-field",10),w.Nc(3,"mat-label"),w.xd(4),w.Mc(),w.Ic(5,"input",11),w.Mc(),w.Nc(6,"mat-form-field",10),w.Nc(7,"mat-label"),w.xd(8),w.Mc(),w.Nc(9,"mat-select",12),w.wd(10,F,2,2,"mat-option",13),w.Mc(),w.Nc(11,"mat-error"),w.Ic(12,"app-validations",14),w.Mc(),w.Mc(),w.Nc(13,"div",15),w.Nc(14,"button",16),w.Ic(15,"mat-icon",17),w.xd(16,"\xa0 "),w.Ic(17,"app-i18n",18),w.Mc(),w.Nc(18,"button",19),w.Tc("click",(function(){return w.nd(i),w.Xc().doReset()})),w.Ic(19,"mat-icon",20),w.xd(20,"\xa0 "),w.Ic(21,"app-i18n",21),w.Mc(),w.Nc(22,"button",22),w.Ic(23,"mat-icon",23),w.xd(24,"\xa0 "),w.Ic(25,"app-i18n",24),w.Mc(),w.Mc(),w.Mc()}if(2&e){var r=w.Xc();w.dd("formGroup",r.form),w.wc(4),w.yd(r.fields.email.label),w.wc(1),w.dd("value",r.user.email)("disabled",!0),w.wc(3),w.yd(r.fields.roles.label),w.wc(1),w.dd("formControlName",r.fields.roles.name)("required",r.fields.roles.required),w.wc(1),w.dd("ngForOf",r.fields.roles.options),w.wc(2),w.dd("control",r.form.get(r.fields.roles.name))("label",r.fields.roles.label),w.wc(2),w.dd("disabled",r.saveLoading),w.wc(4),w.dd("disabled",r.saveLoading),w.wc(4),w.dd("disabled",r.saveLoading)("routerLink",w.fd(14,X))}}var z,B,E,A,K=((z=function(){function e(t,i,r,a){n(this,e),this.service=t,this.formBuilder=i,this.route=r,this.authService=a,this.breadcrumb=[[Object(v.d)("dashboard.menu")],[Object(v.d)("user.menu"),"/user"],[Object(v.d)("user.edit.title")]]}return c(e,[{key:"ngOnInit",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.doInit(this.route.snapshot.paramMap.get("id"));case 2:this.buildSchema(),this.buildForm();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"doSave",value:function(){if(this.form.valid){var e=this.schema.cast(this.form.value);return delete e.email,this.service.doUpdate(Object.assign({id:this.user.id},e))}}},{key:"doReset",value:function(){this.buildForm()}},{key:"buildForm",value:function(){this.form=this.schema.buildForm(this.service.user)}},{key:"buildSchema",value:function(){this.schema=new k.a([this.fields.email,this.fields.roles],this.formBuilder)}},{key:"fields",get:function(){return m.a.fields}},{key:"initLoading",get:function(){return this.service.initLoading}},{key:"saveLoading",get:function(){return this.service.saveLoading}},{key:"user",get:function(){return this.service.user}}]),e}()).\u0275fac=function(e){return new(e||z)(w.Hc(y),w.Hc(x.d),w.Hc(d.a),w.Hc(b.a))},z.\u0275cmp=w.Bc({type:z,selectors:[["app-user-edit-form"]],decls:6,vars:3,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","user.edit.title"],["class","app-page-spinner",4,"ngIf"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"app-page-spinner"],["color","accent"],[1,"form",3,"formGroup","ngSubmit"],["ngForm","ngForm"],["floatLabel","always","appearance","outline"],["matInput","",3,"value","disabled"],["multiple","",3,"formControlName","required"],[3,"value",4,"ngFor","ngForOf"],[3,"control","label"],[1,"form-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["inline","","fontSet","far","fontIcon","fa-save"],["key","common.save"],["mat-flat-button","","color","accent","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-undo"],["key","common.reset"],["mat-flat-button","","color","warn","type","button",3,"disabled","routerLink"],["inline","","fontSet","fas","fontIcon","fa-times"],["key","common.cancel"],[3,"value"]],template:function(e,t){1&e&&(w.Ic(0,"app-breadcrumb",0),w.Nc(1,"div",1),w.Nc(2,"h1",2),w.Ic(3,"app-i18n",3),w.Mc(),w.wd(4,C,2,0,"div",4),w.wd(5,H,26,15,"form",5),w.Mc()),2&e&&(w.dd("items",t.breadcrumb),w.wc(4),w.dd("ngIf",t.initLoading),w.wc(1),w.dd("ngIf",t.form&&!t.initLoading))},directives:[I.a,N.a,S.k,M.b,x.s,x.n,x.h,L.c,L.f,O.b,R.a,x.m,x.g,x.q,S.j,L.b,T.a,j.b,D.a,d.c,P.o],encapsulation:2}),z),_=a("zdBv"),q=((B=function(){function e(t){n(this,e),this.authService=t,this.breadcrumb=[[Object(v.d)("dashboard.menu")],[Object(v.d)("user.menu"),"/user"],[Object(v.d)("user.importer.title")]]}return c(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||B)(w.Hc(b.a))},B.\u0275cmp=w.Bc({type:B,selectors:[["app-user-importer"]],decls:5,vars:1,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","user.importer.title"]],template:function(e,t){1&e&&(w.Ic(0,"app-breadcrumb",0),w.Nc(1,"div",1),w.Nc(2,"h1",2),w.Ic(3,"app-i18n",3),w.Mc(),w.Ic(4,"app-importer"),w.Mc()),2&e&&w.dd("items",t.breadcrumb)},directives:[I.a,N.a,_.a],encapsulation:2}),B),G=m.a.fields,$=[G.id,G.email,G.fullName,G.phoneNumber,G.avatars,G.roles,G.status,G.createdAt],U=a("Oxlt"),Q=a("0EQZ"),J=((E=function(){function e(t,i){n(this,e),this.errorService=t,this.snackbar=i,this.rows=[],this.count=0,this.loading=!1,this.filter={},this._pagination={},this.sorter={},this.selectedKeys=new Q.c(!0,[]),this.exportLoading=!1,this.unlimited=!1}return c(e,[{key:"doResetSelectedKeys",value:function(){this.selectedKeys=new Q.c(!0,[])}},{key:"doReset",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.rows=[],this.count=0,this.loading=!1,this.filter={},this._pagination={},this.sorter={},this.doResetSelectedKeys(),this.exportLoading=!1,this.doFetch()));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"doExport",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.exportLoading=!0,t=this.filter,e.next=5,p.a.fetchUsers(t,this.orderBy,null,null);case 5:i=e.sent,new U.a($,Object(v.d)("user.users.exporterFileName")).transformAndExportAsExcelFile(i.rows),this.exportLoading=!1,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.errorService.handle(e.t0),this.exportLoading=!1;case 12:case"end":return e.stop()}}),e,this,[[0,9]])})))}},{key:"doChangePagination",value:function(e){this._pagination=e,this.doFetch(this.filter,!0)}},{key:"doChangeSort",value:function(e){this.sorter=e?{columnKey:e.active,order:e.direction}:{},this.doFetch(this.filter,!0)}},{key:"doFetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,this.loading=!0,this.rows=[],this.count=0,t||(this._pagination={}),this.filter=e||{},this.doResetSelectedKeys(),i.next=4,p.a.fetchUsers(e,this.orderBy,this.limit,this.offset);case 4:r=i.sent,this.rows=r.rows,this.count=r.count,this.loading=!1,i.next=11;break;case 8:i.prev=8,i.t0=i.catch(0),this.errorService.handle(i.t0),this.loading=!1,this.rows=[],this.count=0;case 11:case"end":return i.stop()}}),i,this,[[0,8]])})))}},{key:"hasRows",get:function(){return this.count>0}},{key:"orderBy",get:function(){var e=this.sorter;return e&&e.columnKey?"".concat(e.columnKey,"_").concat("desc"===e.order?"DESC":"ASC"):null}},{key:"limit",get:function(){if(this.unlimited)return 0;var e=this._pagination;return e&&e.pageSize?e.pageSize:10}},{key:"offset",get:function(){if(this.unlimited)return 0;var e=this._pagination;return e&&e.pageSize?e.pageIndex*e.pageSize:0}},{key:"pagination",get:function(){return!this.unlimited&&Object.assign(Object.assign({},this._pagination),{total:this.count,showSizeChanger:!0})}},{key:"paginationPageSize",get:function(){return this._pagination&&this._pagination.pageSize?this._pagination.pageSize:10}},{key:"paginationPageIndex",get:function(){return this._pagination&&this._pagination.pageIndex?this._pagination.pageIndex:0}},{key:"selectedRows",get:function(){var e=this;return this.rows.filter((function(t){return e.selectedKeys.isSelected(t.id)}))}}]),e}()).\u0275fac=function(e){return new(e||E)(w.Rc(h.a),w.Rc(g.a))},E.\u0275prov=w.Dc({token:E,factory:E.\u0275fac,providedIn:"root"}),E),V=a("VGjC"),Z=a("6SvT"),Y=((A=function(){function e(t,i,r,a){n(this,e),this.errorService=t,this.snackbar=i,this.router=r,this.userListService=a,this.loading=!1}return c(e,[{key:"doDestroy",value:function(e){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,p.a.destroy([e]);case 4:return this.loading=!1,this.snackbar.success(Object(v.d)("user.doDestroySuccess")),this.router.navigate(["/user"]),t.next=9,this.userListService.doFetch(this.userListService.filter);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),this.errorService.handle(t.t0),this.loading=!1;case 14:case"end":return t.stop()}}),t,this,[[0,11]])})))}},{key:"doDestroyAll",value:function(e){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,p.a.destroy(e);case 4:return this.loading=!1,this.userListService.doResetSelectedKeys(),this.snackbar.success(Object(v.d)("user.doDestroyAllSuccess")),this.router.navigate(["/user"]),t.abrupt("return",this.userListService.doFetch(this.userListService.filter));case 11:t.prev=11,t.t0=t.catch(0),this.errorService.handle(t.t0),this.loading=!1;case 14:case"end":return t.stop()}}),t,this,[[0,11]])})))}}]),e}()).\u0275fac=function(e){return new(e||A)(w.Rc(h.a),w.Rc(g.a),w.Rc(d.b),w.Rc(J))},A.\u0275prov=w.Dc({token:A,factory:A.\u0275fac,providedIn:"root"}),A),W=a("Qu3c");function ee(e,t){1&e&&(w.Nc(0,"button",10),w.Ic(1,"mat-icon",11),w.xd(2,"\xa0 "),w.Ic(3,"app-i18n",12),w.Mc()),2&e&&w.dd("routerLink","/user/new")}function te(e,t){1&e&&(w.Nc(0,"button",10),w.Ic(1,"mat-icon",13),w.xd(2,"\xa0 "),w.Ic(3,"app-i18n",14),w.Mc()),2&e&&w.dd("routerLink","/user/import")}function ie(e,t){if(1&e){var i=w.Oc();w.Nc(0,"span",6),w.Nc(1,"button",15),w.Tc("click",(function(){return w.nd(i),w.Xc().doDestroyAllSelected()})),w.Ic(2,"mat-icon",16),w.xd(3,"\xa0 "),w.Ic(4,"app-i18n",17),w.Mc(),w.Mc()}if(2&e){var r=w.Xc();w.dd("matTooltip",r.destroyButtonTooltip),w.wc(1),w.dd("disabled",r.destroyButtonDisabled)}}var re=function(){return["/audit-log"]},ne=function(){return{entityNames:"user"}};function ae(e,t){1&e&&(w.Nc(0,"button",18),w.Ic(1,"mat-icon",19),w.xd(2,"\xa0 "),w.Ic(3,"app-i18n",20),w.Mc()),2&e&&w.dd("routerLink",w.fd(2,re))("queryParams",w.fd(3,ne))}var ce,oe=((ce=function(){function e(t,i,r,a){n(this,e),this.service=t,this.userService=i,this.destroyService=r,this.auditLogService=a}return c(e,[{key:"doExport",value:function(){return this.service.doExport()}},{key:"doDestroyAllSelected",value:function(){return this.destroyService.doDestroyAll(this.service.selectedRows.map((function(e){return e.id})))}},{key:"hasPermissionToAuditLogs",get:function(){return this.auditLogService.hasPermissionToRead}},{key:"hasPermissionToCreate",get:function(){return this.userService.hasPermissionToCreate}},{key:"hasPermissionToEdit",get:function(){return this.userService.hasPermissionToEdit}},{key:"hasPermissionToImport",get:function(){return this.userService.hasPermissionToImport}},{key:"hasPermissionToDestroy",get:function(){return this.userService.hasPermissionToDestroy}},{key:"exportButtonDisabled",get:function(){return!this.service.hasRows||this.service.loading||this.service.exportLoading}},{key:"exportButtonTooltip",get:function(){if(!this.service.hasRows)return Object(v.d)("common.noDataToExport")}},{key:"destroyButtonDisabled",get:function(){return this.service.selectedKeys.isEmpty()||this.service.loading}},{key:"destroyButtonTooltip",get:function(){if(this.service.selectedKeys.isEmpty())return Object(v.d)("common.mustSelectARow")}}]),e}()).\u0275fac=function(e){return new(e||ce)(w.Hc(J),w.Hc(V.a),w.Hc(Y),w.Hc(Z.a))},ce.\u0275cmp=w.Bc({type:ce,selectors:[["app-user-list-toolbar"]],decls:12,vars:6,consts:[[1,"app-page-toolbar"],[1,"row"],[1,"col-md-12"],["mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],[3,"matTooltip",4,"ngIf"],["mat-raised-button","","color","primary",3,"routerLink","queryParams",4,"ngIf"],[3,"matTooltip"],["mat-raised-button","","color","primary",3,"disabled","click"],["inline","","fontSet","far","fontIcon","fa-file-excel"],["key","common.export"],["mat-raised-button","","color","primary",3,"routerLink"],["fontSet","fas","fontIcon","fa-envelope","inline",""],["key","user.invite"],["inline","","fontSet","fas","fontIcon","fa-file-import"],["key","common.import"],["mat-raised-button","","color","warn",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-times"],["key","common.destroy"],["mat-raised-button","","color","primary",3,"routerLink","queryParams"],["inline","","fontSet","fas","fontIcon","fa-history"],["key","auditLog.menu"]],template:function(e,t){1&e&&(w.Nc(0,"div",0),w.Nc(1,"div",1),w.Nc(2,"div",2),w.wd(3,ee,4,1,"button",3),w.wd(4,te,4,1,"button",3),w.wd(5,ie,5,2,"span",4),w.wd(6,ae,4,4,"button",5),w.Nc(7,"span",6),w.Nc(8,"button",7),w.Tc("click",(function(){return t.doExport()})),w.Ic(9,"mat-icon",8),w.xd(10,"\xa0 "),w.Ic(11,"app-i18n",9),w.Mc(),w.Mc(),w.Mc(),w.Mc(),w.Mc()),2&e&&(w.wc(3),w.dd("ngIf",t.hasPermissionToCreate),w.wc(1),w.dd("ngIf",t.hasPermissionToImport),w.wc(1),w.dd("ngIf",t.hasPermissionToDestroy),w.wc(1),w.dd("ngIf",t.hasPermissionToAuditLogs),w.wc(1),w.dd("matTooltip",t.exportButtonTooltip),w.wc(1),w.dd("disabled",t.exportButtonDisabled))},directives:[S.k,W.a,j.b,D.a,N.a,d.c],encapsulation:2}),ce),se=a("6qfu"),de=a("cscj");function ue(e,t){if(1&e&&(w.Nc(0,"mat-option",19),w.xd(1),w.Mc()),2&e){var i=t.$implicit;w.dd("value",i.id),w.wc(1),w.zd(" ",i.label," ")}}function le(e,t){if(1&e&&(w.Nc(0,"mat-option",19),w.xd(1),w.Mc()),2&e){var i=t.$implicit;w.dd("value",i.value),w.wc(1),w.zd(" ",i.label," ")}}function fe(e,t){if(1&e){var i=w.Oc();w.Nc(0,"form",3,4),w.Tc("ngSubmit",(function(){return w.nd(i),w.Xc().doFilter()})),w.Nc(2,"div",5),w.Nc(3,"div",6),w.Nc(4,"mat-form-field",7),w.Nc(5,"mat-label"),w.xd(6),w.Mc(),w.Ic(7,"input",8),w.Nc(8,"mat-error"),w.Ic(9,"app-validations",9),w.Mc(),w.Mc(),w.Mc(),w.Nc(10,"div",6),w.Nc(11,"mat-form-field",7),w.Nc(12,"mat-label"),w.xd(13),w.Mc(),w.Ic(14,"input",8),w.Nc(15,"mat-error"),w.Ic(16,"app-validations",9),w.Mc(),w.Mc(),w.Mc(),w.Nc(17,"div",6),w.Nc(18,"mat-form-field",7),w.Nc(19,"mat-label"),w.xd(20),w.Mc(),w.Nc(21,"mat-select",10),w.Nc(22,"mat-option"),w.xd(23,"--"),w.Mc(),w.wd(24,ue,2,2,"mat-option",11),w.Mc(),w.Nc(25,"mat-error"),w.Ic(26,"app-validations",9),w.Mc(),w.Mc(),w.Mc(),w.Nc(27,"div",6),w.Nc(28,"mat-form-field",7),w.Nc(29,"mat-label"),w.xd(30),w.Mc(),w.Nc(31,"mat-select",10),w.Nc(32,"mat-option"),w.xd(33,"--"),w.Mc(),w.wd(34,le,2,2,"mat-option",11),w.Mc(),w.Nc(35,"mat-error"),w.Ic(36,"app-validations",9),w.Mc(),w.Mc(),w.Mc(),w.Mc(),w.Nc(37,"div",12),w.Nc(38,"button",13),w.Ic(39,"mat-icon",14),w.xd(40,"\xa0 "),w.Ic(41,"app-i18n",15),w.Mc(),w.Nc(42,"button",16),w.Tc("click",(function(){return w.nd(i),w.Xc().doReset()})),w.Ic(43,"mat-icon",17),w.xd(44,"\xa0 "),w.Ic(45,"app-i18n",18),w.Mc(),w.Mc(),w.Mc()}if(2&e){var r=w.Xc();w.dd("formGroup",r.form),w.wc(6),w.yd(r.fields.email.label),w.wc(1),w.dd("formControlName",r.fields.email.name),w.wc(2),w.dd("control",r.form.get(r.fields.email.name))("label",r.fields.email.label),w.wc(4),w.yd(r.fields.fullName.label),w.wc(1),w.dd("formControlName",r.fields.fullName.name),w.wc(2),w.dd("control",r.form.get(r.fields.fullName.name))("label",r.fields.fullName.label),w.wc(4),w.yd(r.fields.status.label),w.wc(1),w.dd("formControlName",r.fields.status.name),w.wc(3),w.dd("ngForOf",r.fields.status.options),w.wc(2),w.dd("control",r.form.get(r.fields.status.name))("label",r.fields.status.label),w.wc(4),w.yd(r.fields.role.label),w.wc(1),w.dd("formControlName",r.fields.role.name),w.wc(3),w.dd("ngForOf",r.fields.role.options),w.wc(2),w.dd("control",r.form.get(r.fields.role.name))("label",r.fields.role.label),w.wc(2),w.dd("disabled",r.loading),w.wc(4),w.dd("disabled",r.loading)}}var me,pe=((me=function(){function e(t,i,r){n(this,e),this.service=t,this.formBuilder=i,this.route=r,this.expanded=!1}return c(e,[{key:"ngOnInit",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.buildSchema(),this.buildForm(),this.doFilter();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"doToggleExpanded",value:function(){this.expanded=!this.expanded}},{key:"doFilter",value:function(){if(this.form.valid){this.expanded=!1;var e=this.schema.cast(this.form.value);return this.service.doFetch(e)}}},{key:"buildForm",value:function(){var e=this.service.filter;this.form=this.schema.buildForm(e,this.route.snapshot.queryParams)}},{key:"doReset",value:function(){this.form=this.schema.buildForm(),this.service.doReset(),this.expanded=!1}},{key:"buildSchema",value:function(){this.schema=new se.a([this.fields.fullName,this.fields.email,this.fields.role,this.fields.status],this.formBuilder)}},{key:"fields",get:function(){return m.a.fields}},{key:"loading",get:function(){return this.service.loading}}]),e}()).\u0275fac=function(e){return new(e||me)(w.Hc(J),w.Hc(x.d),w.Hc(d.a))},me.\u0275cmp=w.Bc({type:me,selectors:[["app-user-list-filter"]],decls:3,vars:4,consts:[[1,"filter"],[3,"values","fields","expanded","click"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["ngForm","ngForm"],[1,"row"],[1,"col-xs-12","col-lg-6"],["floatLabel","always","appearance","outline"],["matInput","",3,"formControlName"],[3,"control","label"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[1,"filter-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["inline","","fontSet","fas","fontIcon","fa-search"],["key","common.search"],["mat-flat-button","","color","accent","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-undo"],["key","common.reset"],[3,"value"]],template:function(e,t){1&e&&(w.Nc(0,"div",0),w.Nc(1,"app-filter-preview",1),w.Tc("click",(function(){return t.doToggleExpanded()})),w.Mc(),w.wd(2,fe,46,21,"form",2),w.Mc()),2&e&&(w.wc(1),w.dd("values",t.form.value)("fields",t.fields)("expanded",t.expanded),w.wc(1),w.dd("ngIf",t.form&&t.expanded))},directives:[de.a,S.k,x.s,x.n,x.h,L.c,L.f,O.b,x.c,x.m,x.g,L.b,T.a,R.a,P.o,S.j,j.b,D.a,N.a],encapsulation:2}),me),he=a("VXJn"),ve=a("t7ZL"),ge=a("+0xr"),be=a("Dh3D"),we=a("M9IT"),ye=a("9Zza"),ke=a("n9IN"),xe=a("S7/7");function Ie(e,t){if(1&e&&(w.Nc(0,"th",14),w.Ic(1,"app-table-th-checkbox",15),w.Mc()),2&e){var i=w.Xc();w.wc(1),w.dd("rows",i.service.rows)("selectedKeys",i.service.selectedKeys)}}function Ne(e,t){if(1&e&&(w.Nc(0,"td",16),w.Ic(1,"app-table-td-checkbox",17),w.Mc()),2&e){var i=t.$implicit,r=w.Xc();w.wc(1),w.dd("row",i)("selectedKeys",r.service.selectedKeys)}}function Se(e,t){if(1&e&&(w.Nc(0,"th",14),w.xd(1),w.Mc()),2&e){var i=w.Xc();w.wc(1),w.zd(" ",i.fields.avatars.label," ")}}function Me(e,t){if(1&e&&(w.Nc(0,"td",16),w.Ic(1,"app-table-item-images",18),w.Mc()),2&e){var i=t.$implicit,r=w.Xc();w.wc(1),w.dd("value",r.presenter(i,"avatars"))}}function Le(e,t){if(1&e&&(w.Nc(0,"th",19),w.xd(1),w.Mc()),2&e){var i=w.Xc();w.wc(1),w.zd(" ",i.fields.email.label," ")}}function Oe(e,t){if(1&e&&(w.Nc(0,"td",16),w.xd(1),w.Mc()),2&e){var i=t.$implicit,r=w.Xc();w.wc(1),w.zd(" ",r.presenter(i,"email")," ")}}function Re(e,t){if(1&e&&(w.Nc(0,"th",19),w.xd(1),w.Mc()),2&e){var i=w.Xc();w.wc(1),w.zd(" ",i.fields.fullName.label," ")}}function Te(e,t){if(1&e&&(w.Nc(0,"td",16),w.xd(1),w.Mc()),2&e){var i=t.$implicit,r=w.Xc();w.wc(1),w.zd(" ",r.presenter(i,"fullName")," ")}}function je(e,t){if(1&e&&(w.Nc(0,"th",14),w.xd(1),w.Mc()),2&e){var i=w.Xc();w.wc(1),w.zd(" ",i.fields.roles.label," ")}}function De(e,t){if(1&e&&(w.Nc(0,"div",22),w.xd(1),w.Mc()),2&e){var i=t.$implicit,r=w.Xc(2);w.dd("matTooltip",r.roleDescriptionOf(i)),w.wc(1),w.zd(" ",r.roleLabelOf(i)," ")}}function Pe(e,t){if(1&e&&(w.Nc(0,"td",20),w.wd(1,De,2,2,"div",21),w.Mc()),2&e){var i=t.$implicit;w.wc(1),w.dd("ngForOf",i.roles)}}function Ce(e,t){if(1&e&&(w.Nc(0,"th",19),w.xd(1),w.Mc()),2&e){var i=w.Xc();w.wc(1),w.zd(" ",i.fields.status.label," ")}}var Fe=function(e,t,i){return{"text-green":e,"text-yellow":t,"text-red":i}};function Xe(e,t){if(1&e&&(w.Nc(0,"td",16),w.Nc(1,"strong",23),w.xd(2),w.Mc(),w.Mc()),2&e){var i=t.$implicit,r=w.Xc();w.wc(1),w.dd("ngClass",w.id(2,Fe,"active"===i[r.fields.status.name],"invited"===i[r.fields.status.name],"empty-permissions"===i[r.fields.status.name])),w.wc(1),w.zd("",r.presenter(i,"status")," ")}}function He(e,t){1&e&&w.Ic(0,"th",24)}var ze=function(e){return["/user",e,"edit"]};function Be(e,t){if(1&e&&(w.Nc(0,"button",25),w.Nc(1,"mat-icon"),w.xd(2,"edit"),w.Mc(),w.Mc()),2&e){var i=w.Xc().$implicit,r=w.Xc();w.dd("routerLink",w.gd(2,ze,i.id))("matTooltip",r.i18n("common.edit"))}}function Ee(e,t){if(1&e){var i=w.Oc();w.Nc(0,"button",28),w.Tc("click",(function(){w.nd(i);var e=w.Xc().$implicit;return w.Xc().doDestroy(e.id)})),w.Nc(1,"mat-icon"),w.xd(2,"delete"),w.Mc(),w.Mc()}if(2&e){var r=w.Xc(2);w.dd("matTooltip",r.i18n("common.destroy"))}}var Ae=function(e){return["/user",e]};function Ke(e,t){if(1&e&&(w.Nc(0,"td",16),w.Nc(1,"button",25),w.Nc(2,"mat-icon"),w.xd(3,"search"),w.Mc(),w.Mc(),w.wd(4,Be,3,4,"button",26),w.wd(5,Ee,3,1,"button",27),w.Mc()),2&e){var i=t.$implicit,r=w.Xc();w.wc(1),w.dd("routerLink",w.gd(4,Ae,i.id))("matTooltip",r.i18n("common.view")),w.wc(3),w.dd("ngIf",r.hasPermissionToEdit),w.wc(1),w.dd("ngIf",r.hasPermissionToDestroy)}}function _e(e,t){1&e&&w.Ic(0,"tr",29)}function qe(e,t){1&e&&w.Ic(0,"tr",30)}function Ge(e,t){1&e&&(w.Nc(0,"div",31),w.Ic(1,"app-i18n",32),w.Mc())}function $e(e,t){1&e&&(w.Nc(0,"div",31),w.Ic(1,"app-i18n",33),w.Mc())}var Ue,Qe,Je,Ve=function(){return[10,20,30,40]},Ze=((Je=function(){function e(t,i,r,a){n(this,e),this.service=t,this.userService=i,this.destroyService=r,this.confirmService=a}return c(e,[{key:"presenter",value:function(e,t){return m.a.presenter(e,t)}},{key:"roleDescriptionOf",value:function(e){return he.a.descriptionOf(e)}},{key:"roleLabelOf",value:function(e){return he.a.labelOf(e)}},{key:"i18n",value:function(e){return Object(v.d)(e)}},{key:"doDestroy",value:function(e){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.confirmService.confirm();case 2:if(!t.sent){t.next=4;break}return t.abrupt("return",this.destroyService.doDestroy(e));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"hasPermissionToEdit",get:function(){return this.userService.hasPermissionToEdit}},{key:"hasPermissionToDestroy",get:function(){return this.userService.hasPermissionToDestroy}},{key:"fields",get:function(){return m.a.fields}},{key:"columns",get:function(){return["_select",this.fields.avatars.name,this.fields.email.name,this.fields.fullName.name,this.fields.roles.name,this.fields.status.name,"_actions"]}}]),e}()).\u0275fac=function(e){return new(e||Je)(w.Hc(J),w.Hc(V.a),w.Hc(Y),w.Hc(ve.a))},Je.\u0275cmp=w.Bc({type:Je,selectors:[["app-user-list-table"]],decls:28,vars:18,consts:[[1,"table-responsive"],["mat-table","","matSort","",2,"width","100%",3,"dataSource","matSortActive","matSortDirection","matSortChange"],["matColumnDef","_select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["style","padding-top: 8px; padding-bottom: 8px;","mat-cell","",4,"matCellDef"],["matColumnDef","_actions"],["style","width: 120px; text-align: right;","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-table-message",4,"ngIf"],["showFirstLastButtons","",3,"disabled","pageIndex","pageSize","pageSizeOptions","length","page"],["mat-header-cell",""],[3,"rows","selectedKeys"],["mat-cell",""],[3,"row","selectedKeys"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",2,"padding-top","8px","padding-bottom","8px"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],[3,"ngClass"],["mat-header-cell","",2,"width","120px","text-align","right"],["mat-icon-button","","type","button","color","primary",3,"routerLink","matTooltip"],["mat-icon-button","","type","button","color","primary",3,"routerLink","matTooltip",4,"ngIf"],["mat-icon-button","","type","button","color","primary",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","type","button","color","primary",3,"matTooltip","click"],["mat-header-row",""],["mat-row",""],[1,"mat-table-message"],["key","table.noData"],["key","table.loading"]],template:function(e,t){1&e&&(w.Nc(0,"div",0),w.Nc(1,"table",1),w.Tc("matSortChange",(function(e){return t.service.doChangeSort(e)})),w.Lc(2,2),w.wd(3,Ie,2,2,"th",3),w.wd(4,Ne,2,2,"td",4),w.Kc(),w.Lc(5,5),w.wd(6,Se,2,1,"th",3),w.wd(7,Me,2,1,"td",4),w.Kc(),w.Lc(8,5),w.wd(9,Le,2,1,"th",6),w.wd(10,Oe,2,1,"td",4),w.Kc(),w.Lc(11,5),w.wd(12,Re,2,1,"th",6),w.wd(13,Te,2,1,"td",4),w.Kc(),w.Lc(14,5),w.wd(15,je,2,1,"th",3),w.wd(16,Pe,2,1,"td",7),w.Kc(),w.Lc(17,5),w.wd(18,Ce,2,1,"th",6),w.wd(19,Xe,3,6,"td",4),w.Kc(),w.Lc(20,8),w.wd(21,He,1,0,"th",9),w.wd(22,Ke,6,6,"td",4),w.Kc(),w.wd(23,_e,1,0,"tr",10),w.wd(24,qe,1,0,"tr",11),w.Mc(),w.wd(25,Ge,2,0,"div",12),w.wd(26,$e,2,0,"div",12),w.Mc(),w.Nc(27,"mat-paginator",13),w.Tc("page",(function(e){return t.service.doChangePagination(e)})),w.Mc()),2&e&&(w.wc(1),w.dd("dataSource",t.service.rows)("matSortActive",t.service.sorter.columnKey)("matSortDirection",t.service.sorter.order),w.wc(4),w.dd("matColumnDef",t.fields.avatars.name),w.wc(3),w.dd("matColumnDef",t.fields.email.name),w.wc(3),w.dd("matColumnDef",t.fields.fullName.name),w.wc(3),w.dd("matColumnDef",t.fields.roles.name),w.wc(3),w.dd("matColumnDef",t.fields.status.name),w.wc(6),w.dd("matHeaderRowDef",t.columns),w.wc(1),w.dd("matRowDefColumns",t.columns),w.wc(1),w.dd("ngIf",!t.service.loading&&!t.service.count),w.wc(1),w.dd("ngIf",t.service.loading),w.wc(1),w.dd("disabled",t.service.loading)("pageIndex",t.service.paginationPageIndex)("pageSize",t.service.paginationPageSize)("pageSizeOptions",w.fd(17,Ve))("length",t.service.count))},directives:[ge.j,be.a,ge.c,ge.e,ge.b,ge.g,ge.i,S.k,we.a,ge.d,ye.a,ge.a,ke.a,xe.a,be.b,S.j,W.a,S.i,j.b,d.c,D.a,ge.f,ge.h,N.a],encapsulation:2}),Je),Ye=((Qe=function(){function e(t){n(this,e),this.authService=t,this.breadcrumb=[[Object(v.d)("dashboard.menu")],[Object(v.d)("user.menu")]]}return c(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Qe)(w.Hc(b.a))},Qe.\u0275cmp=w.Bc({type:Qe,selectors:[["app-user-list"]],decls:7,vars:1,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","user.title"]],template:function(e,t){1&e&&(w.Ic(0,"app-breadcrumb",0),w.Nc(1,"div",1),w.Nc(2,"h1",2),w.Ic(3,"app-i18n",3),w.Mc(),w.Ic(4,"app-user-list-toolbar"),w.Ic(5,"app-user-list-filter"),w.Ic(6,"app-user-list-table"),w.Mc()),2&e&&w.dd("items",t.breadcrumb)},directives:[I.a,N.a,oe,pe,Ze],encapsulation:2}),Qe),We=((Ue=function(){function e(t,i){n(this,e),this.errorService=t,this.router=i,this.loading=!1,this.user=null}return c(e,[{key:"doFind",value:function(e){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.user=null,this.loading=!0,t.next=5,p.a.find(e);case 5:this.user=t.sent,this.loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),this.errorService.handle(t.t0),this.user=null,this.loading=!1,this.router.navigate(["/user"]);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})))}}]),e}()).\u0275fac=function(e){return new(e||Ue)(w.Rc(h.a),w.Rc(d.b))},Ue.\u0275prov=w.Dc({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue),et=function(e){return["/user",e,"edit"]};function tt(e,t){if(1&e&&(w.Nc(0,"button",3),w.Ic(1,"mat-icon",4),w.xd(2,"\xa0 "),w.Ic(3,"app-i18n",5),w.Mc()),2&e){var i=w.Xc();w.dd("routerLink",w.gd(1,et,i.record.id))}}var it=function(){return["/audit-log"]},rt=function(e){return{entityId:e}};function nt(e,t){if(1&e&&(w.Nc(0,"button",6),w.Ic(1,"mat-icon",7),w.xd(2,"\xa0 "),w.Ic(3,"app-i18n",8),w.Mc()),2&e){var i=w.Xc();w.dd("routerLink",w.fd(2,it))("queryParams",w.gd(3,rt,i.record.id))}}var at=function(e){return{createdByEmail:e}};function ct(e,t){if(1&e&&(w.Nc(0,"button",6),w.Ic(1,"mat-icon",9),w.xd(2,"\xa0 "),w.Ic(3,"app-i18n",10),w.Mc()),2&e){var i=w.Xc();w.dd("routerLink",w.fd(2,it))("queryParams",w.gd(3,at,i.record.email))}}var ot,st=((ot=function(){function e(t,i,r){n(this,e),this.service=t,this.userService=i,this.auditLogService=r}return c(e,[{key:"hasPermissionToEdit",get:function(){return this.userService.hasPermissionToEdit}},{key:"hasPermissionToImport",get:function(){return this.userService.hasPermissionToImport}},{key:"hasPermissionToAuditLogs",get:function(){return this.auditLogService.hasPermissionToRead}},{key:"record",get:function(){return this.service.user}}]),e}()).\u0275fac=function(e){return new(e||ot)(w.Hc(We),w.Hc(V.a),w.Hc(Z.a))},ot.\u0275cmp=w.Bc({type:ot,selectors:[["app-user-view-toolbar"]],decls:4,vars:3,consts:[[1,"app-page-toolbar"],["mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],["mat-flat-button","","color","primary",3,"routerLink","queryParams",4,"ngIf"],["mat-raised-button","","color","primary",3,"routerLink"],["inline","","fontSet","far","fontIcon","fa-edit"],["key","common.edit"],["mat-flat-button","","color","primary",3,"routerLink","queryParams"],["inline","","fontSet","fas","fontIcon","fa-history"],["key","auditLog.menu"],["inline","","fontSet","far","fontIcon","fa-eye"],["key","user.view.activity"]],template:function(e,t){1&e&&(w.Nc(0,"div",0),w.wd(1,tt,4,3,"button",1),w.wd(2,nt,4,5,"button",2),w.wd(3,ct,4,5,"button",2),w.Mc()),2&e&&(w.wc(1),w.dd("ngIf",t.record&&t.hasPermissionToEdit),w.wc(1),w.dd("ngIf",t.record&&t.hasPermissionToAuditLogs),w.wc(1),w.dd("ngIf",t.record&&t.hasPermissionToAuditLogs))},directives:[S.k,j.b,d.c,D.a,N.a],encapsulation:2}),ot),dt=a("2xaH"),ut=a("XG4R");function lt(e,t){if(1&e&&(w.Nc(0,"div",1),w.Nc(1,"div",2),w.xd(2),w.Mc(),w.bd(3),w.Mc()),2&e){var i=w.Xc();w.wc(2),w.zd(" ",i.label," ")}}var ft,mt=["*"],pt=((ft=function(){function e(){n(this,e)}return c(e,[{key:"isEmpty",get:function(){return!this.value&&0!==this.value&&!1!==this.value||Array.isArray(this.value)&&!this.value.length}}]),e}()).\u0275fac=function(e){return new(e||ft)},ft.\u0275cmp=w.Bc({type:ft,selectors:[["app-view-item-custom"]],inputs:{label:"label",value:"value"},ngContentSelectors:mt,decls:1,vars:1,consts:[["class","view-item",4,"ngIf"],[1,"view-item"],[1,"view-item--label"]],template:function(e,t){1&e&&(w.cd(),w.wd(0,lt,4,1,"div",0)),2&e&&w.dd("ngIf",!t.isEmpty)},directives:[S.k],encapsulation:2}),ft);function ht(e,t){1&e&&(w.Nc(0,"div",6),w.Ic(1,"mat-spinner",7),w.Mc())}function vt(e,t){if(1&e&&(w.Nc(0,"span",15),w.xd(1),w.Ic(2,"br"),w.Mc()),2&e){var i=t.$implicit,r=w.Xc(2);w.dd("matTooltip",r.roleDescriptionOf(i)),w.wc(1),w.zd(" ",r.roleLabelOf(i)," ")}}var gt=function(e,t,i){return{"text-green":e,"text-yellow":t,"text-red":i}};function bt(e,t){if(1&e&&(w.Nc(0,"div"),w.Nc(1,"div",8),w.Nc(2,"div",9),w.Ic(3,"app-view-item-text",10),w.Ic(4,"app-view-item-text",10),w.Ic(5,"app-view-item-text",10),w.Ic(6,"app-view-item-text",11),w.Ic(7,"app-view-item-images",10),w.Mc(),w.Nc(8,"div",12),w.Nc(9,"app-view-item-custom",10),w.Nc(10,"strong",13),w.xd(11),w.Mc(),w.Mc(),w.Nc(12,"app-view-item-custom",10),w.wd(13,vt,3,2,"span",14),w.Mc(),w.Mc(),w.Mc(),w.Mc()),2&e){var i=w.Xc();w.wc(3),w.dd("label",i.fields.email.label)("value",i.presenter(i.record,"email")),w.wc(1),w.dd("label",i.fields.firstName.label)("value",i.presenter(i.record,"firstName")),w.wc(1),w.dd("label",i.fields.lastName.label)("value",i.presenter(i.record,"lastName")),w.wc(1),w.dd("label",i.fields.phoneNumber.label)("value",i.presenter(i.record,"phoneNumber")),w.wc(1),w.dd("label",i.fields.avatars.label)("value",i.presenter(i.record,"avatars")),w.wc(2),w.dd("label",i.fields.status.label)("value",i.presenter(i.record,"status")),w.wc(1),w.dd("ngClass",w.id(17,gt,"active"===i.record[i.fields.status.name],"invited"===i.record[i.fields.status.name],"empty-permissions"===i.record[i.fields.status.name])),w.wc(1),w.zd("",i.presenter(i.record,"status")," "),w.wc(1),w.dd("label",i.fields.roles.label)("value",i.record.roles),w.wc(1),w.dd("ngForOf",i.record.roles)}}var wt,yt,kt,xt,It,Nt=((wt=function(){function e(t,i,r){n(this,e),this.service=t,this.route=i,this.authService=r,this.breadcrumb=[[Object(v.d)("dashboard.menu")],[Object(v.d)("user.menu"),"/user"],[Object(v.d)("user.view.title")]]}return c(e,[{key:"ngOnInit",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.doFind(this.route.snapshot.paramMap.get("id"));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"presenter",value:function(e,t){return m.a.presenter(e,t)}},{key:"roleDescriptionOf",value:function(e){return he.a.descriptionOf(e)}},{key:"roleLabelOf",value:function(e){return he.a.labelOf(e)}},{key:"fields",get:function(){return m.a.fields}},{key:"loading",get:function(){return this.service.loading}},{key:"record",get:function(){return this.service.user}}]),e}()).\u0275fac=function(e){return new(e||wt)(w.Hc(We),w.Hc(d.a),w.Hc(b.a))},wt.\u0275cmp=w.Bc({type:wt,selectors:[["app-user-view"]],decls:7,vars:3,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","user.view.title"],["class","app-page-spinner",4,"ngIf"],[4,"ngIf"],[1,"app-page-spinner"],["color","accent"],[1,"row"],[1,"col-md-8"],[3,"label","value"],["prefix","+",3,"label","value"],[1,"col-md-4"],[3,"ngClass"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"]],template:function(e,t){1&e&&(w.Ic(0,"app-breadcrumb",0),w.Nc(1,"div",1),w.Nc(2,"h1",2),w.Ic(3,"app-i18n",3),w.Mc(),w.Ic(4,"app-user-view-toolbar"),w.wd(5,ht,2,0,"div",4),w.wd(6,bt,14,21,"div",5),w.Mc()),2&e&&(w.dd("items",t.breadcrumb),w.wc(5),w.dd("ngIf",t.loading),w.wc(1),w.dd("ngIf",!t.loading))},directives:[I.a,N.a,st,S.k,M.b,dt.a,ut.a,pt,S.i,S.j,W.a],encapsulation:2}),wt),St=a("uswQ"),Mt=a("mmyZ"),Lt=a("z7xO"),Ot=[{path:"",component:St.a,children:[{path:":id/edit",component:K,canActivate:[u.a,l.a],data:{permission:Mt.a.values.userEdit}},{path:"new",component:(yt=function(){function e(t,i,r){n(this,e),this.service=t,this.router=i,this.authService=r,this.breadcrumb=[[Object(v.d)("dashboard.menu")],[Object(v.d)("user.title"),"/user"],[Object(v.d)("user.new.title")]]}return c(e,[{key:"ngOnInit",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.service.doInit());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"doSave",value:function(e){return this.service.doAdd(e.values)}},{key:"doCancel",value:function(){this.router.navigate(["/user"])}},{key:"saveLoading",get:function(){return this.service.saveLoading}}]),e}(),yt.\u0275fac=function(e){return new(e||yt)(w.Hc(y),w.Hc(d.b),w.Hc(b.a))},yt.\u0275cmp=w.Bc({type:yt,selectors:[["app-user-new-form-page"]],decls:5,vars:3,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","user.new.title"],[3,"saveLoading","modal","save","cancel"]],template:function(e,t){1&e&&(w.Ic(0,"app-breadcrumb",0),w.Nc(1,"div",1),w.Nc(2,"h1",2),w.Ic(3,"app-i18n",3),w.Mc(),w.Nc(4,"app-user-new-form",4),w.Tc("save",(function(e){return t.doSave(e)}))("cancel",(function(){return t.doCancel()})),w.Mc(),w.Mc()),2&e&&(w.dd("items",t.breadcrumb),w.wc(4),w.dd("saveLoading",t.saveLoading)("modal",!1))},directives:[I.a,N.a,Lt.a],encapsulation:2}),yt),canActivate:[u.a,l.a],data:{permission:Mt.a.values.userCreate}},{path:"import",component:q,canActivate:[u.a,l.a],data:{permission:Mt.a.values.userImport}},{path:":id",component:Nt,canActivate:[u.a,l.a],data:{permission:Mt.a.values.userRead}},{path:"",component:Ye,canActivate:[u.a,l.a],data:{permission:Mt.a.values.userRead}}]}],Rt=((kt=function e(){n(this,e)}).\u0275mod=w.Fc({type:kt}),kt.\u0275inj=w.Ec({factory:function(e){return new(e||kt)},providers:[],imports:[[d.f.forChild(Ot)],d.f]}),kt),Tt=a("PCNd"),jt=a("jSGM"),Dt=m.a.fields,Pt=[Dt.email,Dt.rolesRequired],Ct=((xt=function(i){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&e(t,i)}(a,i);var r=t(a);function a(e){return n(this,a),r.call(this,e,p.a.import,Pt,Object(v.d)("user.importer.fileName"),Object(v.d)("user.importer.hint"))}return a}(jt.a)).\u0275fac=function(e){return new(e||xt)(w.Rc(h.a))},xt.\u0275prov=w.Dc({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt),Ft=a("t9Rf"),Xt=((It=function e(){n(this,e)}).\u0275mod=w.Fc({type:It}),It.\u0275inj=w.Ec({factory:function(e){return new(e||It)},providers:[{provide:jt.a,useClass:Ct}],imports:[[Tt.a,Rt,s.a,Ft.a]]}),It)}}])}();