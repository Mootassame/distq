(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{sBQd:function(t,e,i){"use strict";i.r(e),i.d(e,"ActivityModule",(function(){return ee}));var c=i("Tx//"),n=i("tyNb"),o=i("P+IX"),a=i("uswQ"),r=i("ogYm"),s=i("mmyZ"),d=i("Vbab"),l=i("qXBG"),u=i("fXoL"),m=i("APW9"),p=i("UDmo"),f=i("mrSG"),v=i("6PRp"),h=i("Ubsb"),b=i("6SvT"),g=i("t7ZL"),y=i("HnX7"),w=i("ofXK"),I=i("bTqV"),S=i("Qu3c"),N=i("NFeN");function M(t,e){1&t&&(u.Nc(0,"button",7),u.Ic(1,"mat-icon",8),u.xd(2,"\xa0 "),u.Ic(3,"app-i18n",9),u.Mc()),2&t&&u.dd("routerLink","/activity/new")}function k(t,e){1&t&&(u.Nc(0,"button",7),u.Ic(1,"mat-icon",10),u.xd(2,"\xa0 "),u.Ic(3,"app-i18n",11),u.Mc()),2&t&&u.dd("routerLink","/activity/import")}function T(t,e){if(1&t){const t=u.Oc();u.Nc(0,"span",12),u.Nc(1,"button",13),u.Tc("click",(function(){return u.nd(t),u.Xc().doDestroyAllSelected()})),u.Ic(2,"mat-icon",14),u.xd(3,"\xa0 "),u.Ic(4,"app-i18n",15),u.Mc(),u.Mc()}if(2&t){const t=u.Xc();u.dd("matTooltip",t.destroyButtonTooltip),u.wc(1),u.dd("disabled",t.destroyButtonDisabled)}}const L=function(){return["/audit-log"]},x=function(){return{entityNames:"activity"}};function D(t,e){1&t&&(u.Nc(0,"button",16),u.Ic(1,"mat-icon",17),u.xd(2,"\xa0 "),u.Ic(3,"app-i18n",18),u.Mc()),2&t&&u.dd("routerLink",u.fd(2,L))("queryParams",u.fd(3,x))}let P=(()=>{class t{constructor(t,e,i,c,n){this.service=t,this.activityService=e,this.destroyService=i,this.auditLogService=c,this.confirmService=n}get destroyButtonDisabled(){return this.service.selectedKeys.isEmpty()||this.service.loading||this.destroyService.loading}get destroyButtonTooltip(){if(this.service.selectedKeys.isEmpty()||this.service.loading)return Object(d.d)("common.mustSelectARow")}doDestroyAllSelected(){return Object(f.a)(this,void 0,void 0,(function*(){if(yield this.confirmService.confirm())return this.destroyService.doDestroyAll(this.service.selectedKeys.selected)}))}get hasPermissionToAuditLogs(){return this.auditLogService.hasPermissionToRead}get hasPermissionToCreate(){return this.activityService.hasPermissionToCreate}get hasPermissionToDestroy(){return this.activityService.hasPermissionToDestroy}get hasPermissionToEdit(){return this.activityService.hasPermissionToEdit}get hasPermissionToImport(){return this.activityService.hasPermissionToImport}doExport(){return this.service.doExport()}get exportButtonDisabled(){return!this.service.hasRows||this.service.loading||this.service.exportLoading}get exportButtonTooltip(){if(!this.service.hasRows||this.service.loading)return Object(d.d)("common.noDataToExport")}}return t.\u0275fac=function(e){return new(e||t)(u.Hc(v.a),u.Hc(h.a),u.Hc(y.a),u.Hc(b.a),u.Hc(g.a))},t.\u0275cmp=u.Bc({type:t,selectors:[["app-activity-list-toolbar"]],decls:9,vars:6,consts:[[1,"app-page-toolbar"],["mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],[3,"matTooltip",4,"ngIf"],["mat-flat-button","",3,"routerLink","queryParams",4,"ngIf"],["mat-flat-button","",3,"disabled","matTooltip","click"],["inline","","fontSet","far","fontIcon","fa-file-excel"],["key","common.export"],["mat-raised-button","","color","primary",3,"routerLink"],["fontSet","fas","fontIcon","fa-plus","inline",""],["key","common.new"],["inline","","fontSet","fas","fontIcon","fa-file-import"],["key","common.import"],[3,"matTooltip"],["mat-raised-button","","color","primary",3,"disabled","click"],["inline","","fontSet","far","fontIcon","fa-trash-alt"],["key","common.destroy"],["mat-flat-button","",3,"routerLink","queryParams"],["inline","","fontSet","fas","fontIcon","fa-history"],["key","auditLog.menu"]],template:function(t,e){1&t&&(u.Nc(0,"div",0),u.wd(1,M,4,1,"button",1),u.wd(2,k,4,1,"button",1),u.wd(3,T,5,2,"span",2),u.wd(4,D,4,4,"button",3),u.Nc(5,"button",4),u.Tc("click",(function(){return e.doExport()})),u.Ic(6,"mat-icon",5),u.xd(7,"\xa0 "),u.Ic(8,"app-i18n",6),u.Mc(),u.Mc()),2&t&&(u.wc(1),u.dd("ngIf",e.hasPermissionToCreate),u.wc(1),u.dd("ngIf",e.hasPermissionToImport),u.wc(1),u.dd("ngIf",e.hasPermissionToDestroy),u.wc(1),u.dd("ngIf",e.hasPermissionToAuditLogs),u.wc(1),u.dd("disabled",e.exportButtonDisabled)("matTooltip",e.exportButtonTooltip))},directives:[w.k,I.b,S.a,N.a,p.a,n.c],encapsulation:2}),t})();var O=i("6qfu"),X=i("XGOh"),j=i("3Pt+"),C=i("cscj"),H=i("kmnG"),E=i("qFsG"),R=i("vFJ8");function B(t,e){if(1&t){const t=u.Oc();u.Nc(0,"form",3,4),u.Tc("ngSubmit",(function(){return u.nd(t),u.Xc().doFilter()})),u.Nc(2,"div",5),u.Nc(3,"div",6),u.Nc(4,"mat-form-field",7),u.Nc(5,"mat-label"),u.xd(6),u.Mc(),u.Ic(7,"input",8),u.Nc(8,"mat-error"),u.Ic(9,"app-validations",9),u.Mc(),u.Mc(),u.Mc(),u.Nc(10,"div",6),u.Nc(11,"mat-form-field",7),u.Nc(12,"mat-label"),u.xd(13),u.Mc(),u.Ic(14,"input",8),u.Nc(15,"mat-error"),u.Ic(16,"app-validations",9),u.Mc(),u.Mc(),u.Mc(),u.Mc(),u.Nc(17,"div",10),u.Nc(18,"button",11),u.Ic(19,"mat-icon",12),u.xd(20,"\xa0 "),u.Ic(21,"app-i18n",13),u.Mc(),u.Nc(22,"button",14),u.Tc("click",(function(){return u.nd(t),u.Xc().doReset()})),u.Ic(23,"mat-icon",15),u.xd(24,"\xa0 "),u.Ic(25,"app-i18n",16),u.Mc(),u.Mc(),u.Mc()}if(2&t){const t=u.Xc();u.dd("formGroup",t.form),u.wc(6),u.yd(t.fields.comment.label),u.wc(1),u.dd("formControlName",t.fields.comment.name),u.wc(2),u.dd("control",t.form.get(t.fields.comment.name))("label",t.fields.comment.label),u.wc(4),u.yd(t.fields.position.label),u.wc(1),u.dd("formControlName",t.fields.position.name),u.wc(2),u.dd("control",t.form.get(t.fields.position.name))("label",t.fields.position.label),u.wc(2),u.dd("disabled",t.loading),u.wc(4),u.dd("disabled",t.loading)}}let F=(()=>{class t{constructor(t,e,i){this.service=t,this.formBuilder=e,this.route=i,this.expanded=!1}ngOnInit(){return Object(f.a)(this,void 0,void 0,(function*(){this.buildSchema(),this.buildForm(),this.doFilter()}))}get fields(){return X.a.fields}get loading(){return this.service.loading}doToggleExpanded(){this.expanded=!this.expanded}doFilter(){if(!this.form.valid)return;this.expanded=!1;const t=this.schema.cast(this.form.value);return this.service.doFetch(t)}buildForm(){const{filter:t}=this.service;this.form=this.schema.buildForm(t,this.route.snapshot.queryParams)}doReset(){this.form=this.schema.buildForm(),this.doFilter(),this.expanded=!1}buildSchema(){this.schema=new O.a([this.fields.comment,this.fields.position],this.formBuilder)}}return t.\u0275fac=function(e){return new(e||t)(u.Hc(v.a),u.Hc(j.d),u.Hc(n.a))},t.\u0275cmp=u.Bc({type:t,selectors:[["app-activity-list-filter"]],decls:3,vars:4,consts:[[1,"filter"],[3,"values","fields","expanded","click"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["ngForm","ngForm"],[1,"row"],[1,"col-xs-12","col-lg-6"],["floatLabel","always","appearance","outline"],["matInput","",3,"formControlName"],[3,"control","label"],[1,"filter-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["inline","","fontSet","fas","fontIcon","fa-search"],["key","common.search"],["mat-flat-button","","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-undo"],["key","common.reset"]],template:function(t,e){1&t&&(u.Nc(0,"div",0),u.Nc(1,"app-filter-preview",1),u.Tc("click",(function(){return e.doToggleExpanded()})),u.Mc(),u.wd(2,B,26,11,"form",2),u.Mc()),2&t&&(u.wc(1),u.dd("values",e.form.value)("fields",e.fields)("expanded",e.expanded),u.wc(1),u.dd("ngIf",e.form&&e.expanded))},directives:[C.a,w.k,j.s,j.n,j.h,H.c,H.f,E.b,j.c,j.m,j.g,H.b,R.a,I.b,N.a,p.a],encapsulation:2}),t})();var K=i("+0xr"),A=i("Dh3D"),z=i("M9IT"),q=i("9Zza"),G=i("n9IN"),$=i("S7/7"),Q=i("qvmF");function U(t,e){if(1&t&&(u.Nc(0,"th",13),u.Ic(1,"app-table-th-checkbox",14),u.Mc()),2&t){const t=u.Xc();u.wc(1),u.dd("rows",t.service.rows)("selectedKeys",t.service.selectedKeys)}}function _(t,e){if(1&t&&(u.Nc(0,"td",15),u.Ic(1,"app-table-td-checkbox",16),u.Mc()),2&t){const t=e.$implicit,i=u.Xc();u.wc(1),u.dd("row",t)("selectedKeys",i.service.selectedKeys)}}function J(t,e){if(1&t&&(u.Nc(0,"th",17),u.xd(1),u.Mc()),2&t){const t=u.Xc();u.wc(1),u.zd(" ",t.fields.comment.label," ")}}function Z(t,e){if(1&t&&(u.Nc(0,"td",15),u.xd(1),u.Mc()),2&t){const t=e.$implicit,i=u.Xc();u.wc(1),u.zd(" ",i.presenter(t,"comment")," ")}}function V(t,e){if(1&t&&(u.Nc(0,"th",13),u.xd(1),u.Mc()),2&t){const t=u.Xc();u.wc(1),u.zd(" ",t.fields.images.label," ")}}function W(t,e){if(1&t&&(u.Nc(0,"td",15),u.Ic(1,"app-table-item-images",18),u.Mc()),2&t){const t=e.$implicit,i=u.Xc();u.wc(1),u.dd("value",i.presenter(t,"images"))}}function Y(t,e){if(1&t&&(u.Nc(0,"th",13),u.xd(1),u.Mc()),2&t){const t=u.Xc();u.wc(1),u.zd(" ",t.fields.audio.label," ")}}function tt(t,e){if(1&t&&(u.Nc(0,"td",15),u.Ic(1,"app-table-item-files",18),u.Mc()),2&t){const t=e.$implicit,i=u.Xc();u.wc(1),u.dd("value",i.presenter(t,"audio"))}}function et(t,e){if(1&t&&(u.Nc(0,"th",13),u.xd(1),u.Mc()),2&t){const t=u.Xc();u.wc(1),u.zd(" ",t.fields.documents.label," ")}}function it(t,e){if(1&t&&(u.Nc(0,"td",15),u.Ic(1,"app-table-item-files",18),u.Mc()),2&t){const t=e.$implicit,i=u.Xc();u.wc(1),u.dd("value",i.presenter(t,"documents"))}}function ct(t,e){if(1&t&&(u.Nc(0,"th",13),u.xd(1),u.Mc()),2&t){const t=u.Xc();u.wc(1),u.zd(" ",t.fields.video.label," ")}}function nt(t,e){if(1&t&&(u.Nc(0,"td",15),u.Ic(1,"app-table-item-files",18),u.Mc()),2&t){const t=e.$implicit,i=u.Xc();u.wc(1),u.dd("value",i.presenter(t,"video"))}}function ot(t,e){if(1&t&&(u.Nc(0,"th",17),u.xd(1),u.Mc()),2&t){const t=u.Xc();u.wc(1),u.zd(" ",t.fields.position.label," ")}}function at(t,e){if(1&t&&(u.Nc(0,"td",15),u.xd(1),u.Mc()),2&t){const t=e.$implicit,i=u.Xc();u.wc(1),u.zd(" ",i.presenter(t,"position")," ")}}function rt(t,e){1&t&&u.Ic(0,"th",13)}const st=function(t){return["/activity",t,"edit"]};function dt(t,e){if(1&t&&(u.Nc(0,"button",20),u.Nc(1,"mat-icon"),u.xd(2,"edit"),u.Mc(),u.Mc()),2&t){const t=u.Xc().$implicit,e=u.Xc();u.dd("routerLink",u.gd(2,st,t.id))("matTooltip",e.i18n("common.edit"))}}function lt(t,e){if(1&t){const t=u.Oc();u.Nc(0,"button",23),u.Tc("click",(function(){u.nd(t);const e=u.Xc().$implicit;return u.Xc().doDestroy(e.id)})),u.Nc(1,"mat-icon"),u.xd(2,"delete"),u.Mc(),u.Mc()}if(2&t){const t=u.Xc(2);u.dd("matTooltip",t.i18n("common.destroy"))}}const ut=function(t){return["/activity",t]};function mt(t,e){if(1&t&&(u.Nc(0,"td",19),u.Nc(1,"button",20),u.Nc(2,"mat-icon"),u.xd(3,"search"),u.Mc(),u.Mc(),u.wd(4,dt,3,4,"button",21),u.wd(5,lt,3,1,"button",22),u.Mc()),2&t){const t=e.$implicit,i=u.Xc();u.wc(1),u.dd("routerLink",u.gd(4,ut,t.id))("matTooltip",i.i18n("common.view")),u.wc(3),u.dd("ngIf",i.hasPermissionToEdit),u.wc(1),u.dd("ngIf",i.hasPermissionToDestroy)}}function pt(t,e){1&t&&u.Ic(0,"tr",24)}function ft(t,e){1&t&&u.Ic(0,"tr",25)}function vt(t,e){1&t&&(u.Nc(0,"div",26),u.Ic(1,"app-i18n",27),u.Mc())}function ht(t,e){1&t&&(u.Nc(0,"div",26),u.Ic(1,"app-i18n",28),u.Mc())}const bt=function(){return[10,20,30,40]};let gt=(()=>{class t{constructor(t,e,i,c){this.service=t,this.destroyService=e,this.activityService=i,this.confirmService=c}presenter(t,e){return X.a.presenter(t,e)}i18n(t){return Object(d.d)(t)}doDestroy(t){return Object(f.a)(this,void 0,void 0,(function*(){if(yield this.confirmService.confirm())return this.destroyService.doDestroy(t)}))}get hasPermissionToEdit(){return this.activityService.hasPermissionToEdit}get hasPermissionToDestroy(){return this.activityService.hasPermissionToDestroy}get fields(){return X.a.fields}get columns(){return["_select",this.fields.comment.name,this.fields.images.name,this.fields.audio.name,this.fields.documents.name,this.fields.video.name,this.fields.position.name,"_actions"]}}return t.\u0275fac=function(e){return new(e||t)(u.Hc(v.a),u.Hc(y.a),u.Hc(h.a),u.Hc(g.a))},t.\u0275cmp=u.Bc({type:t,selectors:[["app-activity-list-table"]],decls:31,vars:19,consts:[[1,"table-responsive"],["mat-table","","matSort","",2,"width","100%",3,"dataSource","matSortActive","matSortDirection","matSortChange"],["matColumnDef","_select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","_actions"],["style","width: 180px; text-align: right;","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-table-message",4,"ngIf"],["showFirstLastButtons","",3,"disabled","pageIndex","pageSize","pageSizeOptions","length","page"],["mat-header-cell",""],[3,"rows","selectedKeys"],["mat-cell",""],[3,"row","selectedKeys"],["mat-header-cell","","mat-sort-header",""],[3,"value"],["mat-cell","",2,"width","180px","text-align","right"],["mat-icon-button","","type","button","color","primary",3,"routerLink","matTooltip"],["mat-icon-button","","type","button","color","primary",3,"routerLink","matTooltip",4,"ngIf"],["mat-icon-button","","type","button","color","primary",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","type","button","color","primary",3,"matTooltip","click"],["mat-header-row",""],["mat-row",""],[1,"mat-table-message"],["key","table.noData"],["key","table.loading"]],template:function(t,e){1&t&&(u.Nc(0,"div",0),u.Nc(1,"table",1),u.Tc("matSortChange",(function(t){return e.service.doChangeSort(t)})),u.Lc(2,2),u.wd(3,U,2,2,"th",3),u.wd(4,_,2,2,"td",4),u.Kc(),u.Lc(5,5),u.wd(6,J,2,1,"th",6),u.wd(7,Z,2,1,"td",4),u.Kc(),u.Lc(8,5),u.wd(9,V,2,1,"th",3),u.wd(10,W,2,1,"td",4),u.Kc(),u.Lc(11,5),u.wd(12,Y,2,1,"th",3),u.wd(13,tt,2,1,"td",4),u.Kc(),u.Lc(14,5),u.wd(15,et,2,1,"th",3),u.wd(16,it,2,1,"td",4),u.Kc(),u.Lc(17,5),u.wd(18,ct,2,1,"th",3),u.wd(19,nt,2,1,"td",4),u.Kc(),u.Lc(20,5),u.wd(21,ot,2,1,"th",6),u.wd(22,at,2,1,"td",4),u.Kc(),u.Lc(23,7),u.wd(24,rt,1,0,"th",3),u.wd(25,mt,6,6,"td",8),u.Kc(),u.wd(26,pt,1,0,"tr",9),u.wd(27,ft,1,0,"tr",10),u.Mc(),u.wd(28,vt,2,0,"div",11),u.wd(29,ht,2,0,"div",11),u.Mc(),u.Nc(30,"mat-paginator",12),u.Tc("page",(function(t){return e.service.doChangePagination(t)})),u.Mc()),2&t&&(u.wc(1),u.dd("dataSource",e.service.rows)("matSortActive",e.service.sorter.columnKey)("matSortDirection",e.service.sorter.order),u.wc(4),u.dd("matColumnDef",e.fields.comment.name),u.wc(3),u.dd("matColumnDef",e.fields.images.name),u.wc(3),u.dd("matColumnDef",e.fields.audio.name),u.wc(3),u.dd("matColumnDef",e.fields.documents.name),u.wc(3),u.dd("matColumnDef",e.fields.video.name),u.wc(3),u.dd("matColumnDef",e.fields.position.name),u.wc(6),u.dd("matHeaderRowDef",e.columns),u.wc(1),u.dd("matRowDefColumns",e.columns),u.wc(1),u.dd("ngIf",!e.service.loading&&!e.service.count),u.wc(1),u.dd("ngIf",e.service.loading),u.wc(1),u.dd("disabled",e.service.loading)("pageIndex",e.service.paginationPageIndex)("pageSize",e.service.paginationPageSize)("pageSizeOptions",u.fd(18,bt))("length",e.service.count))},directives:[K.j,A.a,K.c,K.e,K.b,K.g,K.i,w.k,z.a,K.d,q.a,K.a,G.a,A.b,$.a,Q.a,I.b,n.c,S.a,N.a,K.f,K.h,p.a],encapsulation:2}),t})(),yt=(()=>{class t{constructor(t){this.authService=t,this.breadcrumb=[[Object(d.d)("dashboard.menu")],[Object(d.d)("entities.activity.menu")]]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(u.Hc(l.a))},t.\u0275cmp=u.Bc({type:t,selectors:[["app-activity-list"]],decls:7,vars:1,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","entities.activity.list.title"]],template:function(t,e){1&t&&(u.Ic(0,"app-breadcrumb",0),u.Nc(1,"div",1),u.Nc(2,"h1",2),u.Ic(3,"app-i18n",3),u.Mc(),u.Ic(4,"app-activity-list-toolbar"),u.Ic(5,"app-activity-list-filter"),u.Ic(6,"app-activity-list-table"),u.Mc()),2&t&&u.dd("items",e.breadcrumb)},directives:[m.a,p.a,P,F,gt],encapsulation:2}),t})();var wt=i("42PK"),It=i("QmLB"),St=i("zkTT");let Nt=(()=>{class t{constructor(t,e,i){this.errorService=t,this.snackbar=e,this.router=i,this.loading=!1,this.record=null}doFind(t){return Object(f.a)(this,void 0,void 0,(function*(){try{this.record=null,this.loading=!0,this.record=yield wt.a.find(t),this.loading=!1}catch(e){this.errorService.handle(e),this.record=null,this.loading=!1,this.router.navigate(["/activity"])}}))}}return t.\u0275fac=function(e){return new(e||t)(u.Rc(It.a),u.Rc(St.a),u.Rc(n.b))},t.\u0275prov=u.Dc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Mt=function(t){return["/activity",t,"edit"]};function kt(t,e){if(1&t&&(u.Nc(0,"button",4),u.Ic(1,"mat-icon",5),u.xd(2,"\xa0 "),u.Ic(3,"app-i18n",6),u.Mc()),2&t){const t=u.Xc();u.dd("routerLink",u.gd(1,Mt,t.record.id))}}function Tt(t,e){if(1&t){const t=u.Oc();u.Nc(0,"button",7),u.Tc("click",(function(){return u.nd(t),u.Xc().doDestroy()})),u.Ic(1,"mat-icon",8),u.xd(2,"\xa0 "),u.Ic(3,"app-i18n",9),u.Mc()}if(2&t){const t=u.Xc();u.dd("disabled",t.destroyLoading)}}const Lt=function(){return["/audit-log"]},xt=function(t){return{entityId:t}};function Dt(t,e){if(1&t&&(u.Nc(0,"button",10),u.Ic(1,"mat-icon",11),u.xd(2,"\xa0 "),u.Ic(3,"app-i18n",12),u.Mc()),2&t){const t=u.Xc();u.dd("routerLink",u.fd(2,Lt))("queryParams",u.gd(3,xt,t.record.id))}}let Pt=(()=>{class t{constructor(t,e,i,c,n){this.service=t,this.activityService=e,this.destroyService=i,this.auditLogService=c,this.confirmService=n}doDestroy(){return Object(f.a)(this,void 0,void 0,(function*(){if(yield this.confirmService.confirm())return this.destroyService.doDestroy(this.record.id)}))}get destroyLoading(){return this.destroyService.loading}get hasPermissionToDestroy(){return this.activityService.hasPermissionToDestroy}get hasPermissionToEdit(){return this.activityService.hasPermissionToEdit}get hasPermissionToImport(){return this.activityService.hasPermissionToImport}get hasPermissionToAuditLogs(){return this.auditLogService.hasPermissionToRead}get record(){return this.service.record}}return t.\u0275fac=function(e){return new(e||t)(u.Hc(Nt),u.Hc(h.a),u.Hc(y.a),u.Hc(b.a),u.Hc(g.a))},t.\u0275cmp=u.Bc({type:t,selectors:[["app-activity-view-toolbar"]],decls:4,vars:3,consts:[[1,"app-page-toolbar"],["mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-flat-button","",3,"routerLink","queryParams",4,"ngIf"],["mat-raised-button","","color","primary",3,"routerLink"],["inline","","fontSet","far","fontIcon","fa-edit"],["key","common.edit"],["mat-raised-button","","color","primary",3,"disabled","click"],["inline","","fontSet","far","fontIcon","fa-trash-alt"],["key","common.destroy"],["mat-flat-button","",3,"routerLink","queryParams"],["inline","","fontSet","fas","fontIcon","fa-history"],["key","auditLog.menu"]],template:function(t,e){1&t&&(u.Nc(0,"div",0),u.wd(1,kt,4,3,"button",1),u.wd(2,Tt,4,1,"button",2),u.wd(3,Dt,4,5,"button",3),u.Mc()),2&t&&(u.wc(1),u.dd("ngIf",e.record&&e.hasPermissionToEdit),u.wc(1),u.dd("ngIf",e.record&&e.hasPermissionToDestroy),u.wc(1),u.dd("ngIf",e.record&&e.hasPermissionToAuditLogs))},directives:[w.k,I.b,n.c,N.a,p.a],encapsulation:2}),t})();var Ot=i("Xa2L"),Xt=i("2xaH"),jt=i("XG4R"),Ct=i("8SCG");function Ht(t,e){1&t&&(u.Nc(0,"div",6),u.Ic(1,"mat-spinner",7),u.Mc())}function Et(t,e){if(1&t&&(u.Nc(0,"div"),u.Ic(1,"app-view-item-text",8),u.Ic(2,"app-view-item-text",8),u.Ic(3,"app-view-item-images",8),u.Ic(4,"app-view-item-files",8),u.Ic(5,"app-view-item-files",8),u.Ic(6,"app-view-item-files",8),u.Ic(7,"app-view-item-text",8),u.Mc()),2&t){const t=u.Xc();u.wc(1),u.dd("label",t.fields.comment.label)("value",t.presenter(t.record,"comment")),u.wc(1),u.dd("label",t.fields.date.label)("value",t.presenter(t.record,"date")),u.wc(1),u.dd("label",t.fields.images.label)("value",t.presenter(t.record,"images")),u.wc(1),u.dd("label",t.fields.audio.label)("value",t.presenter(t.record,"audio")),u.wc(1),u.dd("label",t.fields.documents.label)("value",t.presenter(t.record,"documents")),u.wc(1),u.dd("label",t.fields.video.label)("value",t.presenter(t.record,"video")),u.wc(1),u.dd("label",t.fields.position.label)("value",t.presenter(t.record,"position"))}}let Rt=(()=>{class t{constructor(t,e,i){this.service=t,this.route=e,this.authService=i,this.breadcrumb=[[Object(d.d)("dashboard.menu")],[Object(d.d)("entities.testimony.menu"),"/testimony"],[Object(d.d)("entities.activity.view.title")]]}ngOnInit(){return Object(f.a)(this,void 0,void 0,(function*(){yield this.service.doFind(this.route.snapshot.paramMap.get("id"))}))}presenter(t,e){return X.a.presenter(t,e)}get fields(){return X.a.fields}get loading(){return this.service.loading}get record(){return this.service.record}}return t.\u0275fac=function(e){return new(e||t)(u.Hc(Nt),u.Hc(n.a),u.Hc(l.a))},t.\u0275cmp=u.Bc({type:t,selectors:[["app-activity-view"]],decls:7,vars:3,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","entities.activity.view.title"],["class","app-page-spinner",4,"ngIf"],[4,"ngIf"],[1,"app-page-spinner"],["color","accent"],[3,"label","value"]],template:function(t,e){1&t&&(u.Ic(0,"app-breadcrumb",0),u.Nc(1,"div",1),u.Nc(2,"h1",2),u.Ic(3,"app-i18n",3),u.Mc(),u.Ic(4,"app-activity-view-toolbar"),u.wd(5,Ht,2,0,"div",4),u.wd(6,Et,8,14,"div",5),u.Mc()),2&t&&(u.dd("items",e.breadcrumb),u.wc(5),u.dd("ngIf",e.loading),u.wc(1),u.dd("ngIf",!e.loading))},directives:[m.a,p.a,Pt,w.k,Ot.b,Xt.a,jt.a,Ct.a],encapsulation:2}),t})();var Bt=i("zdBv");let Ft=(()=>{class t{constructor(t){this.authService=t,this.breadcrumb=[[Object(d.d)("dashboard.menu")],[Object(d.d)("entities.activity.menu"),"/activity"],[Object(d.d)("entities.activity.importer.title")]]}}return t.\u0275fac=function(e){return new(e||t)(u.Hc(l.a))},t.\u0275cmp=u.Bc({type:t,selectors:[["app-activity-importer"]],decls:5,vars:1,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","entities.activity.importer.title"]],template:function(t,e){1&t&&(u.Ic(0,"app-breadcrumb",0),u.Nc(1,"div",1),u.Nc(2,"h1",2),u.Ic(3,"app-i18n",3),u.Mc(),u.Ic(4,"app-importer"),u.Mc()),2&t&&u.dd("items",e.breadcrumb)},directives:[m.a,p.a,Bt.a],encapsulation:2}),t})(),Kt=(()=>{class t{constructor(t,e,i){this.errorService=t,this.snackbar=e,this.router=i,this.initLoading=!1,this.saveLoading=!1,this.record=null,this.testimonyId=localStorage.getItem("testimonyId")}doInit(t){return Object(f.a)(this,void 0,void 0,(function*(){try{this.record=null,this.initLoading=!0,t&&(this.record=yield wt.a.find(t)),this.initLoading=!1}catch(e){this.errorService.handle(e),this.record=null,this.initLoading=!0,this.router.navigate(["/activity"])}}))}doCreate(t){return Object(f.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0,yield wt.a.create(t),this.saveLoading=!1,this.snackbar.success(Object(d.d)("entities.activity.create.success")),this.router.navigate(["/testimony/"+this.testimonyId+"/edit"])}catch(e){this.errorService.handle(e),this.saveLoading=!1}}))}doUpdate(t,e){return Object(f.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0,yield wt.a.update(t,e),this.saveLoading=!1,this.snackbar.success(Object(d.d)("entities.activity.update.success")),this.router.navigate(["/testimony/"+this.testimonyId+"/edit"])}catch(i){this.errorService.handle(i),this.saveLoading=!1}}))}}return t.\u0275fac=function(e){return new(e||t)(u.Rc(It.a),u.Rc(St.a),u.Rc(n.b))},t.\u0275prov=u.Dc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var At=i("cvrn");function zt(t,e){1&t&&u.Ic(0,"app-i18n",7)}function qt(t,e){1&t&&u.Ic(0,"app-i18n",8)}function Gt(t,e){1&t&&(u.Nc(0,"div",9),u.Ic(1,"mat-spinner",10),u.Mc())}function $t(t,e){if(1&t){const t=u.Oc();u.Nc(0,"app-activity-form",11),u.Tc("save",(function(e){return u.nd(t),u.Xc().doSave(e)}))("cancel",(function(){return u.nd(t),u.Xc().doCancel()})),u.Mc()}if(2&t){const t=u.Xc();u.dd("saveLoading",t.saveLoading)("record",t.record)("isEditing",t.isEditing)("modal",!1)}}let Qt=(()=>{class t{constructor(t,e,i,c){this.service=t,this.route=e,this.router=i,this.authService=c,this.breadcrumb=[[Object(d.d)("dashboard.menu")],[Object(d.d)("entities.testimony.menu"),"/testimony"],[this.isEditing?Object(d.d)("entities.activity.edit.title"):Object(d.d)("entities.activity.new.title")]]}ngOnInit(){return Object(f.a)(this,void 0,void 0,(function*(){yield this.service.doInit(this.route.snapshot.paramMap.get("id"))}))}get isEditing(){return this.route.snapshot.paramMap.has("id")}get initLoading(){return this.service.initLoading}get saveLoading(){return this.service.saveLoading}get record(){return this.service.record}doSave(t){return this.isEditing?this.service.doUpdate(t.id,t.values):this.service.doCreate(t.values)}doCancel(){this.router.navigate(["/activity"])}}return t.\u0275fac=function(e){return new(e||t)(u.Hc(Kt),u.Hc(n.a),u.Hc(n.b),u.Hc(l.a))},t.\u0275cmp=u.Bc({type:t,selectors:[["app-activity-form-page"]],decls:7,vars:5,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","entities.activity.edit.title",4,"ngIf"],["key","entities.activity.new.title",4,"ngIf"],["class","app-page-spinner",4,"ngIf"],[3,"saveLoading","record","isEditing","modal","save","cancel",4,"ngIf"],["key","entities.activity.edit.title"],["key","entities.activity.new.title"],[1,"app-page-spinner"],["color","accent"],[3,"saveLoading","record","isEditing","modal","save","cancel"]],template:function(t,e){1&t&&(u.Ic(0,"app-breadcrumb",0),u.Nc(1,"div",1),u.Nc(2,"h1",2),u.wd(3,zt,1,0,"app-i18n",3),u.wd(4,qt,1,0,"app-i18n",4),u.Mc(),u.wd(5,Gt,2,0,"div",5),u.wd(6,$t,1,4,"app-activity-form",6),u.Mc()),2&t&&(u.dd("items",e.breadcrumb),u.wc(3),u.dd("ngIf",e.isEditing),u.wc(1),u.dd("ngIf",!e.isEditing),u.wc(1),u.dd("ngIf",e.initLoading),u.wc(1),u.dd("ngIf",!e.initLoading))},directives:[m.a,w.k,p.a,Ot.b,At.a],encapsulation:2}),t})();const Ut=[{path:"",component:a.a,children:[{path:":id/edit",component:Qt,canActivate:[o.a,r.a],data:{permission:s.a.values.activityEdit}},{path:"new",component:Qt,canActivate:[o.a,r.a],data:{permission:s.a.values.activityCreate}},{path:"import",component:Ft,canActivate:[o.a,r.a],data:{permission:s.a.values.activityImport}},{path:":id",component:Rt,canActivate:[o.a,r.a],data:{permission:s.a.values.activityRead}},{path:"",component:yt,canActivate:[o.a,r.a],data:{permission:s.a.values.activityRead}}]}];let _t=(()=>{class t{}return t.\u0275mod=u.Fc({type:t}),t.\u0275inj=u.Ec({factory:function(e){return new(e||t)},providers:[],imports:[[n.f.forChild(Ut)],n.f]}),t})();var Jt=i("PCNd"),Zt=i("jSGM");const{fields:Vt}=X.a;var Wt=[Vt.comment,Vt.images,Vt.audio,Vt.documents,Vt.video,Vt.position];let Yt=(()=>{class t extends Zt.a{constructor(t){super(t,wt.a.import,Wt,Object(d.d)("entities.activity.importer.fileName"),Object(d.d)("entities.activity.importer.hint"))}}return t.\u0275fac=function(e){return new(e||t)(u.Rc(It.a))},t.\u0275prov=u.Dc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var te=i("t9Rf");let ee=(()=>{class t{}return t.\u0275mod=u.Fc({type:t}),t.\u0275inj=u.Ec({factory:function(e){return new(e||t)},providers:[{provide:Zt.a,useClass:Yt}],imports:[[Jt.a,_t,c.a,te.a]]}),t})()}}]);