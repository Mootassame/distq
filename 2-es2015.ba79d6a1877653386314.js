(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"14fu":function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var a=i("mrSG"),o=i("QmLB"),r=i("zkTT"),n=i("Vbab"),c=i("DCw8"),s=i("fXoL"),d=i("0IaG"),l=i("UDmo"),u=i("z7xO");let m=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.errorService=t,this.snackbar=i,this.saveLoading=!1}doCreate({values:e}){return Object(a.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0,yield c.a.create(e);const{rows:t}=yield c.a.fetchUsers({email:e.emails[0]},null,1,0);this.saveLoading=!1,this.snackbar.success(Object(n.d)("user.doAddSuccess")),this.dialogRef&&this.dialogRef.close(t[0])}catch(t){this.errorService.handle(t),this.saveLoading=!1}}))}doCancel(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(s.Hc(d.g),s.Hc(o.a),s.Hc(r.a))},e.\u0275cmp=s.Bc({type:e,selectors:[["app-user-new-form-modal"]],decls:4,vars:2,consts:[["mat-dialog-title",""],["key","user.new.titleModal"],[3,"saveLoading","modal","save","cancel"]],template:function(e,t){1&e&&(s.Nc(0,"h1",0),s.Ic(1,"app-i18n",1),s.Mc(),s.Nc(2,"mat-dialog-content"),s.Nc(3,"app-user-new-form",2),s.Tc("save",(function(e){return t.doCreate(e)}))("cancel",(function(){return t.doCancel()})),s.Mc(),s.Mc()),2&e&&(s.wc(3),s.dd("saveLoading",t.saveLoading)("modal",!0))},directives:[d.h,l.a,d.e,u.a],encapsulation:2}),e})(),f=(()=>{class e{constructor(e){this.dialog=e}open(){return Object(a.a)(this,void 0,void 0,(function*(){const e=this.dialog.open(m,{width:"80%"});return new Promise(t=>{const i=e.afterClosed().subscribe(e=>{t(e),i&&!i.closed&&i.unsubscribe()})})}))}}return e.\u0275fac=function(t){return new(t||e)(s.Rc(d.b))},e.\u0275prov=s.Dc({token:e,factory:e.\u0275fac}),e})()},"3I9H":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));const a={production:!1,frontendUrl:{host:"localhost:4200",protocol:"http"},backendUrl:"http://85.159.212.11:3000/api",tenantMode:"single",isPlanEnabled:!1,stripePublishableKey:"",urlsocket:"http://85.159.212.11:3000"}},"3ozQ":function(e,t,i){"use strict";var a=i("XGOh");const{fields:o}=a.a;t.a=[o.id,o.comment,o.images,o.audio,o.documents,o.video,o.position,o.createdAt,o.updatedAt]},"42PK":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var a=i("mrSG"),o=i("KYx6"),r=i("CN2L");class n{static update(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={id:e,data:t},a=r.a.get();return(yield o.a.put(`/tenant/${a}/activity/${e}`,i)).data}))}static destroyAll(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={ids:e},i=r.a.get();return(yield o.a.delete(`/tenant/${i}/activity`,{params:t})).data}))}static create(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={data:e},i=r.a.get();return(yield o.a.post(`/tenant/${i}/activity`,t)).data}))}static import(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={data:e,importHash:t},a=r.a.get();return(yield o.a.post(`/tenant/${a}/activity/import`,i)).data}))}static find(e){return Object(a.a)(this,void 0,void 0,(function*(){const t=r.a.get();return(yield o.a.get(`/tenant/${t}/activity/${e}`)).data}))}static list(e,t,i,n){return Object(a.a)(this,void 0,void 0,(function*(){const a=localStorage.getItem("testimonyId"),c={filter:e,orderBy:t,limit:i,offset:n},s=r.a.get();return(yield o.a.get(`/tenant/${s}/testimonyGetActivities/${a}/`,{params:c})).data}))}static listAutocomplete(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={query:e,limit:t},a=r.a.get();return(yield o.a.get(`/tenant/${a}/activity/autocomplete`,{params:i})).data}))}}},"5AYL":function(e,t,i){"use strict";i.d(t,"a",(function(){return I}));var a=i("dCvk"),o=i("Vbab"),r=i("gfiE"),n=i("3WK+"),c=i("Yo9n"),s=i("9Lsv"),d=i("+dX3"),l=i("s1L9"),u=i("5LST"),m=i("rOt7"),f=i("mmyZ"),p=i("a/az"),h=i("42PK"),b=i("joqs"),v=i("bPrR"),g=i("DCw8"),w=i("nV0w"),y=i("qTlC"),N=i("3arV");function S(e){return Object(o.d)("entities.testimony.fields."+e)}function M(e,t){return Object(o.d)(`entities.testimony.enumerators.${e}.${t}`)}const F={id:new n.a("id",S("id")),category:class{static relationToOne(e,t,i){let a=Object(o.a)();return new u.a(e,t,"/testimony-category",f.a.values.testimonyCategoryRead,m.a.listAutocomplete,e=>e?"es"==a.id?{id:e.id,label:e.titleFR}:{id:e.id,label:e.titleEN}:null,i)}static relationToMany(e,t,i){return new p.a(e,t,"/testimony-category",f.a.values.testimonyCategoryRead,m.a.listAutocomplete,e=>e?{id:e.id,label:e.titleFR}:null,i)}}.relationToOne("category",S("category"),{required:!0}),title:new s.a("title",S("title"),{required:!0}),contact:new s.a("contact",S("contact"),{}),testimonyType:new d.a("testimonyType",S("testimonyType"),[{id:"testimony",label:M("testimonyType","testimony")},{id:"assistance",label:M("testimonyType","assistance")}],{}),description:new s.a("description",S("description"),{required:!0}),region:new d.a("region",S("region"),[{id:"tunis",label:M("region","tunis")},{id:"ariana",label:M("region","ariana")},{id:"beja",label:M("region","beja")},{id:"ben_arouss",label:M("region","ben_arouss")},{id:"bizerte",label:M("region","bizerte")},{id:"gabes",label:M("region","gabes")},{id:"gafsa",label:M("region","gafsa")},{id:"jendouba",label:M("region","jendouba")},{id:"kairouan",label:M("region","kairouan")},{id:"kasserine",label:M("region","kasserine")},{id:"kebili",label:M("region","kebili")},{id:"kef",label:M("region","kef")},{id:"mahdia",label:M("region","mahdia")},{id:"manouba",label:M("region","manouba")},{id:"medenine",label:M("region","medenine")},{id:"monastir",label:M("region","monastir")},{id:"nabeul",label:M("region","nabeul")},{id:"sfax",label:M("region","sfax")},{id:"sidi_bouzid",label:M("region","sidi_bouzid")},{id:"siliana",label:M("region","siliana")},{id:"sousse",label:M("region","sousse")},{id:"tataouine",label:M("region","tataouine")},{id:"tozeur",label:M("region","tozeur")},{id:"zaghouan",label:M("region","zaghouan")}],{}),status:new d.a("status",S("status"),[{id:"waiting",label:M("status","waiting")},{id:"open",label:M("status","open")},{id:"closed",label:M("status","closed")},{id:"canceled",label:M("status","canceled")}],{required:!0}),priority:new d.a("priority",S("priority"),[{id:"low",label:M("priority","low")},{id:"medium",label:M("priority","medium")},{id:"high",label:M("priority","high")}],{required:!0}),assignedTo:class{static relationToOne(e,t,i){return new u.a(e,t,"/user",f.a.values.userRead,g.a.fetchUserAutocomplete,e=>{if(!e)return null;let t=e.email;return e.fullName&&(t=""+e.fullName),{id:e.id,label:t}},i)}static relationToMany(e,t,i){return new p.a(e,t,"/user",f.a.values.userRead,g.a.fetchUserAutocomplete,e=>{if(!e)return null;let t=`${e.fullName} <${e.email}>`;return e.fullName&&(t=`${e.fullName} <${e.email}>`),{id:e.id,label:t}},i)}}.relationToOne("assignedTo",S("assignedTo"),{}),images:new N.a("images",S("images"),w.a.values.testimonyImages,{}),audio:new y.a("audio",S("audio"),w.a.values.testimonyAudio,{formats:["mp3"]}),documents:new y.a("documents",S("documents"),w.a.values.testimonyDocuments,{formats:["pdf","doc"]}),videos:new y.a("videos",S("videos"),w.a.values.testimonyVideos,{}),position:new s.a("position",S("position"),{}),anonymous:new l.a("anonymous",S("anonymous")),activity:class{static relationToOne(e,t,i){return new u.a(e,t,"/activity",f.a.values.activityRead,h.a.listAutocomplete,e=>e?{id:e.id,label:e.id}:null,i)}static relationToMany(e,t,i){return new p.a(e,t,"/activity",f.a.values.activityRead,h.a.listAutocomplete,e=>e?{id:e.id,label:e.comment}:null,i)}}.relationToMany("activity",S("activity"),{}),tags:b.a.relationToMany("tags",S("tags"),{}),transferTo:class{static relationToOne(e,t,i){return new u.a(e,t,"/partner",f.a.values.partnerRead,v.a.listAutocomplete,e=>e?{id:e.id,label:e.title}:null,i)}static relationToMany(e,t,i){return new p.a(e,t,"/partner",f.a.values.partnerRead,v.a.listAutocomplete,e=>e?{id:e.id,label:e.title}:null,i)}}.relationToOne("transferTo",S("transferTo"),{}),createdAt:new r.a("createdAt",S("createdAt")),updatedAt:new r.a("updatedAt",S("updatedAt")),createdAtRange:new c.a("createdAtRange",S("createdAtRange"))};class I extends a.a{static get fields(){return F}}},"5LST":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var a=i("u9O/"),o=i("UGp+"),r=i("3Pt+"),n=i("ToKS");class c extends a.a{constructor(e,t,i,a,o,r,{required:n=!1}={}){super(e,t),this.required=n,this.fetchFn=o,this.mapperFn=r,this.viewUrl=i,this.readPermission=a}forPresenter(e){return this.mapperFn(e)}forFormControl(e){const t=e?this.mapperFn(e):null,i=[];return this.required&&i.push(n.a.autocompleteRequired()),new r.e(t,i)}forFormCast(){return o.c().nullable(!0).label(this.label).transform((e,t)=>t?t.id:null)}forFilterControl(e){const t=e?this.mapperFn(e):null;return new r.e(t)}forFilterCast(){return o.c().label(this.label).transform((e,t)=>t?t.id:null)}forExport(){return o.c().label(this.label).transform((e,t)=>t&&t.id?t.id:null)}forImport(){let e=o.c().nullable(!0).label(this.label);return this.required&&(e=e.required()),e}forFilterPreview(e){return e&&e.label||null}}},"6PRp":function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var a=i("mrSG"),o=i("42PK"),r=i("3ozQ"),n=i("Oxlt"),c=i("QmLB"),s=i("0EQZ"),d=i("fXoL");let l=(()=>{class e{constructor(e){this.errorService=e,this.rows=[],this.count=0,this.loading=!1,this.filter={},this._pagination={},this.sorter={},this.selectedKeys=new s.c(!0,[]),this.exportLoading=!1,this.unlimited=!1}get hasRows(){return this.count>0}get orderBy(){const e=this.sorter;return e&&e.columnKey?`${e.columnKey}_${"desc"===e.order?"DESC":"ASC"}`:null}get limit(){if(this.unlimited)return 0;const e=this._pagination;return e&&e.pageSize?e.pageSize:10}get offset(){if(this.unlimited)return 0;const e=this._pagination;return e&&e.pageSize?e.pageIndex*e.pageSize:0}get pagination(){return!this.unlimited&&Object.assign(Object.assign({},this._pagination),{total:this.count,showSizeChanger:!0})}get paginationPageSize(){return this._pagination&&this._pagination.pageSize?this._pagination.pageSize:10}get paginationPageIndex(){return this._pagination&&this._pagination.pageIndex?this._pagination.pageIndex:0}get selectedRows(){return this.rows.filter(e=>this.selectedKeys.isSelected(e.id))}doResetSelectedKeys(){this.selectedKeys=new s.c(!0,[])}doReset(){return Object(a.a)(this,void 0,void 0,(function*(){return this.rows=[],this.count=0,this.loading=!1,this.filter={},this._pagination={},this.sorter={},this.doResetSelectedKeys(),this.exportLoading=!1,this.doFetch()}))}doExport(){return Object(a.a)(this,void 0,void 0,(function*(){try{this.exportLoading=!0;const e=this.filter,t=yield o.a.list(e,this.orderBy,null,null);new n.a(r.a,"activity").transformAndExportAsExcelFile(t.rows),this.exportLoading=!1}catch(e){this.errorService.handle(e),this.exportLoading=!1}}))}doChangePagination(e){this._pagination=e,this.doFetch(this.filter,!0)}doChangeSort(e){this.sorter=e?{columnKey:e.active,order:e.direction}:{},this.doFetch(this.filter,!0)}doFetch(e,t=!1){return Object(a.a)(this,void 0,void 0,(function*(){try{this.loading=!0,this.rows=[],this.count=0,t||(this._pagination={}),this.filter=e||{},this.doResetSelectedKeys();const i=yield o.a.list(e,this.orderBy,this.limit,this.offset);this.rows=i.rows,this.count=i.count,this.loading=!1}catch(i){this.errorService.handle(i),this.loading=!1,this.rows=[],this.count=0}}))}}return e.\u0275fac=function(t){return new(t||e)(d.Rc(c.a))},e.\u0275prov=d.Dc({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"6qfu":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var a=i("UGp+"),o=i("LvDl");class r{constructor(e,t){this.fields=e,this.formBuilder=t}buildForm(e={},t={}){t=t||{},e=e||{},Object(o.values)(t).some(e=>Boolean(e))&&(e=t);const i={};for(const a of this.fields)i[a.name]=a.forFilterControl(e[a.name]);return this.formBuilder.group(i)}castSchema(){const e={};return this.fields.forEach(t=>{e[t.name]=t.forFilterCast()}),a.d().shape(e)}cast(e){return this.castSchema().cast(e)}}},"7p77":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var a=i("mrSG"),o=i("KYx6"),r=i("CN2L");class n{static update(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={id:e,data:t},a=r.a.get();return(yield o.a.put(`/tenant/${a}/information-category/${e}`,i)).data}))}static destroyAll(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={ids:e},i=r.a.get();return(yield o.a.delete(`/tenant/${i}/information-category`,{params:t})).data}))}static create(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={data:e},i=r.a.get();return(yield o.a.post(`/tenant/${i}/information-category`,t)).data}))}static import(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={data:e,importHash:t},a=r.a.get();return(yield o.a.post(`/tenant/${a}/information-category/import`,i)).data}))}static find(e){return Object(a.a)(this,void 0,void 0,(function*(){const t=r.a.get();return(yield o.a.get(`/tenant/${t}/information-category/${e}`)).data}))}static list(e,t,i,n){return Object(a.a)(this,void 0,void 0,(function*(){const a={filter:e,orderBy:t,limit:i,offset:n},c=r.a.get();return(yield o.a.get(`/tenant/${c}/information-category`,{params:a})).data}))}static listAutocomplete(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={query:e,limit:t},a=r.a.get();return(yield o.a.get(`/tenant/${a}/information-category/autocomplete`,{params:i})).data}))}}},"8uIj":function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var a=i("dCvk"),o=i("Vbab"),r=i("gfiE"),n=i("3WK+"),c=i("Yo9n"),s=i("9Lsv");function d(e){return Object(o.d)("entities.informationCategory.fields."+e)}const l={id:new n.a("id",d("id")),titleFR:new s.a("titleFR",d("titleFR"),{required:!0}),titleEN:new s.a("titleEN",d("titleEN"),{required:!0}),titleAR:new s.a("titleAR",d("titleAR"),{required:!0}),descriptionFR:new s.a("descriptionFR",d("descriptionFR"),{required:!0}),descriptionEN:new s.a("descriptionEN",d("descriptionEN"),{required:!0}),descriptionAR:new s.a("descriptionAR",d("descriptionAR"),{required:!0}),createdAt:new r.a("createdAt",d("createdAt")),updatedAt:new r.a("updatedAt",d("updatedAt")),createdAtRange:new c.a("createdAtRange",d("createdAtRange"))};class u extends a.a{static get fields(){return l}}},CCP8:function(e,t,i){"use strict";i.d(t,"a",(function(){return x}));var a=i("mrSG"),o=i("fXoL"),r=i("as5z"),n=i("rXYk"),c=i("3Pt+"),s=i("ofXK"),d=i("kmnG"),l=i("d3UM"),u=i("vFJ8"),m=i("EWUG"),f=i("P8kG"),p=i("jmCL"),h=i("YPZE"),b=i("LISj");function v(e,t){if(1&e){const e=o.Oc();o.Nc(0,"app-autocomplete-form-field",2),o.Tc("createModalOpen",(function(){return o.nd(e),o.Xc().createModalOpen()})),o.Mc()}if(2&e){const e=o.Xc();o.dd("control",e.control)("label",e.label)("required",e.required)("fetchFn",e.fetchFn)("appAutofocus",e.appAutofocus)("serverSideSearch",e.serverSideSearch)("submitted",e.submitted)("showCreate",e.showCreate&&e.hasPermissionToCreate)}}function g(e,t){if(1&e){const e=o.Oc();o.Nc(0,"app-autocomplete-multiple-form-field",3),o.Tc("createModalOpen",(function(){return o.nd(e),o.Xc().createModalOpen()})),o.Mc()}if(2&e){const e=o.Xc();o.dd("control",e.control)("label",e.label)("required",e.required)("fetchFn",e.fetchFn)("appAutofocus",e.appAutofocus)("serverSideSearch",e.serverSideSearch)("ngForm",e.ngForm)("showCreate",e.showCreate&&e.hasPermissionToCreate)("submitted",e.submitted)}}let w=(()=>{class e{constructor(e,t){this.service=e,this.informationCategoryService=t,this.mode="single",this.submitted=!1,this.required=!1,this.appAutofocus=!1,this.serverSideSearch=!1,this.fetchFn=null,this.mapperFn=null,this.showCreate=!1}get hasPermissionToCreate(){return this.informationCategoryService.hasPermissionToCreate}createModalOpen(){return Object(a.a)(this,void 0,void 0,(function*(){const e=yield this.service.open();e&&this.control.setValue("multiple"===this.mode?[...this.control.value||[],this.mapperFn(e)]:this.mapperFn(e))}))}}return e.\u0275fac=function(t){return new(t||e)(o.Hc(m.a),o.Hc(f.a))},e.\u0275cmp=o.Bc({type:e,selectors:[["app-information-category-form-field"]],inputs:{mode:"mode",submitted:"submitted",control:"control",label:"label",required:"required",appAutofocus:"appAutofocus",serverSideSearch:"serverSideSearch",fetchFn:"fetchFn",mapperFn:"mapperFn",ngForm:"ngForm",showCreate:"showCreate"},decls:3,vars:2,consts:[[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","submitted","showCreate","createModalOpen",4,"ngIf"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","ngForm","showCreate","submitted","createModalOpen",4,"ngIf"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","submitted","showCreate","createModalOpen"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","ngForm","showCreate","submitted","createModalOpen"]],template:function(e,t){1&e&&(o.Nc(0,"div"),o.wd(1,v,1,8,"app-autocomplete-form-field",0),o.wd(2,g,1,9,"app-autocomplete-multiple-form-field",1),o.Mc()),2&e&&(o.wc(1),o.dd("ngIf","single"===t.mode),o.wc(1),o.dd("ngIf","multiple"===t.mode))},directives:[s.k,p.a,h.a,b.a,c.n,c.o],encapsulation:2}),e})();var y=i("HhrM"),N=i("qFsG"),S=i("YPoJ"),M=i("urQW"),F=i("bTqV"),I=i("NFeN"),C=i("UDmo"),q=i("FKr1");function A(e,t){if(1&e&&(o.Nc(0,"mat-option",28),o.xd(1),o.Mc()),2&e){const e=t.$implicit;o.dd("value",e.id),o.wc(1),o.zd(" ",e.label," ")}}function O(e,t){if(1&e&&(o.Nc(0,"mat-option",28),o.xd(1),o.Mc()),2&e){const e=t.$implicit;o.dd("value",e.id),o.wc(1),o.zd(" ",e.label," ")}}function R(e,t){if(1&e){const e=o.Oc();o.Nc(0,"form",1,2),o.Tc("ngSubmit",(function(){return o.nd(e),o.Xc().doSave()})),o.Nc(2,"div",3),o.Nc(3,"div",4),o.Nc(4,"mat-form-field",5),o.Nc(5,"mat-label"),o.xd(6),o.Mc(),o.Nc(7,"mat-select",6),o.wd(8,A,2,2,"mat-option",7),o.Mc(),o.Nc(9,"mat-error"),o.Ic(10,"app-validations",8),o.Mc(),o.Mc(),o.Mc(),o.Nc(11,"div",4),o.Nc(12,"mat-form-field",5),o.Nc(13,"mat-label"),o.xd(14),o.Mc(),o.Nc(15,"mat-select",6),o.wd(16,O,2,2,"mat-option",7),o.Mc(),o.Nc(17,"mat-error"),o.Ic(18,"app-validations",8),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Nc(19,"div",3),o.Nc(20,"div",9),o.Ic(21,"app-information-category-form-field",10),o.Mc(),o.Nc(22,"div",11),o.Ic(23,"app-tags-form-field",12),o.Mc(),o.Mc(),o.Nc(24,"div",3),o.Nc(25,"div",11),o.Nc(26,"mat-form-field",5),o.Nc(27,"mat-label"),o.xd(28),o.Mc(),o.Ic(29,"input",13),o.Nc(30,"mat-error"),o.Ic(31,"app-validations",8),o.Mc(),o.Mc(),o.Nc(32,"mat-form-field",5),o.Nc(33,"mat-label"),o.xd(34),o.Mc(),o.Ic(35,"textarea",14),o.Nc(36,"mat-error"),o.Ic(37,"app-validations",8),o.Mc(),o.Mc(),o.Mc(),o.Nc(38,"div",11),o.Nc(39,"mat-form-field",5),o.Nc(40,"mat-label"),o.xd(41),o.Mc(),o.Ic(42,"input",13),o.Nc(43,"mat-error"),o.Ic(44,"app-validations",8),o.Mc(),o.Mc(),o.Nc(45,"mat-form-field",5),o.Nc(46,"mat-label"),o.xd(47),o.Mc(),o.Ic(48,"textarea",14),o.Nc(49,"mat-error"),o.Ic(50,"app-validations",8),o.Mc(),o.Mc(),o.Mc(),o.Nc(51,"div",11),o.Nc(52,"mat-form-field",5),o.Nc(53,"mat-label"),o.xd(54),o.Mc(),o.Ic(55,"input",13),o.Nc(56,"mat-error"),o.Ic(57,"app-validations",8),o.Mc(),o.Mc(),o.Nc(58,"mat-form-field",5),o.Nc(59,"mat-label"),o.xd(60),o.Mc(),o.Ic(61,"textarea",14),o.Nc(62,"mat-error"),o.Ic(63,"app-validations",8),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Nc(64,"div",3),o.Nc(65,"div",11),o.Nc(66,"mat-form-field",5),o.Nc(67,"mat-label"),o.xd(68),o.Mc(),o.Ic(69,"input",13),o.Mc(),o.Mc(),o.Nc(70,"div",11),o.Nc(71,"mat-form-field",5),o.Nc(72,"mat-label"),o.xd(73),o.Mc(),o.Ic(74,"input",13),o.Mc(),o.Mc(),o.Nc(75,"div",11),o.Nc(76,"mat-form-field",5),o.Nc(77,"mat-label"),o.xd(78),o.Mc(),o.Ic(79,"input",13),o.Mc(),o.Mc(),o.Mc(),o.Nc(80,"div",3),o.Nc(81,"div",4),o.Nc(82,"mat-form-field",5),o.Nc(83,"mat-label"),o.xd(84),o.Mc(),o.Ic(85,"input",13),o.Mc(),o.Mc(),o.Nc(86,"div",4),o.Nc(87,"mat-form-field",5),o.Nc(88,"mat-label"),o.xd(89),o.Mc(),o.Ic(90,"input",13),o.Mc(),o.Mc(),o.Mc(),o.Nc(91,"div",3),o.Nc(92,"div",15),o.Nc(93,"mat-form-field",5),o.Nc(94,"mat-label"),o.xd(95),o.Mc(),o.Ic(96,"input",13),o.Mc(),o.Mc(),o.Mc(),o.Nc(97,"div",3),o.Nc(98,"div",4),o.Nc(99,"mat-form-field",5),o.Nc(100,"mat-label"),o.xd(101),o.Mc(),o.Ic(102,"input",13),o.Nc(103,"mat-error"),o.Ic(104,"app-validations",8),o.Mc(),o.Mc(),o.Mc(),o.Nc(105,"div",4),o.Nc(106,"mat-form-field",5),o.Nc(107,"mat-label"),o.xd(108),o.Mc(),o.Ic(109,"input",13),o.Nc(110,"mat-error"),o.Ic(111,"app-validations",8),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Nc(112,"div",3),o.Nc(113,"div",4),o.Ic(114,"app-image-form-field",16),o.Mc(),o.Nc(115,"div",4),o.Ic(116,"app-file-form-field",17),o.Mc(),o.Mc(),o.Nc(117,"div",18),o.Nc(118,"button",19),o.Ic(119,"mat-icon",20),o.xd(120,"\xa0 "),o.Ic(121,"app-i18n",21),o.Mc(),o.Nc(122,"button",22),o.Tc("click",(function(){return o.nd(e),o.Xc().doReset()})),o.Ic(123,"mat-icon",23),o.xd(124,"\xa0 "),o.Ic(125,"app-i18n",24),o.Mc(),o.Nc(126,"button",25),o.Tc("click",(function(){return o.nd(e),o.Xc().cancel.emit()})),o.Ic(127,"mat-icon",26),o.xd(128,"\xa0 "),o.Ic(129,"app-i18n",27),o.Mc(),o.Mc(),o.Mc()}if(2&e){const e=o.ld(1),t=o.Xc();o.dd("formGroup",t.form),o.wc(6),o.yd(t.fields.type.label),o.wc(1),o.dd("formControlName",t.fields.type.name),o.wc(1),o.dd("ngForOf",t.fields.type.options),o.wc(2),o.dd("control",t.form.get(t.fields.type.name))("label",t.fields.type.label),o.wc(4),o.yd(t.fields.publish.label),o.wc(1),o.dd("formControlName",t.fields.publish.name),o.wc(1),o.dd("ngForOf",t.fields.publish.options),o.wc(2),o.dd("control",t.form.get(t.fields.publish.name))("label",t.fields.publish.label),o.wc(3),o.dd("control",t.form.get(t.fields.category.name))("label",t.fields.category.label)("required",t.fields.category.required)("fetchFn",t.fields.category.fetchFn)("mapperFn",t.fields.category.mapperFn)("showCreate",!t.modal)("submitted",e.submitted),o.wc(2),o.dd("control",t.form.get(t.fields.tags.name))("label",t.fields.tags.label)("required",t.fields.tags.required)("fetchFn",t.fields.tags.fetchFn)("mapperFn",t.fields.tags.mapperFn)("showCreate",!t.modal)("submitted",e.submitted),o.wc(5),o.yd(t.fields.titleFR.label),o.wc(1),o.dd("formControlName",t.fields.titleFR.name)("required",t.fields.titleFR.required),o.wc(2),o.dd("control",t.form.get(t.fields.titleFR.name))("label",t.fields.titleFR.label),o.wc(3),o.yd(t.fields.descriptionFR.label),o.wc(1),o.dd("formControlName",t.fields.descriptionFR.name)("rows",4)("required",t.fields.descriptionFR.required),o.wc(2),o.dd("control",t.form.get(t.fields.descriptionFR.name))("label",t.fields.descriptionFR.label),o.wc(4),o.yd(t.fields.titreEN.label),o.wc(1),o.dd("formControlName",t.fields.titreEN.name)("required",t.fields.titreEN.required),o.wc(2),o.dd("control",t.form.get(t.fields.titreEN.name))("label",t.fields.titreEN.label),o.wc(3),o.yd(t.fields.descriptionEN.label),o.wc(1),o.dd("formControlName",t.fields.descriptionEN.name)("rows",4)("required",t.fields.descriptionEN.required),o.wc(2),o.dd("control",t.form.get(t.fields.descriptionEN.name))("label",t.fields.descriptionEN.label),o.wc(4),o.yd(t.fields.titreAR.label),o.wc(1),o.dd("formControlName",t.fields.titreAR.name)("required",t.fields.titreAR.required),o.wc(2),o.dd("control",t.form.get(t.fields.titreAR.name))("label",t.fields.titreAR.label),o.wc(3),o.yd(t.fields.descriptionAR.label),o.wc(1),o.dd("formControlName",t.fields.descriptionAR.name)("rows",4)("required",t.fields.descriptionAR.required),o.wc(2),o.dd("control",t.form.get(t.fields.descriptionAR.name))("label",t.fields.descriptionAR.label),o.wc(5),o.yd(t.fields.addressFR.label),o.wc(1),o.dd("formControlName",t.fields.addressFR.name)("required",t.fields.addressFR.required),o.wc(4),o.yd(t.fields.addressEN.label),o.wc(1),o.dd("formControlName",t.fields.addressEN.name)("required",t.fields.addressEN.required),o.wc(4),o.yd(t.fields.addressAR.label),o.wc(1),o.dd("formControlName",t.fields.addressAR.name)("required",t.fields.addressAR.required),o.wc(5),o.yd(t.fields.num_Tel.label),o.wc(1),o.dd("formControlName",t.fields.num_Tel.name)("required",t.fields.num_Tel.required),o.wc(4),o.yd(t.fields.email.label),o.wc(1),o.dd("formControlName",t.fields.email.name)("required",t.fields.email.required),o.wc(5),o.yd(t.fields.site_web.label),o.wc(1),o.dd("formControlName",t.fields.site_web.name)("required",t.fields.site_web.required),o.wc(5),o.yd(t.fields.videos.label),o.wc(1),o.dd("formControlName",t.fields.videos.name)("required",t.fields.videos.required),o.wc(2),o.dd("control",t.form.get(t.fields.videos.name))("label",t.fields.videos.label),o.wc(4),o.yd(t.fields.googleMapsPosition.label),o.wc(1),o.dd("formControlName",t.fields.googleMapsPosition.name)("required",t.fields.googleMapsPosition.required),o.wc(2),o.dd("control",t.form.get(t.fields.googleMapsPosition.name))("label",t.fields.googleMapsPosition.label),o.wc(3),o.dd("formControl",t.form.get(t.fields.images.name))("label",t.fields.images.label)("storage",t.fields.images.storage)("required",t.fields.images.required)("max",t.fields.images.max)("submitted",e.submitted),o.wc(2),o.dd("formControl",t.form.get(t.fields.document.name))("label",t.fields.document.label)("formats",t.fields.document.formats)("storage",t.fields.document.storage)("required",t.fields.document.required)("max",t.fields.document.max)("submitted",e.submitted),o.wc(1),o.zc("form-buttons-modal",t.modal),o.wc(1),o.dd("disabled",t.saveLoading),o.wc(4),o.dd("disabled",t.saveLoading),o.wc(4),o.dd("disabled",t.saveLoading)}}let x=(()=>{class e{constructor(e){this.formBuilder=e,this.save=new o.v,this.cancel=new o.v,this.modal=!1}ngOnInit(){return Object(a.a)(this,void 0,void 0,(function*(){this.buildSchema(),this.buildForm()}))}get fields(){return r.a.fields}doSave(){if(!this.form.valid)return;const e=this.record&&this.record.id,t=this.schema.cast(this.form.value);this.save.emit({id:e,values:t})}doReset(){this.buildForm()}buildForm(){this.form=this.schema.buildForm(this.record)}buildSchema(){this.schema=new n.a([this.fields.category,this.fields.titleFR,this.fields.titreEN,this.fields.titreAR,this.fields.descriptionFR,this.fields.descriptionEN,this.fields.descriptionAR,this.fields.addressFR,this.fields.addressAR,this.fields.addressEN,this.fields.publish,this.fields.type,this.fields.num_Tel,this.fields.site_web,this.fields.email,this.fields.images,this.fields.document,this.fields.videos,this.fields.googleMapsPosition,this.fields.tags],this.formBuilder)}}return e.\u0275fac=function(t){return new(t||e)(o.Hc(c.d))},e.\u0275cmp=o.Bc({type:e,selectors:[["app-informations-form"]],inputs:{isEditing:"isEditing",record:"record",saveLoading:"saveLoading",modal:"modal"},outputs:{save:"save",cancel:"cancel"},decls:1,vars:1,consts:[["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],["ngForm","ngForm"],[1,"row"],[1,"col-md-6"],["floatLabel","always","appearance","outline"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"control","label"],[1,"col-md-8"],["mode","single",3,"control","label","required","fetchFn","mapperFn","showCreate","submitted"],[1,"col-md-4"],["mode","multiple",3,"control","label","required","fetchFn","mapperFn","showCreate","submitted"],["matInput","",3,"formControlName","required"],["matInput","",3,"formControlName","rows","required"],[1,"col-md-12"],[3,"formControl","label","storage","required","max","submitted"],[3,"formControl","label","formats","storage","required","max","submitted"],[1,"form-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["inline","","fontSet","far","fontIcon","fa-save"],["key","common.save"],["mat-flat-button","","color","accent","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-undo"],["key","common.reset"],["mat-flat-button","","color","warn","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-times"],["key","common.cancel"],[3,"value"]],template:function(e,t){1&e&&o.wd(0,R,130,104,"form",0),2&e&&o.dd("ngIf",t.form)},directives:[s.k,c.s,c.n,c.h,d.c,d.f,l.a,c.m,c.g,s.j,d.b,u.a,w,y.a,N.b,c.c,c.q,S.a,c.f,M.a,F.b,I.a,C.a,q.o],encapsulation:2}),e})()},CovZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var a=i("dCvk"),o=i("Vbab"),r=i("gfiE"),n=i("3WK+"),c=i("Yo9n"),s=i("9Lsv");function d(e){return Object(o.d)("entities.testimonyCategory.fields."+e)}const l={id:new n.a("id",d("id")),titleFR:new s.a("titleFR",d("titleFR"),{required:!0}),titleEN:new s.a("titleEN",d("titleEN"),{required:!0}),titleAR:new s.a("titleAR",d("titleAR"),{required:!0}),descriptionFR:new s.a("descriptionFR",d("descriptionFR"),{required:!0}),descriptionEN:new s.a("descriptionEN",d("descriptionEN"),{required:!0}),descriptionAR:new s.a("descriptionAR",d("descriptionAR"),{required:!0}),createdAt:new r.a("createdAt",d("createdAt")),updatedAt:new r.a("updatedAt",d("updatedAt")),createdAtRange:new c.a("createdAtRange",d("createdAtRange"))};class u extends a.a{static get fields(){return l}}},DCw8:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var a=i("mrSG"),o=i("KYx6"),r=i("CN2L");class n{static edit(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={data:e},i=r.a.get();return(yield o.a.put(`/tenant/${i}/user`,t)).data}))}static destroy(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={ids:e},i=r.a.get();return(yield o.a.delete(`/tenant/${i}/user`,{params:t})).data}))}static create(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={data:e},i=r.a.get();return(yield o.a.post(`/tenant/${i}/user`,t)).data}))}static import(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={data:Object.assign({},e),importHash:t},a=r.a.get();return(yield o.a.post(`/tenant/${a}/user/import`,i)).data}))}static find(e){return Object(a.a)(this,void 0,void 0,(function*(){const t=r.a.get();return(yield o.a.get(`/tenant/${t}/user/${e}`)).data}))}static fetchUsers(e,t,i,n){return Object(a.a)(this,void 0,void 0,(function*(){const a={filter:e,orderBy:t,limit:i,offset:n},c=r.a.get();return(yield o.a.get(`/tenant/${c}/user`,{params:a})).data}))}static fetchUserAutocomplete(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={query:e,limit:t},a=r.a.get();return(yield o.a.get(`/tenant/${a}/user/autocomplete`,{params:i})).data}))}}},EWUG:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var a=i("mrSG"),o=i("zkTT"),r=i("QmLB"),n=i("7p77"),c=i("Vbab"),s=i("fXoL"),d=i("0IaG"),l=i("UDmo"),u=i("bECE");let m=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.errorService=t,this.snackbar=i,this.saveLoading=!1}doCreate({values:e}){return Object(a.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0;const{id:t}=yield n.a.create(e),i=yield n.a.find(t);this.saveLoading=!1,this.snackbar.success(Object(c.d)("entities.informationCategory.create.success")),this.dialogRef&&this.dialogRef.close(i)}catch(t){this.errorService.handle(t),this.saveLoading=!1}}))}doCancel(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(s.Hc(d.g),s.Hc(r.a),s.Hc(o.a))},e.\u0275cmp=s.Bc({type:e,selectors:[["app-information-category-form-modal"]],decls:4,vars:2,consts:[["mat-dialog-title",""],["key","entities.informationCategory.new.title"],[3,"saveLoading","modal","save","cancel"]],template:function(e,t){1&e&&(s.Nc(0,"h1",0),s.Ic(1,"app-i18n",1),s.Mc(),s.Nc(2,"mat-dialog-content"),s.Nc(3,"app-information-category-form",2),s.Tc("save",(function(e){return t.doCreate(e)}))("cancel",(function(){return t.doCancel()})),s.Mc(),s.Mc()),2&e&&(s.wc(3),s.dd("saveLoading",t.saveLoading)("modal",!0))},directives:[d.h,l.a,d.e,u.a],encapsulation:2}),e})(),f=(()=>{class e{constructor(e){this.dialog=e}open(){return Object(a.a)(this,void 0,void 0,(function*(){const e=this.dialog.open(m,{width:"80%"});return new Promise(t=>{const i=e.afterClosed().subscribe(e=>{t(e),i&&!i.closed&&i.unsubscribe()})})}))}}return e.\u0275fac=function(t){return new(t||e)(s.Rc(d.b))},e.\u0275prov=s.Dc({token:e,factory:e.\u0275fac}),e})()},FP4Q:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var a=i("mrSG"),o=i("fXoL"),r=i("CovZ"),n=i("rXYk"),c=i("3Pt+"),s=i("ofXK"),d=i("kmnG"),l=i("qFsG"),u=i("YPZE"),m=i("vFJ8"),f=i("bTqV"),p=i("NFeN"),h=i("UDmo");function b(e,t){if(1&e){const e=o.Oc();o.Nc(0,"form",1,2),o.Tc("ngSubmit",(function(){return o.nd(e),o.Xc().doSave()})),o.Nc(2,"div",3),o.Nc(3,"div",4),o.Nc(4,"mat-form-field",5),o.Nc(5,"mat-label"),o.xd(6),o.Mc(),o.Ic(7,"input",6),o.Nc(8,"mat-error"),o.Ic(9,"app-validations",7),o.Mc(),o.Mc(),o.Nc(10,"mat-form-field",5),o.Nc(11,"mat-label"),o.xd(12),o.Mc(),o.Ic(13,"textarea",8),o.Nc(14,"mat-error"),o.Ic(15,"app-validations",7),o.Mc(),o.Mc(),o.Mc(),o.Nc(16,"div",4),o.Nc(17,"mat-form-field",5),o.Nc(18,"mat-label"),o.xd(19),o.Mc(),o.Ic(20,"input",9),o.Nc(21,"mat-error"),o.Ic(22,"app-validations",7),o.Mc(),o.Mc(),o.Nc(23,"mat-form-field",5),o.Nc(24,"mat-label"),o.xd(25),o.Mc(),o.Ic(26,"textarea",8),o.Nc(27,"mat-error"),o.Ic(28,"app-validations",7),o.Mc(),o.Mc(),o.Mc(),o.Nc(29,"div",4),o.Nc(30,"mat-form-field",5),o.Nc(31,"mat-label"),o.xd(32),o.Mc(),o.Ic(33,"input",9),o.Nc(34,"mat-error"),o.Ic(35,"app-validations",7),o.Mc(),o.Mc(),o.Nc(36,"mat-form-field",5),o.Nc(37,"mat-label"),o.xd(38),o.Mc(),o.Ic(39,"textarea",8),o.Nc(40,"mat-error"),o.Ic(41,"app-validations",7),o.Mc(),o.Mc(),o.Mc(),o.Nc(42,"div",10),o.Nc(43,"button",11),o.Ic(44,"mat-icon",12),o.xd(45,"\xa0 "),o.Ic(46,"app-i18n",13),o.Mc(),o.Nc(47,"button",14),o.Tc("click",(function(){return o.nd(e),o.Xc().doReset()})),o.Ic(48,"mat-icon",15),o.xd(49,"\xa0 "),o.Ic(50,"app-i18n",16),o.Mc(),o.Nc(51,"button",17),o.Tc("click",(function(){return o.nd(e),o.Xc().cancel.emit()})),o.Ic(52,"mat-icon",18),o.xd(53,"\xa0 "),o.Ic(54,"app-i18n",19),o.Mc(),o.Mc(),o.Mc(),o.Mc()}if(2&e){const e=o.Xc();o.dd("formGroup",e.form),o.wc(6),o.yd(e.fields.titleFR.label),o.wc(1),o.dd("formControlName",e.fields.titleFR.name)("required",e.fields.titleFR.required),o.wc(2),o.dd("control",e.form.get(e.fields.titleFR.name))("label",e.fields.titleFR.label),o.wc(3),o.yd(e.fields.descriptionFR.label),o.wc(1),o.dd("formControlName",e.fields.descriptionFR.name)("rows",4)("required",e.fields.descriptionFR.required),o.wc(2),o.dd("control",e.form.get(e.fields.descriptionFR.name))("label",e.fields.descriptionFR.label),o.wc(4),o.yd(e.fields.titleEN.label),o.wc(1),o.dd("formControlName",e.fields.titleEN.name)("required",e.fields.titleEN.required),o.wc(2),o.dd("control",e.form.get(e.fields.titleEN.name))("label",e.fields.titleEN.label),o.wc(3),o.yd(e.fields.descriptionEN.label),o.wc(1),o.dd("formControlName",e.fields.descriptionEN.name)("rows",4)("required",e.fields.descriptionEN.required),o.wc(2),o.dd("control",e.form.get(e.fields.descriptionEN.name))("label",e.fields.descriptionEN.label),o.wc(4),o.yd(e.fields.titleAR.label),o.wc(1),o.dd("formControlName",e.fields.titleAR.name)("required",e.fields.titleAR.required),o.wc(2),o.dd("control",e.form.get(e.fields.titleAR.name))("label",e.fields.titleAR.label),o.wc(3),o.yd(e.fields.descriptionAR.label),o.wc(1),o.dd("formControlName",e.fields.descriptionAR.name)("rows",4)("required",e.fields.descriptionAR.required),o.wc(2),o.dd("control",e.form.get(e.fields.descriptionAR.name))("label",e.fields.descriptionAR.label),o.wc(1),o.zc("form-buttons-modal",e.modal),o.wc(1),o.dd("disabled",e.saveLoading),o.wc(4),o.dd("disabled",e.saveLoading),o.wc(4),o.dd("disabled",e.saveLoading)}}let v=(()=>{class e{constructor(e){this.formBuilder=e,this.save=new o.v,this.cancel=new o.v,this.modal=!1}ngOnInit(){return Object(a.a)(this,void 0,void 0,(function*(){this.buildSchema(),this.buildForm()}))}get fields(){return r.a.fields}doSave(){if(!this.form.valid)return;const e=this.record&&this.record.id,t=this.schema.cast(this.form.value);this.save.emit({id:e,values:t})}doReset(){this.buildForm()}buildForm(){this.form=this.schema.buildForm(this.record)}buildSchema(){this.schema=new n.a([this.fields.titleFR,this.fields.titleEN,this.fields.titleAR,this.fields.descriptionFR,this.fields.descriptionEN,this.fields.descriptionAR],this.formBuilder)}}return e.\u0275fac=function(t){return new(t||e)(o.Hc(c.d))},e.\u0275cmp=o.Bc({type:e,selectors:[["app-testimony-category-form"]],inputs:{isEditing:"isEditing",record:"record",saveLoading:"saveLoading",modal:"modal"},outputs:{save:"save",cancel:"cancel"},decls:1,vars:1,consts:[["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],["ngForm","ngForm"],[1,"row"],[1,"col-md-4"],["floatLabel","always","appearance","outline"],["matInput","","appAutofocus","",3,"formControlName","required"],[3,"control","label"],["matInput","",3,"formControlName","rows","required"],["matInput","",3,"formControlName","required"],[1,"form-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["inline","","fontSet","far","fontIcon","fa-save"],["key","common.save"],["mat-flat-button","","color","accent","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-undo"],["key","common.reset"],["mat-flat-button","","color","warn","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-times"],["key","common.cancel"]],template:function(e,t){1&e&&o.wd(0,b,55,39,"form",0),2&e&&o.dd("ngIf",t.form)},directives:[s.k,c.s,c.n,c.h,d.c,d.f,l.b,c.c,u.a,c.m,c.g,c.q,d.b,m.a,f.b,p.a,h.a],encapsulation:2}),e})()},HhrM:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var a=i("mrSG"),o=i("MLI3"),r=i("+R1a"),n=i("fXoL"),c=i("ofXK"),s=i("jmCL"),d=i("YPZE"),l=i("LISj"),u=i("3Pt+");function m(e,t){if(1&e){const e=n.Oc();n.Nc(0,"app-autocomplete-form-field",2),n.Tc("createModalOpen",(function(){return n.nd(e),n.Xc().createModalOpen()})),n.Mc()}if(2&e){const e=n.Xc();n.dd("control",e.control)("label",e.label)("required",e.required)("fetchFn",e.fetchFn)("appAutofocus",e.appAutofocus)("serverSideSearch",e.serverSideSearch)("submitted",e.submitted)("showCreate",e.showCreate&&e.hasPermissionToCreate)}}function f(e,t){if(1&e){const e=n.Oc();n.Nc(0,"app-autocomplete-multiple-form-field",3),n.Tc("createModalOpen",(function(){return n.nd(e),n.Xc().createModalOpen()})),n.Mc()}if(2&e){const e=n.Xc();n.dd("control",e.control)("label",e.label)("required",e.required)("fetchFn",e.fetchFn)("appAutofocus",e.appAutofocus)("serverSideSearch",e.serverSideSearch)("ngForm",e.ngForm)("showCreate",e.showCreate&&e.hasPermissionToCreate)("submitted",e.submitted)}}let p=(()=>{class e{constructor(e,t){this.service=e,this.tagsService=t,this.mode="single",this.submitted=!1,this.required=!1,this.appAutofocus=!1,this.serverSideSearch=!1,this.fetchFn=null,this.mapperFn=null,this.showCreate=!1}get hasPermissionToCreate(){return this.tagsService.hasPermissionToCreate}createModalOpen(){return Object(a.a)(this,void 0,void 0,(function*(){const e=yield this.service.open();e&&this.control.setValue("multiple"===this.mode?[...this.control.value||[],this.mapperFn(e)]:this.mapperFn(e))}))}}return e.\u0275fac=function(t){return new(t||e)(n.Hc(o.a),n.Hc(r.a))},e.\u0275cmp=n.Bc({type:e,selectors:[["app-tags-form-field"]],inputs:{mode:"mode",submitted:"submitted",control:"control",label:"label",required:"required",appAutofocus:"appAutofocus",serverSideSearch:"serverSideSearch",fetchFn:"fetchFn",mapperFn:"mapperFn",ngForm:"ngForm",showCreate:"showCreate"},decls:3,vars:2,consts:[[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","submitted","showCreate","createModalOpen",4,"ngIf"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","ngForm","showCreate","submitted","createModalOpen",4,"ngIf"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","submitted","showCreate","createModalOpen"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","ngForm","showCreate","submitted","createModalOpen"]],template:function(e,t){1&e&&(n.Nc(0,"div"),n.wd(1,m,1,8,"app-autocomplete-form-field",0),n.wd(2,f,1,9,"app-autocomplete-multiple-form-field",1),n.Mc()),2&e&&(n.wc(1),n.dd("ngIf","single"===t.mode),n.wc(1),n.dd("ngIf","multiple"===t.mode))},directives:[c.k,s.a,d.a,l.a,u.n,u.o],encapsulation:2}),e})()},HnX7:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var a=i("mrSG"),o=i("zkTT"),r=i("QmLB"),n=i("42PK"),c=i("6PRp"),s=i("Vbab"),d=i("fXoL"),l=i("tyNb");let u=(()=>{class e{constructor(e,t,i,a){this.errorService=e,this.snackbar=t,this.router=i,this.activityListService=a,this.loading=!1,this.testimonyId=localStorage.getItem("testimonyId")}doDestroy(e){return Object(a.a)(this,void 0,void 0,(function*(){try{this.loading=!0,yield n.a.destroyAll([e]),this.loading=!1,this.snackbar.success(Object(s.d)("entities.activity.destroy.success")),this.router.navigate(["/testimony/"+this.testimonyId+"/edit"]),yield this.activityListService.doFetch(this.activityListService.filter)}catch(t){this.errorService.handle(t),this.loading=!1}}))}doDestroyAll(e){return Object(a.a)(this,void 0,void 0,(function*(){try{return this.loading=!0,yield n.a.destroyAll(e),this.loading=!1,this.activityListService.doResetSelectedKeys(),this.snackbar.success(Object(s.d)("entities.activity.destroyAll.success")),this.router.navigate(["/testimony/"+this.testimonyId+"/edit"]),this.activityListService.doFetch(this.activityListService.filter)}catch(t){this.errorService.handle(t),this.loading=!1}}))}}return e.\u0275fac=function(t){return new(t||e)(d.Rc(r.a),d.Rc(o.a),d.Rc(l.b),d.Rc(c.a))},e.\u0275prov=d.Dc({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},IsfU:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var a=i("dCvk"),o=i("Vbab"),r=i("gfiE"),n=i("3WK+"),c=i("Yo9n"),s=i("9Lsv");function d(e){return Object(o.d)("entities.tags.fields."+e)}const l={id:new n.a("id",d("id")),titleFR:new s.a("titleFR",d("titleFR"),{required:!0}),titleEN:new s.a("titleEN",d("titleEN"),{required:!0}),titleAR:new s.a("titleAR",d("titleAR"),{required:!0}),createdAt:new r.a("createdAt",d("createdAt")),updatedAt:new r.a("updatedAt",d("updatedAt")),createdAtRange:new c.a("createdAtRange",d("createdAtRange"))};class u extends a.a{static get fields(){return l}}},JXn4:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var a=i("dCvk"),o=i("Vbab"),r=i("gfiE"),n=i("3WK+"),c=i("Yo9n"),s=i("9Lsv"),d=i("5LST"),l=i("gJ6y"),u=i("mmyZ"),m=i("a/az");function f(e){return Object(o.d)("entities.partner.fields."+e)}const p={id:new n.a("id",f("id")),category:class{static relationToOne(e,t,i){return new d.a(e,t,"/partner-category",u.a.values.partnerCategoryRead,l.a.listAutocomplete,e=>e?{id:e.id,label:e.titleFR}:null,i)}static relationToMany(e,t,i){return new m.a(e,t,"/partner-category",u.a.values.partnerCategoryRead,l.a.listAutocomplete,e=>e?{id:e.id,label:e.titleFR}:null,i)}}.relationToOne("category",f("category"),{required:!0}),title:new s.a("title",f("title"),{required:!0}),desription:new s.a("desription",f("desription"),{}),phone:new s.a("phone",f("phone"),{}),mobile:new s.a("mobile",f("mobile"),{}),address:new s.a("address",f("address"),{}),email:new s.a("email",f("email"),{required:!0}),createdAt:new r.a("createdAt",f("createdAt")),updatedAt:new r.a("updatedAt",f("updatedAt")),createdAtRange:new c.a("createdAtRange",f("createdAtRange"))};class h extends a.a{static get fields(){return p}}},KAnB:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var a=i("mrSG"),o=i("KYx6"),r=i("CN2L");class n{static update(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={id:e,data:t},a=r.a.get();return(yield o.a.put(`/tenant/${a}/informations/${e}`,i)).data}))}static destroyAll(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={ids:e},i=r.a.get();return(yield o.a.delete(`/tenant/${i}/informations`,{params:t})).data}))}static create(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={data:e},i=r.a.get();return(yield o.a.post(`/tenant/${i}/informations`,t)).data}))}static import(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={data:e,importHash:t},a=r.a.get();return(yield o.a.post(`/tenant/${a}/informations/import`,i)).data}))}static find(e){return Object(a.a)(this,void 0,void 0,(function*(){const t=r.a.get();return(yield o.a.get(`/tenant/${t}/informations/${e}`)).data}))}static list(e,t,i,n){return Object(a.a)(this,void 0,void 0,(function*(){const a={filter:e,orderBy:t,limit:i,offset:n},c=r.a.get();return(yield o.a.get(`/tenant/${c}/informations`,{params:a})).data}))}static listAutocomplete(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={query:e,limit:t},a=r.a.get();return(yield o.a.get(`/tenant/${a}/informations/autocomplete`,{params:i})).data}))}}},LISj:function(e,t,i){"use strict";i.d(t,"a",(function(){return I}));var a=i("mrSG"),o=i("fXoL"),r=i("LvDl"),n=i("kmnG"),c=i("qFsG"),s=i("/1cH"),d=i("YPZE"),l=i("ofXK"),u=i("A5z7"),m=i("3Pt+"),f=i("bTqV"),p=i("NFeN"),h=i("FKr1"),b=i("Xa2L"),v=i("vFJ8");const g=["textInput"];function w(e,t){if(1&e){const e=o.Oc();o.Nc(0,"button",14),o.Tc("click",(function(t){return o.nd(e),o.Xc().openCreateModal(t)})),o.Nc(1,"mat-icon"),o.xd(2,"add"),o.Mc(),o.Mc()}}function y(e,t){1&e&&(o.Nc(0,"mat-option",15),o.Ic(1,"mat-spinner",16),o.Mc())}function N(e,t){if(1&e&&(o.Nc(0,"mat-option",18),o.Nc(1,"span"),o.xd(2),o.Mc(),o.Mc()),2&e){const e=t.$implicit;o.dd("value",e),o.wc(2),o.yd(e.label)}}function S(e,t){if(1&e&&(o.Lc(0),o.wd(1,N,3,2,"mat-option",17),o.Kc()),2&e){const e=o.Xc();o.wc(1),o.dd("ngForOf",e.dataSource)}}function M(e,t){if(1&e){const e=o.Oc();o.Nc(0,"mat-chip",19),o.Tc("removed",(function(){o.nd(e);const i=t.$implicit;return o.Xc().remove(i.id)})),o.xd(1),o.Nc(2,"mat-icon",20),o.xd(3,"cancel"),o.Mc(),o.Mc()}if(2&e){const e=t.$implicit;o.dd("removable",!0),o.wc(1),o.zd(" ",e.label," ")}}function F(e,t){if(1&e&&(o.Nc(0,"div",21),o.Ic(1,"app-validations",22),o.Mc()),2&e){const e=o.Xc();o.wc(1),o.dd("control",e.control)("label",e.label)("ngForm",e.ngForm)}}let I=(()=>{class e{constructor(){this.createModalOpen=new o.v,this.submitted=!1,this.appAutofocus=!1,this.required=!1,this.serverSideSearch=!1,this.fetchFn=null,this.showCreate=!1,this.currentQuery="NOT_INITIALIZED",this.serverSideDataSource=[],this.clientSideDataSource=[],this.loading=!1,this.debouncedSearch=e=>{}}add(e){const t=e.option.value;t&&((this.control.value||[]).some(e=>e.id===t.id)||this.control.setValue([...this.control.value||[],t])),this.textInput&&(this.textInput.nativeElement.value="")}remove(e){this.control.setValue([...(this.control.value||[]).filter(t=>!t||t.id!==e)])}get dataSource(){return this.serverSideSearch?this.serverSideDataSource:this.clientSideDataSource}handleSearch(e){return Object(a.a)(this,void 0,void 0,(function*(){if(Object(r.isString)(e))return this.serverSideSearch?this.handleSearchServer(e):this.handleSearchClient(e)}))}handleSearchClient(e){return Object(a.a)(this,void 0,void 0,(function*(){this.serverSideDataSource&&this.serverSideDataSource.length||(yield this.handleSearchServer()),this.clientSideDataSource=this.serverSideDataSource.filter(t=>String(t.label||"").toLowerCase().includes(String(e||"").toLowerCase())),this.loading=!1}))}handleSearchServer(e){return Object(a.a)(this,void 0,void 0,(function*(){if(e!==this.currentQuery){this.currentQuery=e,this.loading=!0;try{const t=yield this.fetchFn(e,100);this.currentQuery===e&&(this.serverSideDataSource=t,this.loading=!1)}catch(t){console.error(t),this.currentQuery===e&&(this.serverSideDataSource=[],this.loading=!1)}}}))}ngOnInit(){this.debouncedSearch=Object(r.debounce)(this.handleSearch.bind(this),300),this.handleSearch("")}displayFn(e){if(e)return e.label}openCreateModal(e){e.stopPropagation(),this.createModalOpen.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Bc({type:e,selectors:[["app-autocomplete-multiple-form-field"]],viewQuery:function(e,t){var i;1&e&&o.sd(g,!0),2&e&&o.kd(i=o.Uc())&&(t.textInput=i.first)},inputs:{submitted:"submitted",control:"control",label:"label",appAutofocus:"appAutofocus",required:"required",serverSideSearch:"serverSideSearch",fetchFn:"fetchFn",ngForm:"ngForm",showCreate:"showCreate"},outputs:{createModalOpen:"createModalOpen"},decls:16,vars:12,consts:[["floatLabel","always","appearance","outline"],[1,"autocomplete-form-field"],["matInput","",3,"matAutocomplete","appAutofocus","required","input"],["textInput",""],["mat-icon-button","","type","button","color","primary",3,"click",4,"ngIf"],["autoActiveFirstOption","",3,"displayWith","optionSelected"],["auto","matAutocomplete"],["class","mat-option-spinner",4,"ngIf"],[4,"ngIf"],[2,"margin-top","-16px","margin-bottom","16px"],[3,"placeholder","formControl"],["chipList",""],[3,"removable","removed",4,"ngFor","ngForOf"],["class","app-form-error","style","padding-left: 1rem; margin-top: 0px; margin-bottom: 16px",4,"ngIf"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"mat-option-spinner"],["color","accent","diameter","50"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"removable","removed"],["matChipRemove",""],[1,"app-form-error",2,"padding-left","1rem","margin-top","0px","margin-bottom","16px"],[3,"control","label","ngForm"]],template:function(e,t){if(1&e&&(o.Nc(0,"mat-form-field",0),o.Nc(1,"mat-label"),o.xd(2),o.Mc(),o.Nc(3,"div",1),o.Nc(4,"input",2,3),o.Tc("input",(function(e){return t.debouncedSearch(e.target.value)})),o.Mc(),o.wd(6,w,3,0,"button",4),o.Mc(),o.Nc(7,"mat-autocomplete",5,6),o.Tc("optionSelected",(function(e){return t.add(e)})),o.wd(9,y,2,0,"mat-option",7),o.wd(10,S,2,1,"ng-container",8),o.Mc(),o.Mc(),o.Nc(11,"div",9),o.Nc(12,"mat-chip-list",10,11),o.wd(14,M,4,2,"mat-chip",12),o.Mc(),o.wd(15,F,2,3,"div",13),o.Mc()),2&e){const e=o.ld(8);o.wc(2),o.yd(t.label),o.wc(2),o.dd("matAutocomplete",e)("appAutofocus",t.appAutofocus)("required",t.required),o.wc(2),o.dd("ngIf",t.showCreate),o.wc(1),o.dd("displayWith",t.displayFn),o.wc(2),o.dd("ngIf",t.loading),o.wc(1),o.dd("ngIf",!t.loading),o.wc(2),o.dd("placeholder",t.label)("formControl",t.control),o.wc(2),o.dd("ngForOf",t.control.value),o.wc(1),o.dd("ngIf",t.submitted)}},directives:[n.c,n.f,c.b,s.c,d.a,l.k,s.a,u.c,m.m,m.f,l.j,f.b,p.a,h.o,b.b,u.a,u.d,v.a,m.n,m.o],encapsulation:2}),e})()},MLI3:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var a=i("mrSG"),o=i("zkTT"),r=i("QmLB"),n=i("sMbg"),c=i("Vbab"),s=i("fXoL"),d=i("0IaG"),l=i("UDmo"),u=i("xuDp");let m=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.errorService=t,this.snackbar=i,this.saveLoading=!1}doCreate({values:e}){return Object(a.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0;const{id:t}=yield n.a.create(e),i=yield n.a.find(t);this.saveLoading=!1,this.snackbar.success(Object(c.d)("entities.tags.create.success")),this.dialogRef&&this.dialogRef.close(i)}catch(t){this.errorService.handle(t),this.saveLoading=!1}}))}doCancel(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(s.Hc(d.g),s.Hc(r.a),s.Hc(o.a))},e.\u0275cmp=s.Bc({type:e,selectors:[["app-tags-form-modal"]],decls:4,vars:2,consts:[["mat-dialog-title",""],["key","entities.tags.new.title"],[3,"saveLoading","modal","save","cancel"]],template:function(e,t){1&e&&(s.Nc(0,"h1",0),s.Ic(1,"app-i18n",1),s.Mc(),s.Nc(2,"mat-dialog-content"),s.Nc(3,"app-tags-form",2),s.Tc("save",(function(e){return t.doCreate(e)}))("cancel",(function(){return t.doCancel()})),s.Mc(),s.Mc()),2&e&&(s.wc(3),s.dd("saveLoading",t.saveLoading)("modal",!0))},directives:[d.h,l.a,d.e,u.a],encapsulation:2}),e})(),f=(()=>{class e{constructor(e){this.dialog=e}open(){return Object(a.a)(this,void 0,void 0,(function*(){const e=this.dialog.open(m,{width:"80%"});return new Promise(t=>{const i=e.afterClosed().subscribe(e=>{t(e),i&&!i.closed&&i.unsubscribe()})})}))}}return e.\u0275fac=function(t){return new(t||e)(s.Rc(d.b))},e.\u0275prov=s.Dc({token:e,factory:e.\u0275fac}),e})()},OVB5:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var a=i("mrSG"),o=i("zkTT"),r=i("QmLB"),n=i("bPrR"),c=i("Vbab"),s=i("fXoL"),d=i("0IaG"),l=i("UDmo"),u=i("U6v1");let m=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.errorService=t,this.snackbar=i,this.saveLoading=!1}doCreate({values:e}){return Object(a.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0;const{id:t}=yield n.a.create(e),i=yield n.a.find(t);this.saveLoading=!1,this.snackbar.success(Object(c.d)("entities.partner.create.success")),this.dialogRef&&this.dialogRef.close(i)}catch(t){this.errorService.handle(t),this.saveLoading=!1}}))}doCancel(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(s.Hc(d.g),s.Hc(r.a),s.Hc(o.a))},e.\u0275cmp=s.Bc({type:e,selectors:[["app-partner-form-modal"]],decls:4,vars:2,consts:[["mat-dialog-title",""],["key","entities.partner.new.title"],[3,"saveLoading","modal","save","cancel"]],template:function(e,t){1&e&&(s.Nc(0,"h1",0),s.Ic(1,"app-i18n",1),s.Mc(),s.Nc(2,"mat-dialog-content"),s.Nc(3,"app-partner-form",2),s.Tc("save",(function(e){return t.doCreate(e)}))("cancel",(function(){return t.doCancel()})),s.Mc(),s.Mc()),2&e&&(s.wc(3),s.dd("saveLoading",t.saveLoading)("modal",!0))},directives:[d.h,l.a,d.e,u.a],encapsulation:2}),e})(),f=(()=>{class e{constructor(e){this.dialog=e}open(){return Object(a.a)(this,void 0,void 0,(function*(){const e=this.dialog.open(m,{width:"80%"});return new Promise(t=>{const i=e.afterClosed().subscribe(e=>{t(e),i&&!i.closed&&i.unsubscribe()})})}))}}return e.\u0275fac=function(t){return new(t||e)(s.Rc(d.b))},e.\u0275prov=s.Dc({token:e,factory:e.\u0275fac}),e})()},QQG4:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var a=i("9Lsv"),o=i("3WK+"),r=i("gfiE"),n=i("Yo9n"),c=i("3arV"),s=i("s1L9"),d=i("PaKb"),l=i("u9O/"),u=i("UGp+"),m=i("+dX3"),f=i("VXJn"),p=i("Vbab"),h=i("dCvk"),b=i("nV0w");class v extends d.a{constructor(e,t,i){super(e,t,i),this.options=f.a.selectOptions}forExport(){return u.c().label(this.label).transform(e=>e?e.map(e=>f.a.labelOf(e)).join(" "):null)}}function g(e){return Object(p.d)("user.fields."+e)}const w={id:new o.a("id",g("id")),firstName:new a.a("firstName",g("firstName"),{max:80}),lastName:new a.a("lastName",g("lastName"),{max:175}),password:new a.a("password",g("password"),{required:!0}),oldPassword:new a.a("oldPassword",g("oldPassword"),{required:!0}),newPassword:new a.a("newPassword",g("newPassword"),{required:!0}),newPasswordConfirmation:new a.a("newPasswordConfirmation",g("newPasswordConfirmation"),{required:!0}),fullName:new a.a("fullName",g("fullName")),email:new a.a("email",g("email"),{required:!0,max:255}),role:new m.a("role",g("role"),f.a.selectOptions),rememberMe:new s.a("rememberMe",g("rememberMe")),phoneNumber:new a.a("phoneNumber",g("phoneNumber"),{matches:/^[0-9]/,max:24}),avatars:new c.a("avatars",g("avatars"),b.a.values.userAvatarsProfiles,{max:1}),emails:new class extends d.a{forFormRules(){let e=u.a().label(this.label).of(u.f().email(Object(p.d)("user.validations.email")).label(Object(p.d)("user.fields.email")).max(255).required());return this.required&&(e=e.required()),[{validator:(t,i,a)=>{try{e.validateSync(i),a()}catch(o){a(o)}}}]}}("emails",g("emails"),{required:!0}),roles:new v("roles",g("roles"),{}),rolesRequired:new v("roles",g("roles"),{required:!0}),status:new m.a("status",g("status"),[{id:"active",label:Object(p.d)("user.status.active")},{id:"invited",label:Object(p.d)("user.status.invited")},{id:"empty-permissions",label:Object(p.d)("user.status.empty-permissions")},{id:"inactive",label:Object(p.d)("user.status.inactive")}]),createdAt:new r.a("createdAt",g("createdAt")),updatedAt:new r.a("updatedAt",g("updatedAt")),createdAtRange:new n.a("createdAtRange",g("createdAtRange")),roleUser:new l.a("roleUser",g("roleUser"))};class y extends h.a{static get fields(){return w}}},"QSg+":function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var a=i("mrSG"),o=i("zkTT"),r=i("QmLB"),n=i("42PK"),c=i("Vbab"),s=i("5AYL"),d=i("NWLm"),l=i("fXoL"),u=i("0IaG"),m=i("tyNb"),f=i("UDmo"),p=i("cvrn");let h=(()=>{class e{constructor(e,t,i,a){this.dialogRef=e,this.errorService=t,this.snackbar=i,this.router=a,this.saveLoading=!1,this.testimony=s.a}doCreate({values:e}){return Object(a.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0;const{id:t}=yield n.a.create(e),i=yield n.a.find(t);this.testimonyId=this.getCurrentTestimony(),this.testimony=yield d.a.find(this.testimonyId),this.data={activity:t},yield d.a.updateActivityToTestimony(this.testimonyId,this.data),this.saveLoading=!1,this.snackbar.success(Object(c.d)("entities.activity.create.success")),this.dialogRef&&this.dialogRef.close(i)}catch(t){this.errorService.handle(t),this.saveLoading=!1}window.location.reload()}))}getCurrentTestimony(){return localStorage.getItem("testimonyId")}doCancel(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(l.Hc(u.g),l.Hc(r.a),l.Hc(o.a),l.Hc(m.b))},e.\u0275cmp=l.Bc({type:e,selectors:[["app-activity-form-modal"]],decls:4,vars:2,consts:[["mat-dialog-title",""],["key","entities.activity.new.title"],[3,"saveLoading","modal","save","cancel"]],template:function(e,t){1&e&&(l.Nc(0,"h1",0),l.Ic(1,"app-i18n",1),l.Mc(),l.Nc(2,"mat-dialog-content"),l.Nc(3,"app-activity-form",2),l.Tc("save",(function(e){return t.doCreate(e)}))("cancel",(function(){return t.doCancel()})),l.Mc(),l.Mc()),2&e&&(l.wc(3),l.dd("saveLoading",t.saveLoading)("modal",!0))},directives:[u.h,f.a,u.e,p.a],encapsulation:2}),e})(),b=(()=>{class e{constructor(e){this.dialog=e}open(){return Object(a.a)(this,void 0,void 0,(function*(){const e=this.dialog.open(h,{width:"80%"});return new Promise(t=>{const i=e.afterClosed().subscribe(e=>{t(e),i&&!i.closed&&i.unsubscribe()})})}))}}return e.\u0275fac=function(t){return new(t||e)(l.Rc(u.b))},e.\u0275prov=l.Dc({token:e,factory:e.\u0275fac}),e})()},RNjW:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var a=i("FtGj"),o=i("fXoL"),r=i("kmnG"),n=i("A5z7"),c=i("3Pt+"),s=i("ofXK"),d=i("qFsG"),l=i("YPZE"),u=i("vFJ8"),m=i("NFeN");function f(e,t){if(1&e){const e=o.Oc();o.Nc(0,"mat-chip",6),o.Tc("removed",(function(){o.nd(e);const i=t.$implicit;return o.Xc().remove(i)})),o.xd(1),o.Nc(2,"mat-icon",7),o.xd(3,"cancel"),o.Mc(),o.Mc()}if(2&e){const e=t.$implicit;o.dd("removable",!0),o.wc(1),o.zd(" ",e," ")}}let p=(()=>{class e{constructor(){this.appAutofocus=!1,this.required=!1,this.separatorKeysCodes=[a.g,a.c]}add(e){const t=e.input,i=e.value;(i||"").trim()&&this.control.setValue([...this.control.value||[],i.trim()]),t&&(t.value="")}remove(e){this.control.setValue([...(this.control.value||[]).filter(t=>t!==e)])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Bc({type:e,selectors:[["app-tag-form-field"]],inputs:{control:"control",label:"label",appAutofocus:"appAutofocus",required:"required"},decls:9,vars:11,consts:[["floatLabel","always","appearance","outline"],[3,"formControl","required"],["chipList",""],[3,"removable","removed",4,"ngFor","ngForOf"],["matInput","",3,"matChipInputFor","matChipInputSeparatorKeyCodes","appAutofocus","matChipInputAddOnBlur","required","matChipInputTokenEnd"],[3,"control","label"],[3,"removable","removed"],["matChipRemove",""]],template:function(e,t){if(1&e&&(o.Nc(0,"mat-form-field",0),o.Nc(1,"mat-label"),o.xd(2),o.Mc(),o.Nc(3,"mat-chip-list",1,2),o.wd(5,f,4,2,"mat-chip",3),o.Nc(6,"input",4),o.Tc("matChipInputTokenEnd",(function(e){return t.add(e)})),o.Mc(),o.Mc(),o.Nc(7,"mat-error"),o.Ic(8,"app-validations",5),o.Mc(),o.Mc()),2&e){const e=o.ld(4);o.wc(2),o.yd(t.label),o.wc(1),o.dd("formControl",t.control)("required",t.required),o.wc(2),o.dd("ngForOf",t.control.value),o.wc(1),o.dd("matChipInputFor",e)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("appAutofocus",t.appAutofocus)("matChipInputAddOnBlur",!0)("required",t.required),o.wc(2),o.dd("control",t.control)("label",t.label)}},directives:[r.c,r.f,n.c,c.m,c.f,c.q,s.j,d.b,n.b,l.a,r.b,u.a,n.a,m.a,n.d],encapsulation:2}),e})()},"S7/7":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var a=i("fXoL"),o=i("49PN");let r=(()=>{class e{get valueAsArray(){return this.value?Array.isArray(this.value)?this.value:[this.value]:[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Bc({type:e,selectors:[["app-table-item-images"]],inputs:{value:"value"},decls:1,vars:2,consts:[[3,"src","alt"]],template:function(e,t){1&e&&a.Ic(0,"app-avatar",0),2&e&&a.dd("src",t.valueAsArray.length?t.valueAsArray[0].downloadUrl:void 0)("alt",t.valueAsArray.length?t.valueAsArray[0].name:void 0)},directives:[o.a],encapsulation:2}),e})()},U6v1:function(e,t,i){"use strict";i.d(t,"a",(function(){return F}));var a=i("mrSG"),o=i("fXoL"),r=i("JXn4"),n=i("rXYk"),c=i("3Pt+"),s=i("ofXK"),d=i("a55H"),l=i("+eGu"),u=i("jmCL"),m=i("YPZE"),f=i("LISj");function p(e,t){if(1&e){const e=o.Oc();o.Nc(0,"app-autocomplete-form-field",2),o.Tc("createModalOpen",(function(){return o.nd(e),o.Xc().createModalOpen()})),o.Mc()}if(2&e){const e=o.Xc();o.dd("control",e.control)("label",e.label)("required",e.required)("fetchFn",e.fetchFn)("appAutofocus",e.appAutofocus)("serverSideSearch",e.serverSideSearch)("submitted",e.submitted)("showCreate",e.showCreate&&e.hasPermissionToCreate)}}function h(e,t){if(1&e){const e=o.Oc();o.Nc(0,"app-autocomplete-multiple-form-field",3),o.Tc("createModalOpen",(function(){return o.nd(e),o.Xc().createModalOpen()})),o.Mc()}if(2&e){const e=o.Xc();o.dd("control",e.control)("label",e.label)("required",e.required)("fetchFn",e.fetchFn)("appAutofocus",e.appAutofocus)("serverSideSearch",e.serverSideSearch)("ngForm",e.ngForm)("showCreate",e.showCreate&&e.hasPermissionToCreate)("submitted",e.submitted)}}let b=(()=>{class e{constructor(e,t){this.service=e,this.partnerCategoryService=t,this.mode="single",this.submitted=!1,this.required=!1,this.appAutofocus=!1,this.serverSideSearch=!1,this.fetchFn=null,this.mapperFn=null,this.showCreate=!1}get hasPermissionToCreate(){return this.partnerCategoryService.hasPermissionToCreate}createModalOpen(){return Object(a.a)(this,void 0,void 0,(function*(){const e=yield this.service.open();e&&this.control.setValue("multiple"===this.mode?[...this.control.value||[],this.mapperFn(e)]:this.mapperFn(e))}))}}return e.\u0275fac=function(t){return new(t||e)(o.Hc(d.a),o.Hc(l.a))},e.\u0275cmp=o.Bc({type:e,selectors:[["app-partner-category-form-field"]],inputs:{mode:"mode",submitted:"submitted",control:"control",label:"label",required:"required",appAutofocus:"appAutofocus",serverSideSearch:"serverSideSearch",fetchFn:"fetchFn",mapperFn:"mapperFn",ngForm:"ngForm",showCreate:"showCreate"},decls:3,vars:2,consts:[[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","submitted","showCreate","createModalOpen",4,"ngIf"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","ngForm","showCreate","submitted","createModalOpen",4,"ngIf"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","submitted","showCreate","createModalOpen"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","ngForm","showCreate","submitted","createModalOpen"]],template:function(e,t){1&e&&(o.Nc(0,"div"),o.wd(1,p,1,8,"app-autocomplete-form-field",0),o.wd(2,h,1,9,"app-autocomplete-multiple-form-field",1),o.Mc()),2&e&&(o.wc(1),o.dd("ngIf","single"===t.mode),o.wc(1),o.dd("ngIf","multiple"===t.mode))},directives:[s.k,u.a,m.a,f.a,c.n,c.o],encapsulation:2}),e})();var v=i("kmnG"),g=i("qFsG"),w=i("vFJ8"),y=i("bTqV"),N=i("NFeN"),S=i("UDmo");function M(e,t){if(1&e){const e=o.Oc();o.Nc(0,"form",1,2),o.Tc("ngSubmit",(function(){return o.nd(e),o.Xc().doSave()})),o.Nc(2,"div",3),o.Nc(3,"div",4),o.Ic(4,"app-partner-category-form-field",5),o.Mc(),o.Nc(5,"div",6),o.Nc(6,"mat-form-field",7),o.Nc(7,"mat-label"),o.xd(8),o.Mc(),o.Ic(9,"input",8),o.Nc(10,"mat-error"),o.Ic(11,"app-validations",9),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Nc(12,"div",3),o.Nc(13,"div",10),o.Nc(14,"mat-form-field",7),o.Nc(15,"mat-label"),o.xd(16),o.Mc(),o.Ic(17,"textarea",11),o.Nc(18,"mat-error"),o.Ic(19,"app-validations",9),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Nc(20,"div",3),o.Nc(21,"div",10),o.Nc(22,"mat-form-field",7),o.Nc(23,"mat-label"),o.xd(24),o.Mc(),o.Ic(25,"input",8),o.Nc(26,"mat-error"),o.Ic(27,"app-validations",9),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Nc(28,"div",3),o.Nc(29,"div",12),o.Nc(30,"mat-form-field",7),o.Nc(31,"mat-label"),o.xd(32),o.Mc(),o.Ic(33,"input",8),o.Nc(34,"mat-error"),o.Ic(35,"app-validations",9),o.Mc(),o.Mc(),o.Mc(),o.Nc(36,"div",12),o.Nc(37,"mat-form-field",7),o.Nc(38,"mat-label"),o.xd(39),o.Mc(),o.Ic(40,"input",8),o.Nc(41,"mat-error"),o.Ic(42,"app-validations",9),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Nc(43,"div",3),o.Nc(44,"div",10),o.Nc(45,"mat-form-field",7),o.Nc(46,"mat-label"),o.xd(47),o.Mc(),o.Ic(48,"textarea",11),o.Nc(49,"mat-error"),o.Ic(50,"app-validations",9),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Nc(51,"div",13),o.Nc(52,"button",14),o.Ic(53,"mat-icon",15),o.xd(54,"\xa0 "),o.Ic(55,"app-i18n",16),o.Mc(),o.Nc(56,"button",17),o.Tc("click",(function(){return o.nd(e),o.Xc().doReset()})),o.Ic(57,"mat-icon",18),o.xd(58,"\xa0 "),o.Ic(59,"app-i18n",19),o.Mc(),o.Nc(60,"button",20),o.Tc("click",(function(){return o.nd(e),o.Xc().cancel.emit()})),o.Ic(61,"mat-icon",21),o.xd(62,"\xa0 "),o.Ic(63,"app-i18n",22),o.Mc(),o.Mc(),o.Mc()}if(2&e){const e=o.ld(1),t=o.Xc();o.dd("formGroup",t.form),o.wc(4),o.dd("control",t.form.get(t.fields.category.name))("label",t.fields.category.label)("required",t.fields.category.required)("fetchFn",t.fields.category.fetchFn)("mapperFn",t.fields.category.mapperFn)("showCreate",!t.modal)("submitted",e.submitted),o.wc(4),o.yd(t.fields.title.label),o.wc(1),o.dd("formControlName",t.fields.title.name)("required",t.fields.title.required),o.wc(2),o.dd("control",t.form.get(t.fields.title.name))("label",t.fields.title.label),o.wc(5),o.yd(t.fields.desription.label),o.wc(1),o.dd("formControlName",t.fields.desription.name)("rows",4)("required",t.fields.desription.required),o.wc(2),o.dd("control",t.form.get(t.fields.desription.name))("label",t.fields.desription.label),o.wc(5),o.yd(t.fields.email.label),o.wc(1),o.dd("formControlName",t.fields.email.name)("required",t.fields.email.required),o.wc(2),o.dd("control",t.form.get(t.fields.email.name))("label",t.fields.email.label),o.wc(5),o.yd(t.fields.phone.label),o.wc(1),o.dd("formControlName",t.fields.phone.name)("required",t.fields.phone.required),o.wc(2),o.dd("control",t.form.get(t.fields.phone.name))("label",t.fields.phone.label),o.wc(4),o.yd(t.fields.mobile.label),o.wc(1),o.dd("formControlName",t.fields.mobile.name)("required",t.fields.mobile.required),o.wc(2),o.dd("control",t.form.get(t.fields.mobile.name))("label",t.fields.mobile.label),o.wc(5),o.yd(t.fields.address.label),o.wc(1),o.dd("formControlName",t.fields.address.name)("rows",4)("required",t.fields.address.required),o.wc(2),o.dd("control",t.form.get(t.fields.address.name))("label",t.fields.address.label),o.wc(1),o.zc("form-buttons-modal",t.modal),o.wc(1),o.dd("disabled",t.saveLoading),o.wc(4),o.dd("disabled",t.saveLoading),o.wc(4),o.dd("disabled",t.saveLoading)}}let F=(()=>{class e{constructor(e){this.formBuilder=e,this.save=new o.v,this.cancel=new o.v,this.modal=!1}ngOnInit(){return Object(a.a)(this,void 0,void 0,(function*(){this.buildSchema(),this.buildForm()}))}get fields(){return r.a.fields}doSave(){if(!this.form.valid)return;const e=this.record&&this.record.id,t=this.schema.cast(this.form.value);this.save.emit({id:e,values:t})}doReset(){this.buildForm()}buildForm(){this.form=this.schema.buildForm(this.record)}buildSchema(){this.schema=new n.a([this.fields.category,this.fields.title,this.fields.desription,this.fields.phone,this.fields.mobile,this.fields.address,this.fields.email],this.formBuilder)}}return e.\u0275fac=function(t){return new(t||e)(o.Hc(c.d))},e.\u0275cmp=o.Bc({type:e,selectors:[["app-partner-form"]],inputs:{isEditing:"isEditing",record:"record",saveLoading:"saveLoading",modal:"modal"},outputs:{save:"save",cancel:"cancel"},decls:1,vars:1,consts:[["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],["ngForm","ngForm"],[1,"row"],[1,"col-md-4"],["mode","single",3,"control","label","required","fetchFn","mapperFn","showCreate","submitted"],[1,"col-md-8"],["floatLabel","always","appearance","outline"],["matInput","",3,"formControlName","required"],[3,"control","label"],[1,"col-md-12"],["matInput","",3,"formControlName","rows","required"],[1,"col-md-6"],[1,"form-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["inline","","fontSet","far","fontIcon","fa-save"],["key","common.save"],["mat-flat-button","","color","accent","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-undo"],["key","common.reset"],["mat-flat-button","","color","warn","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-times"],["key","common.cancel"]],template:function(e,t){1&e&&o.wd(0,M,64,45,"form",0),2&e&&o.dd("ngIf",t.form)},directives:[s.k,c.s,c.n,c.h,b,v.c,v.f,g.b,c.c,c.m,c.g,c.q,v.b,w.a,y.b,N.a,S.a],encapsulation:2}),e})()},XGOh:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var a=i("dCvk"),o=i("Vbab"),r=i("gfiE"),n=i("3WK+"),c=i("Yo9n"),s=i("9Lsv"),d=i("nV0w"),l=i("qTlC"),u=i("3arV"),m=i("5LST"),f=i("NWLm"),p=i("mmyZ"),h=i("a/az");function b(e){return Object(o.d)("entities.activity.fields."+e)}const v={id:new n.a("id",b("id")),comment:new s.a("comment",b("comment"),{required:!0}),date:new r.a("date",b("date")),images:new u.a("images",b("images"),d.a.values.activityImages,{}),audio:new l.a("audio",b("audio"),d.a.values.activityAudio,{max:1,formats:["mp3"]}),documents:new l.a("documents",b("documents"),d.a.values.activityDocuments,{formats:["pdf","doc"]}),video:new l.a("video",b("video"),d.a.values.activityVideo,{max:1,formats:["mp4"]}),position:new s.a("position",b("position"),{}),testimony:class{static relationToOne(e,t,i){return new m.a(e,t,"/testimony",p.a.values.testimonyRead,f.a.listAutocomplete,e=>e?{id:e.id,label:e.title}:null,i)}static relationToMany(e,t,i){return new h.a(e,t,"/testimony",p.a.values.testimonyRead,f.a.listAutocomplete,e=>e?{id:e.id,label:e.title}:null,i)}}.relationToOne("testimony",b("testimony"),{}),createdAt:new r.a("createdAt",b("createdAt")),updatedAt:new r.a("updatedAt",b("updatedAt")),createdAtRange:new c.a("createdAtRange",b("createdAtRange"))};class g extends a.a{static get fields(){return v}}},YPZE:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var a=i("fXoL");let o=(()=>{class e{constructor(e){this.elementRef=e,this.shouldFocusElement="",this.timer=null,this.timerDelay=10}ngAfterContentInit(){""===this.shouldFocusElement&&this.startFocusWorkflow()}ngOnChanges(e){e.timerDelay&&"number"!=typeof this.timerDelay&&isNaN(this.timerDelay=+this.timerDelay)&&(this.timerDelay=10),e.shouldFocusElement&&(this.shouldFocusElement?this.startFocusWorkflow():this.stopFocusWorkflow())}ngOnDestroy(){this.stopFocusWorkflow()}startFocusWorkflow(){this.timer||(this.timer=setTimeout(()=>{this.timer=null,this.elementRef.nativeElement.focus()},this.timerDelay))}stopFocusWorkflow(){clearTimeout(this.timer),this.timer=null}}return e.\u0275fac=function(t){return new(t||e)(a.Hc(a.s))},e.\u0275dir=a.Cc({type:e,selectors:[["","autofocus",""],["","appAutofocus",""]],inputs:{shouldFocusElement:["appAutofocus","shouldFocusElement"],timerDelay:["autofocusDelay","timerDelay"]},features:[a.uc]}),e})()},YnoM:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var a=i("mrSG"),o=i("NWLm"),r=i("QmLB"),n=i("zkTT"),c=i("Vbab"),s=i("0EQZ"),d=i("42PK"),l=i("3ozQ"),u=i("Oxlt"),m=i("fXoL"),f=i("tyNb");let p=(()=>{class e{constructor(e,t,i){this.errorService=e,this.snackbar=t,this.router=i,this.rows=[],this.count=0,this.loading=!1,this.filter={},this._pagination={},this.sorter={},this.selectedKeys=new s.c(!0,[]),this.exportLoading=!1,this.unlimited=!1,this.initLoading=!1,this.saveLoading=!1,this.record=null}doInit(e){return Object(a.a)(this,void 0,void 0,(function*(){try{this.record=null,this.initLoading=!0,e&&(this.record=yield o.a.find(e)),this.initLoading=!1}catch(t){this.errorService.handle(t),this.record=null,this.initLoading=!0,this.router.navigate(["/testimony"])}}))}doCreate(e){return Object(a.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0,yield o.a.create(e),this.saveLoading=!1,this.snackbar.success(Object(c.d)("entities.testimony.create.success")),this.router.navigate(["/testimony"])}catch(t){this.errorService.handle(t),this.saveLoading=!1}}))}Update(e){return Object(a.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0,yield o.a.updatefromdasboard(e),this.saveLoading=!1,this.snackbar.success(Object(c.d)("entities.testimony.update.success"))}catch(t){this.errorService.handle(t),this.saveLoading=!1}}))}doUpdate(e,t){return Object(a.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0,yield o.a.update(e,t),this.saveLoading=!1,this.snackbar.success(Object(c.d)("entities.testimony.update.success")),this.router.navigate(["/testimony"])}catch(i){this.errorService.handle(i),this.saveLoading=!1}}))}get hasRows(){return this.count>0}get orderBy(){const e=this.sorter;return e&&e.columnKey?`${e.columnKey}_${"desc"===e.order?"DESC":"ASC"}`:null}get limit(){if(this.unlimited)return 0;const e=this._pagination;return e&&e.pageSize?e.pageSize:10}get offset(){if(this.unlimited)return 0;const e=this._pagination;return e&&e.pageSize?e.pageIndex*e.pageSize:0}get pagination(){return!this.unlimited&&Object.assign(Object.assign({},this._pagination),{total:this.count,showSizeChanger:!0})}get paginationPageSize(){return this._pagination&&this._pagination.pageSize?this._pagination.pageSize:10}get paginationPageIndex(){return this._pagination&&this._pagination.pageIndex?this._pagination.pageIndex:0}get selectedRows(){return this.rows.filter(e=>this.selectedKeys.isSelected(e.id))}doChangePagination(e){this._pagination=e,this.doFetch(this.filter,!0)}doFetch(e,t=!1){return Object(a.a)(this,void 0,void 0,(function*(){try{this.loading=!0,this.rows=[],this.count=0,t||(this._pagination={}),this.filter=e||{},this.doResetSelectedKeys();const i=yield d.a.list(e,this.orderBy,this.limit,this.offset);this.rows=i.rows,this.count=i.count,this.loading=!1}catch(i){this.errorService.handle(i),this.loading=!1,this.rows=[],this.count=0}}))}doResetSelectedKeys(){this.selectedKeys=new s.c(!0,[])}doChangeSort(e){this.sorter=e?{columnKey:e.active,order:e.direction}:{},this.doFetch(this.filter,!0)}doReset(){return Object(a.a)(this,void 0,void 0,(function*(){return this.rows=[],this.count=0,this.loading=!1,this.filter={},this._pagination={},this.sorter={},this.doResetSelectedKeys(),this.exportLoading=!1,this.doFetch()}))}doExport(){return Object(a.a)(this,void 0,void 0,(function*(){try{this.exportLoading=!0;const e=this.filter,t=yield d.a.list(e,this.orderBy,null,null);new u.a(l.a,"activity").transformAndExportAsExcelFile(t.rows),this.exportLoading=!1}catch(e){this.errorService.handle(e),this.exportLoading=!1}}))}}return e.\u0275fac=function(t){return new(t||e)(m.Rc(r.a),m.Rc(n.a),m.Rc(f.b))},e.\u0275prov=m.Dc({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"ZE+5":function(e,t,i){"use strict";i.d(t,"a",(function(){return Ke}));var a=i("mrSG"),o=i("fXoL"),r=i("5AYL"),n=i("rXYk"),c=i("XGOh"),s=i("Vbab"),d=i("YnoM"),l=i("HnX7"),u=i("t7ZL"),m=i("6qfu"),f=i("SUxV"),p=i("qXBG"),h=i("VYMa"),b=i("3I9H"),v=i("gFX4"),g=i("3Pt+"),w=i("tyNb"),y=i("0IaG"),N=i("ofXK"),S=i("wZkO"),M=i("bOb9"),F=i("juzN"),I=i("jmCL"),C=i("YPZE"),q=i("LISj");function A(e,t){if(1&e){const e=o.Oc();o.Nc(0,"app-autocomplete-form-field",2),o.Tc("createModalOpen",(function(){return o.nd(e),o.Xc().createModalOpen()})),o.Mc()}if(2&e){const e=o.Xc();o.dd("control",e.control)("label",e.label)("required",e.required)("fetchFn",e.fetchFn)("appAutofocus",e.appAutofocus)("serverSideSearch",e.serverSideSearch)("submitted",e.submitted)("showCreate",e.showCreate&&e.hasPermissionToCreate)}}function O(e,t){if(1&e){const e=o.Oc();o.Nc(0,"app-autocomplete-multiple-form-field",3),o.Tc("createModalOpen",(function(){return o.nd(e),o.Xc().createModalOpen()})),o.Mc()}if(2&e){const e=o.Xc();o.dd("control",e.control)("label",e.label)("required",e.required)("fetchFn",e.fetchFn)("appAutofocus",e.appAutofocus)("serverSideSearch",e.serverSideSearch)("ngForm",e.ngForm)("showCreate",e.showCreate&&e.hasPermissionToCreate)("submitted",e.submitted)}}let R=(()=>{class e{constructor(e,t){this.service=e,this.testimonyCategoryService=t,this.mode="single",this.submitted=!1,this.required=!1,this.appAutofocus=!1,this.serverSideSearch=!1,this.fetchFn=null,this.mapperFn=null,this.showCreate=!1}get hasPermissionToCreate(){return this.testimonyCategoryService.hasPermissionToCreate}createModalOpen(){return Object(a.a)(this,void 0,void 0,(function*(){const e=yield this.service.open();e&&this.control.setValue("multiple"===this.mode?[...this.control.value||[],this.mapperFn(e)]:this.mapperFn(e))}))}}return e.\u0275fac=function(t){return new(t||e)(o.Hc(M.a),o.Hc(F.a))},e.\u0275cmp=o.Bc({type:e,selectors:[["app-testimony-category-form-field"]],inputs:{mode:"mode",submitted:"submitted",control:"control",label:"label",required:"required",appAutofocus:"appAutofocus",serverSideSearch:"serverSideSearch",fetchFn:"fetchFn",mapperFn:"mapperFn",ngForm:"ngForm",showCreate:"showCreate"},decls:3,vars:2,consts:[[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","submitted","showCreate","createModalOpen",4,"ngIf"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","ngForm","showCreate","submitted","createModalOpen",4,"ngIf"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","submitted","showCreate","createModalOpen"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","ngForm","showCreate","submitted","createModalOpen"]],template:function(e,t){1&e&&(o.Nc(0,"div"),o.wd(1,A,1,8,"app-autocomplete-form-field",0),o.wd(2,O,1,9,"app-autocomplete-multiple-form-field",1),o.Mc()),2&e&&(o.wc(1),o.dd("ngIf","single"===t.mode),o.wc(1),o.dd("ngIf","multiple"===t.mode))},directives:[N.k,I.a,C.a,q.a,g.n,g.o],encapsulation:2}),e})();var x=i("HhrM"),L=i("kmnG"),T=i("d3UM"),k=i("FKr1"),j=i("vFJ8"),X=i("qFsG"),E=i("OVB5"),P=i("PcAC");function D(e,t){if(1&e){const e=o.Oc();o.Nc(0,"app-autocomplete-form-field",2),o.Tc("createModalOpen",(function(){return o.nd(e),o.Xc().createModalOpen()})),o.Mc()}if(2&e){const e=o.Xc();o.dd("control",e.control)("label",e.label)("required",e.required)("fetchFn",e.fetchFn)("appAutofocus",e.appAutofocus)("serverSideSearch",e.serverSideSearch)("submitted",e.submitted)("showCreate",e.showCreate&&e.hasPermissionToCreate)}}function G(e,t){if(1&e){const e=o.Oc();o.Nc(0,"app-autocomplete-multiple-form-field",3),o.Tc("createModalOpen",(function(){return o.nd(e),o.Xc().createModalOpen()})),o.Mc()}if(2&e){const e=o.Xc();o.dd("control",e.control)("label",e.label)("required",e.required)("fetchFn",e.fetchFn)("appAutofocus",e.appAutofocus)("serverSideSearch",e.serverSideSearch)("ngForm",e.ngForm)("showCreate",e.showCreate&&e.hasPermissionToCreate)("submitted",e.submitted)}}let $=(()=>{class e{constructor(e,t){this.service=e,this.partnerService=t,this.mode="single",this.submitted=!1,this.required=!1,this.appAutofocus=!1,this.serverSideSearch=!1,this.fetchFn=null,this.mapperFn=null,this.showCreate=!1}get hasPermissionToCreate(){return this.partnerService.hasPermissionToCreate}createModalOpen(){return Object(a.a)(this,void 0,void 0,(function*(){const e=yield this.service.open();e&&this.control.setValue("multiple"===this.mode?[...this.control.value||[],this.mapperFn(e)]:this.mapperFn(e))}))}}return e.\u0275fac=function(t){return new(t||e)(o.Hc(E.a),o.Hc(P.a))},e.\u0275cmp=o.Bc({type:e,selectors:[["app-partner-form-field"]],inputs:{mode:"mode",submitted:"submitted",control:"control",label:"label",required:"required",appAutofocus:"appAutofocus",serverSideSearch:"serverSideSearch",fetchFn:"fetchFn",mapperFn:"mapperFn",ngForm:"ngForm",showCreate:"showCreate"},decls:3,vars:2,consts:[[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","submitted","showCreate","createModalOpen",4,"ngIf"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","ngForm","showCreate","submitted","createModalOpen",4,"ngIf"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","submitted","showCreate","createModalOpen"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","ngForm","showCreate","submitted","createModalOpen"]],template:function(e,t){1&e&&(o.Nc(0,"div"),o.wd(1,D,1,8,"app-autocomplete-form-field",0),o.wd(2,G,1,9,"app-autocomplete-multiple-form-field",1),o.Mc()),2&e&&(o.wc(1),o.dd("ngIf","single"===t.mode),o.wc(1),o.dd("ngIf","multiple"===t.mode))},directives:[N.k,I.a,C.a,q.a,g.n,g.o],encapsulation:2}),e})();var B=i("1jcm"),z=i("YPoJ"),K=i("urQW"),H=i("bTqV"),U=i("NFeN"),V=i("UDmo"),_=i("14fu"),Q=i("VGjC");function Y(e,t){if(1&e){const e=o.Oc();o.Nc(0,"app-autocomplete-form-field",2),o.Tc("createModalOpen",(function(){return o.nd(e),o.Xc().createModalOpen()})),o.Mc()}if(2&e){const e=o.Xc();o.dd("control",e.control)("label",e.label)("required",e.required)("fetchFn",e.fetchFn)("appAutofocus",e.appAutofocus)("serverSideSearch",e.serverSideSearch)("submitted",e.submitted)("showCreate",e.showCreate&&e.hasPermissionToCreate)}}function W(e,t){if(1&e){const e=o.Oc();o.Nc(0,"app-autocomplete-multiple-form-field",3),o.Tc("createModalOpen",(function(){return o.nd(e),o.Xc().createModalOpen()})),o.Mc()}if(2&e){const e=o.Xc();o.dd("control",e.control)("label",e.label)("required",e.required)("fetchFn",e.fetchFn)("appAutofocus",e.appAutofocus)("serverSideSearch",e.serverSideSearch)("ngForm",e.ngForm)("showCreate",e.showCreate&&e.hasPermissionToCreate)("submitted",e.submitted)}}let Z=(()=>{class e{constructor(e,t){this.service=e,this.userService=t,this.mode="single",this.submitted=!1,this.required=!1,this.appAutofocus=!1,this.serverSideSearch=!1,this.fetchFn=null,this.mapperFn=null,this.showCreate=!1}get hasPermissionToCreate(){return this.userService.hasPermissionToCreate}createModalOpen(){return Object(a.a)(this,void 0,void 0,(function*(){const e=yield this.service.open();e&&this.control.setValue("multiple"===this.mode?[...this.control.value||[],this.mapperFn(e)]:this.mapperFn(e))}))}}return e.\u0275fac=function(t){return new(t||e)(o.Hc(_.a),o.Hc(Q.a))},e.\u0275cmp=o.Bc({type:e,selectors:[["app-user-form-field"]],inputs:{mode:"mode",submitted:"submitted",control:"control",label:"label",required:"required",appAutofocus:"appAutofocus",serverSideSearch:"serverSideSearch",fetchFn:"fetchFn",mapperFn:"mapperFn",ngForm:"ngForm",showCreate:"showCreate"},decls:3,vars:2,consts:[[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","submitted","showCreate","createModalOpen",4,"ngIf"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","ngForm","showCreate","submitted","createModalOpen",4,"ngIf"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","submitted","showCreate","createModalOpen"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","ngForm","showCreate","submitted","createModalOpen"]],template:function(e,t){1&e&&(o.Nc(0,"div"),o.wd(1,Y,1,8,"app-autocomplete-form-field",0),o.wd(2,W,1,9,"app-autocomplete-multiple-form-field",1),o.Mc()),2&e&&(o.wc(1),o.dd("ngIf","single"===t.mode),o.wc(1),o.dd("ngIf","multiple"===t.mode))},directives:[N.k,I.a,C.a,q.a,g.n,g.o],encapsulation:2}),e})();var J=i("cscj"),ee=i("+0xr"),te=i("Dh3D"),ie=i("M9IT"),ae=i("S7/7"),oe=i("qvmF"),re=i("Qu3c"),ne=i("QSg+"),ce=i("Ubsb"),se=i("LvDl");const de=["textInput"];function le(e,t){if(1&e){const e=o.Oc();o.Nc(0,"button",3),o.Tc("click",(function(t){return o.nd(e),o.Xc().openCreateModal(t)})),o.Nc(1,"mat-icon"),o.xd(2,"add"),o.Mc(),o.xd(3,"\xa0 "),o.Ic(4,"app-i18n",4),o.Mc()}if(2&e){const e=o.Xc();o.dd("matAutocomplete",e.auto)("appAutofocus",e.appAutofocus)("required",e.required)}}let ue=(()=>{class e{constructor(){this.createModalOpen=new o.v,this.submitted=!1,this.appAutofocus=!1,this.required=!1,this.serverSideSearch=!1,this.fetchFn=null,this.showCreate=!1,this.currentQuery="NOT_INITIALIZED",this.serverSideDataSource=[],this.clientSideDataSource=[],this.loading=!1,this.debouncedSearch=e=>{}}get dataSource(){return this.serverSideSearch?this.serverSideDataSource:this.clientSideDataSource}handleSearch(e){return Object(a.a)(this,void 0,void 0,(function*(){if(Object(se.isString)(e))return this.serverSideSearch?this.handleSearchServer(e):this.handleSearchClient(e)}))}handleSearchClient(e){return Object(a.a)(this,void 0,void 0,(function*(){this.serverSideDataSource&&this.serverSideDataSource.length||(yield this.handleSearchServer()),this.clientSideDataSource=this.serverSideDataSource.filter(t=>String(t.label||"").toLowerCase().includes(String(e||"").toLowerCase())),this.loading=!1}))}handleSearchServer(e){return Object(a.a)(this,void 0,void 0,(function*(){if(e!==this.currentQuery){this.currentQuery=e,this.loading=!0;try{const t=yield this.fetchFn(e,100);this.currentQuery===e&&(this.serverSideDataSource=t,this.loading=!1)}catch(t){console.error(t),this.currentQuery===e&&(this.serverSideDataSource=[],this.loading=!1)}}}))}ngOnInit(){this.debouncedSearch=Object(se.debounce)(this.handleSearch.bind(this),300),this.handleSearch("")}displayFn(e){if(e)return e.label}openCreateModal(e){e.stopPropagation(),this.createModalOpen.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Bc({type:e,selectors:[["app-autocomplete-activity-form-field"]],viewQuery:function(e,t){var i;1&e&&o.sd(de,!0),2&e&&o.kd(i=o.Uc())&&(t.textInput=i.first)},inputs:{submitted:"submitted",control:"control",label:"label",appAutofocus:"appAutofocus",required:"required",serverSideSearch:"serverSideSearch",fetchFn:"fetchFn",ngForm:"ngForm",showCreate:"showCreate"},outputs:{createModalOpen:"createModalOpen"},decls:3,vars:1,consts:[["floatLabel","always","appearance","outline"],[1,"autocomplete-form-field"],["mat-flat-button","","type","button","color","primary",3,"matAutocomplete","appAutofocus","required","click",4,"ngIf"],["mat-flat-button","","type","button","color","primary",3,"matAutocomplete","appAutofocus","required","click"],["key","common.addActivity"]],template:function(e,t){1&e&&(o.Nc(0,"div",0),o.Nc(1,"div",1),o.wd(2,le,5,3,"button",2),o.Mc(),o.Mc()),2&e&&(o.wc(2),o.dd("ngIf",t.showCreate))},directives:[N.k,H.b,C.a,U.a,V.a],encapsulation:2}),e})();function me(e,t){if(1&e){const e=o.Oc();o.Nc(0,"app-autocomplete-form-field",2),o.Tc("createModalOpen",(function(){return o.nd(e),o.Xc().createModalOpen()})),o.Mc()}if(2&e){const e=o.Xc();o.dd("control",e.control)("label",e.label)("required",e.required)("fetchFn",e.fetchFn)("appAutofocus",e.appAutofocus)("serverSideSearch",e.serverSideSearch)("submitted",e.submitted)("showCreate",e.showCreate&&e.hasPermissionToCreate)}}function fe(e,t){if(1&e){const e=o.Oc();o.Nc(0,"app-autocomplete-activity-form-field",3),o.Tc("createModalOpen",(function(){return o.nd(e),o.Xc().createModalOpen()})),o.Mc()}if(2&e){const e=o.Xc();o.dd("control",e.control)("label",e.label)("required",e.required)("fetchFn",e.fetchFn)("appAutofocus",e.appAutofocus)("serverSideSearch",e.serverSideSearch)("ngForm",e.ngForm)("showCreate",e.showCreate&&e.hasPermissionToCreate)("submitted",e.submitted)}}let pe=(()=>{class e{constructor(e,t){this.service=e,this.activityService=t,this.mode="single",this.submitted=!1,this.required=!1,this.appAutofocus=!1,this.serverSideSearch=!1,this.fetchFn=null,this.mapperFn=null,this.showCreate=!1}get hasPermissionToCreate(){return this.activityService.hasPermissionToCreate}createModalOpen(){return Object(a.a)(this,void 0,void 0,(function*(){const e=yield this.service.open();e&&this.control.setValue("multiple"===this.mode?[...this.control.value||[],this.mapperFn(e)]:this.mapperFn(e))}))}}return e.\u0275fac=function(t){return new(t||e)(o.Hc(ne.a),o.Hc(ce.a))},e.\u0275cmp=o.Bc({type:e,selectors:[["app-activity-form-field"]],inputs:{mode:"mode",submitted:"submitted",control:"control",label:"label",required:"required",appAutofocus:"appAutofocus",serverSideSearch:"serverSideSearch",fetchFn:"fetchFn",mapperFn:"mapperFn",ngForm:"ngForm",showCreate:"showCreate"},decls:3,vars:2,consts:[[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","submitted","showCreate","createModalOpen",4,"ngIf"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","ngForm","showCreate","submitted","createModalOpen",4,"ngIf"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","submitted","showCreate","createModalOpen"],[3,"control","label","required","fetchFn","appAutofocus","serverSideSearch","ngForm","showCreate","submitted","createModalOpen"]],template:function(e,t){1&e&&(o.Nc(0,"div"),o.wd(1,me,1,8,"app-autocomplete-form-field",0),o.wd(2,fe,1,9,"app-autocomplete-activity-form-field",1),o.Mc()),2&e&&(o.wc(1),o.dd("ngIf","single"===t.mode),o.wc(1),o.dd("ngIf","multiple"===t.mode))},directives:[N.k,I.a,C.a,ue,g.n,g.o],encapsulation:2}),e})();function he(e,t){if(1&e&&(o.Nc(0,"mat-option",40),o.xd(1),o.Mc()),2&e){const e=t.$implicit;o.dd("value",e.id),o.wc(1),o.zd(" ",e.label," ")}}function be(e,t){if(1&e&&(o.Nc(0,"mat-option",40),o.xd(1),o.Mc()),2&e){const e=t.$implicit;o.dd("value",e.id),o.wc(1),o.zd(" ",e.label," ")}}function ve(e,t){if(1&e&&(o.Nc(0,"mat-option",40),o.xd(1),o.Mc()),2&e){const e=t.$implicit;o.dd("value",e.id),o.wc(1),o.zd(" ",e.label," ")}}function ge(e,t){if(1&e&&(o.Nc(0,"mat-option",40),o.xd(1),o.Mc()),2&e){const e=t.$implicit;o.dd("value",e.id),o.wc(1),o.zd(" ",e.label," ")}}function we(e,t){if(1&e&&(o.Nc(0,"div",14),o.Ic(1,"app-user-form-field",7),o.Mc()),2&e){o.Xc();const e=o.ld(1),t=o.Xc();o.wc(1),o.dd("control",t.form.get(t.fields.assignedTo.name))("label",t.fields.assignedTo.label)("required",t.fields.assignedTo.required)("fetchFn",t.fields.assignedTo.fetchFn)("mapperFn",t.fields.assignedTo.mapperFn)("showCreate",!t.modal)("submitted",e.submitted)}}function ye(e,t){if(1&e){const e=o.Oc();o.Nc(0,"form",56,2),o.Tc("ngSubmit",(function(){return o.nd(e),o.Xc(3).doFilter()})),o.Nc(2,"div",5),o.Nc(3,"div",57),o.Nc(4,"mat-form-field",10),o.Nc(5,"mat-label"),o.xd(6),o.Mc(),o.Ic(7,"input",58),o.Nc(8,"mat-error"),o.Ic(9,"app-validations",13),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Nc(10,"div",59),o.Nc(11,"button",31),o.Ic(12,"mat-icon",60),o.xd(13,"\xa0 "),o.Ic(14,"app-i18n",61),o.Mc(),o.Nc(15,"button",62),o.Tc("click",(function(){return o.nd(e),o.Xc(3).doResetActivity()})),o.Ic(16,"mat-icon",35),o.xd(17,"\xa0 "),o.Ic(18,"app-i18n",36),o.Mc(),o.Mc(),o.Mc()}if(2&e){const e=o.Xc(3);o.dd("formGroup",e.formActivity),o.wc(6),o.yd(e.activityFields.comment.label),o.wc(1),o.dd("formControlName",e.activityFields.comment.name),o.wc(2),o.dd("control",e.formActivity.get(e.activityFields.comment.name))("label",e.activityFields.comment.label),o.wc(2),o.dd("disabled",e.loading),o.wc(4),o.dd("disabled",e.loading)}}function Ne(e,t){if(1&e&&(o.Nc(0,"th",63),o.xd(1),o.Mc()),2&e){const e=o.Xc(3);o.wc(1),o.zd(" ",e.activityFields.comment.label," ")}}function Se(e,t){if(1&e&&(o.Nc(0,"td",64),o.xd(1),o.Mc()),2&e){const e=t.$implicit,i=o.Xc(3);o.wc(1),o.zd(" ",i.presenterActivity(e,"comment")," ")}}function Me(e,t){if(1&e&&(o.Nc(0,"th",65),o.xd(1),o.Mc()),2&e){const e=o.Xc(3);o.wc(1),o.zd(" ",e.activityFields.images.label," ")}}function Fe(e,t){if(1&e&&(o.Nc(0,"td",64),o.Ic(1,"app-table-item-images",40),o.Mc()),2&e){const e=t.$implicit,i=o.Xc(3);o.wc(1),o.dd("value",i.presenterActivity(e,"images"))}}function Ie(e,t){if(1&e&&(o.Nc(0,"th",65),o.xd(1),o.Mc()),2&e){const e=o.Xc(3);o.wc(1),o.zd(" ",e.activityFields.audio.label," ")}}function Ce(e,t){if(1&e&&(o.Nc(0,"td",64),o.Ic(1,"app-table-item-files",40),o.Mc()),2&e){const e=t.$implicit,i=o.Xc(3);o.wc(1),o.dd("value",i.presenterActivity(e,"audio"))}}function qe(e,t){if(1&e&&(o.Nc(0,"th",65),o.xd(1),o.Mc()),2&e){const e=o.Xc(3);o.wc(1),o.zd(" ",e.activityFields.documents.label," ")}}function Ae(e,t){if(1&e&&(o.Nc(0,"td",64),o.Ic(1,"app-table-item-files",40),o.Mc()),2&e){const e=t.$implicit,i=o.Xc(3);o.wc(1),o.dd("value",i.presenterActivity(e,"documents"))}}function Oe(e,t){if(1&e&&(o.Nc(0,"th",65),o.xd(1),o.Mc()),2&e){const e=o.Xc(3);o.wc(1),o.zd(" ",e.activityFields.video.label," ")}}function Re(e,t){if(1&e&&(o.Nc(0,"td",64),o.Ic(1,"app-table-item-files",40),o.Mc()),2&e){const e=t.$implicit,i=o.Xc(3);o.wc(1),o.dd("value",i.presenterActivity(e,"video"))}}function xe(e,t){if(1&e&&(o.Nc(0,"th",63),o.xd(1),o.Mc()),2&e){const e=o.Xc(3);o.wc(1),o.zd(" ",e.activityFields.position.label," ")}}function Le(e,t){if(1&e&&(o.Nc(0,"td",64),o.xd(1),o.Mc()),2&e){const e=t.$implicit,i=o.Xc(3);o.wc(1),o.zd(" ",i.presenterActivity(e,"position")," ")}}function Te(e,t){1&e&&o.Ic(0,"th",65)}const ke=function(e){return["/activity",e,"edit"]};function je(e,t){if(1&e){const e=o.Oc();o.Nc(0,"td",66),o.Nc(1,"button",67),o.Nc(2,"mat-icon"),o.xd(3,"edit"),o.Mc(),o.Mc(),o.Nc(4,"button",68),o.Tc("click",(function(){o.nd(e);const i=t.$implicit;return o.Xc(3).doDestroy(i.id)})),o.Nc(5,"mat-icon"),o.xd(6,"delete"),o.Mc(),o.Mc(),o.Mc()}if(2&e){const e=t.$implicit,i=o.Xc(3);o.wc(1),o.dd("routerLink",o.gd(3,ke,e.id))("matTooltip",i.i18n("common.edit")),o.wc(3),o.dd("matTooltip",i.i18n("common.destroy"))}}function Xe(e,t){1&e&&o.Ic(0,"tr",69)}function Ee(e,t){1&e&&o.Ic(0,"tr",70)}function Pe(e,t){1&e&&(o.Nc(0,"div",71),o.Ic(1,"app-i18n",72),o.Mc())}function De(e,t){1&e&&(o.Nc(0,"div",71),o.Ic(1,"app-i18n",73),o.Mc())}const Ge=function(){return[10,20,30,40]};function $e(e,t){if(1&e){const e=o.Oc();o.Nc(0,"mat-tab",23),o.Nc(1,"div",4),o.Nc(2,"div",41),o.Nc(3,"app-filter-preview",42),o.Tc("click",(function(){return o.nd(e),o.Xc(2).doToggleExpanded()})),o.Mc(),o.wd(4,ye,19,7,"form",43),o.Mc(),o.Nc(5,"div",44),o.Nc(6,"table",45),o.Tc("matSortChange",(function(t){return o.nd(e),o.Xc(2).service.doChangeSort(t)})),o.Lc(7,46),o.wd(8,Ne,2,1,"th",47),o.wd(9,Se,2,1,"td",48),o.Kc(),o.Lc(10,46),o.wd(11,Me,2,1,"th",49),o.wd(12,Fe,2,1,"td",48),o.Kc(),o.Lc(13,46),o.wd(14,Ie,2,1,"th",49),o.wd(15,Ce,2,1,"td",48),o.Kc(),o.Lc(16,46),o.wd(17,qe,2,1,"th",49),o.wd(18,Ae,2,1,"td",48),o.Kc(),o.Lc(19,46),o.wd(20,Oe,2,1,"th",49),o.wd(21,Re,2,1,"td",48),o.Kc(),o.Lc(22,46),o.wd(23,xe,2,1,"th",47),o.wd(24,Le,2,1,"td",48),o.Kc(),o.Lc(25,50),o.wd(26,Te,1,0,"th",49),o.wd(27,je,7,5,"td",51),o.Kc(),o.wd(28,Xe,1,0,"tr",52),o.wd(29,Ee,1,0,"tr",53),o.Mc(),o.wd(30,Pe,2,0,"div",54),o.wd(31,De,2,0,"div",54),o.Mc(),o.Nc(32,"mat-paginator",55),o.Tc("page",(function(t){return o.nd(e),o.Xc(2).service.doChangePagination(t)})),o.Mc(),o.Mc(),o.Mc()}if(2&e){const e=o.Xc(2);o.dd("label",e.i18n("common.history")),o.wc(3),o.dd("values",e.formActivity.value)("fields",e.activityFields)("expanded",e.expanded),o.wc(1),o.dd("ngIf",e.formActivity&&e.expanded),o.wc(2),o.dd("dataSource",e.service.rows)("matSortActive",e.service.sorter.columnKey)("matSortDirection",e.service.sorter.order),o.wc(1),o.dd("matColumnDef",e.activityFields.comment.name),o.wc(3),o.dd("matColumnDef",e.activityFields.images.name),o.wc(3),o.dd("matColumnDef",e.activityFields.audio.name),o.wc(3),o.dd("matColumnDef",e.activityFields.documents.name),o.wc(3),o.dd("matColumnDef",e.activityFields.video.name),o.wc(3),o.dd("matColumnDef",e.activityFields.position.name),o.wc(6),o.dd("matHeaderRowDef",e.columns),o.wc(1),o.dd("matRowDefColumns",e.columns),o.wc(1),o.dd("ngIf",!e.service.loading&&!e.service.count),o.wc(1),o.dd("ngIf",e.service.loading),o.wc(1),o.dd("disabled",e.service.loading)("pageIndex",e.service.paginationPageIndex)("pageSize",e.service.paginationPageSize)("pageSizeOptions",o.fd(23,Ge))("length",e.service.count)}}function Be(e,t){if(1&e&&o.Ic(0,"app-activity-form-field",9),2&e){o.Xc();const e=o.ld(1),t=o.Xc();o.dd("control",t.form.get(t.fields.activity.name))("label",t.fields.activity.label)("required",t.fields.activity.required)("fetchFn",t.fields.activity.fetchFn)("mapperFn",t.fields.activity.mapperFn)("showCreate",!t.modal)("submitted",e.submitted)}}function ze(e,t){if(1&e){const e=o.Oc();o.Nc(0,"form",1,2),o.Tc("ngSubmit",(function(){return o.nd(e),o.Xc().doSave()})),o.Nc(2,"mat-tab-group"),o.Nc(3,"mat-tab",3),o.Nc(4,"div",4),o.Nc(5,"div",5),o.Nc(6,"div",6),o.Ic(7,"app-testimony-category-form-field",7),o.Mc(),o.Nc(8,"div",8),o.Ic(9,"app-tags-form-field",9),o.Mc(),o.Nc(10,"div",8),o.Nc(11,"mat-form-field",10),o.Nc(12,"mat-label"),o.xd(13),o.Mc(),o.Nc(14,"mat-select",11),o.Nc(15,"mat-option"),o.xd(16,"--"),o.Mc(),o.wd(17,he,2,2,"mat-option",12),o.Mc(),o.Nc(18,"mat-error"),o.Ic(19,"app-validations",13),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Nc(20,"div",5),o.Nc(21,"div",14),o.Nc(22,"mat-form-field",10),o.Nc(23,"mat-label"),o.xd(24),o.Mc(),o.Ic(25,"input",15),o.Nc(26,"mat-error"),o.Ic(27,"app-validations",13),o.Mc(),o.Mc(),o.Mc(),o.Nc(28,"div",14),o.Nc(29,"mat-form-field",10),o.Nc(30,"mat-label"),o.xd(31),o.Mc(),o.Ic(32,"input",15),o.Nc(33,"mat-error"),o.Ic(34,"app-validations",13),o.Mc(),o.Mc(),o.Mc(),o.Nc(35,"div",14),o.Nc(36,"mat-form-field",10),o.Nc(37,"mat-label"),o.xd(38),o.Mc(),o.Nc(39,"mat-select",11),o.wd(40,be,2,2,"mat-option",12),o.Mc(),o.Nc(41,"mat-error"),o.Ic(42,"app-validations",13),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Nc(43,"div",5),o.Nc(44,"div",16),o.Nc(45,"mat-form-field",10),o.Nc(46,"mat-label"),o.xd(47),o.Mc(),o.Ic(48,"textarea",17),o.Nc(49,"mat-error"),o.Ic(50,"app-validations",13),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Nc(51,"div",5),o.Nc(52,"div",8),o.Nc(53,"mat-form-field",10),o.Nc(54,"mat-label"),o.xd(55),o.Mc(),o.Nc(56,"mat-select",11),o.Nc(57,"mat-option"),o.xd(58,"--"),o.Mc(),o.wd(59,ve,2,2,"mat-option",12),o.Mc(),o.Nc(60,"mat-error"),o.Ic(61,"app-validations",13),o.Mc(),o.Mc(),o.Mc(),o.Nc(62,"div",8),o.Nc(63,"mat-form-field",10),o.Nc(64,"mat-label"),o.xd(65),o.Mc(),o.Nc(66,"mat-select",11),o.wd(67,ge,2,2,"mat-option",12),o.Mc(),o.Nc(68,"mat-error"),o.Ic(69,"app-validations",13),o.Mc(),o.Mc(),o.Mc(),o.Nc(70,"div",6),o.Nc(71,"mat-form-field",10),o.Nc(72,"mat-label"),o.xd(73),o.Mc(),o.Ic(74,"input",15),o.Nc(75,"mat-error"),o.Ic(76,"app-validations",13),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Nc(77,"div",5),o.wd(78,we,2,7,"div",18),o.Nc(79,"div",14),o.Ic(80,"app-partner-form-field",7),o.Mc(),o.Nc(81,"div",14),o.Nc(82,"div",19),o.Nc(83,"mat-slide-toggle",20),o.xd(84),o.Mc(),o.Nc(85,"div",21),o.Ic(86,"app-validations",22),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Nc(87,"mat-tab",23),o.Nc(88,"div",4),o.Nc(89,"div",5),o.Nc(90,"div",6),o.Ic(91,"app-image-form-field",24),o.Mc(),o.Nc(92,"div",6),o.Ic(93,"app-file-form-field",25),o.Ic(94,"app-file-form-field",25),o.Ic(95,"app-file-form-field",25),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.wd(96,$e,33,24,"mat-tab",26),o.Mc(),o.Nc(97,"div",5),o.Nc(98,"div",6),o.Nc(99,"div",27),o.Nc(100,"button",28),o.wd(101,Be,1,7,"app-activity-form-field",29),o.Mc(),o.Mc(),o.Mc(),o.Nc(102,"div",6),o.Nc(103,"div",30),o.Nc(104,"button",31),o.Ic(105,"mat-icon",32),o.xd(106,"\xa0 "),o.Ic(107,"app-i18n",33),o.Mc(),o.Nc(108,"button",34),o.Tc("click",(function(){return o.nd(e),o.Xc().doReset()})),o.Ic(109,"mat-icon",35),o.xd(110,"\xa0 "),o.Ic(111,"app-i18n",36),o.Mc(),o.Nc(112,"button",37),o.Tc("click",(function(){return o.nd(e),o.Xc().cancel.emit()})),o.Ic(113,"mat-icon",38),o.xd(114,"\xa0 "),o.Ic(115,"app-i18n",39),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Mc()}if(2&e){const e=o.ld(1),t=o.Xc();o.dd("formGroup",t.form),o.wc(3),o.dd("label",t.i18n("common.information")),o.wc(4),o.dd("control",t.form.get(t.fields.category.name))("label",t.fields.category.label)("required",t.fields.category.required)("fetchFn",t.fields.category.fetchFn)("mapperFn",t.fields.category.mapperFn)("showCreate",!t.modal)("submitted",e.submitted),o.wc(2),o.dd("control",t.form.get(t.fields.tags.name))("label",t.fields.tags.label)("required",t.fields.tags.required)("fetchFn",t.fields.tags.fetchFn)("mapperFn",t.fields.tags.mapperFn)("showCreate",!t.modal)("submitted",e.submitted),o.wc(4),o.yd(t.fields.testimonyType.label),o.wc(1),o.dd("formControlName",t.fields.testimonyType.name),o.wc(3),o.dd("ngForOf",t.fields.testimonyType.options),o.wc(2),o.dd("control",t.form.get(t.fields.testimonyType.name))("label",t.fields.testimonyType.label),o.wc(5),o.yd(t.fields.title.label),o.wc(1),o.dd("formControlName",t.fields.title.name)("required",t.fields.title.required),o.wc(2),o.dd("control",t.form.get(t.fields.title.name))("label",t.fields.title.label),o.wc(4),o.yd(t.fields.contact.label),o.wc(1),o.dd("formControlName",t.fields.contact.name)("required",t.fields.contact.required),o.wc(2),o.dd("control",t.form.get(t.fields.contact.name))("label",t.fields.contact.label),o.wc(4),o.yd(t.fields.status.label),o.wc(1),o.dd("formControlName",t.fields.status.name),o.wc(1),o.dd("ngForOf",t.fields.status.options),o.wc(2),o.dd("control",t.form.get(t.fields.status.name))("label",t.fields.status.label),o.wc(5),o.yd(t.fields.description.label),o.wc(1),o.dd("formControlName",t.fields.description.name)("rows",4)("required",t.fields.description.required),o.wc(2),o.dd("control",t.form.get(t.fields.description.name))("label",t.fields.description.label),o.wc(5),o.yd(t.fields.region.label),o.wc(1),o.dd("formControlName",t.fields.region.name),o.wc(3),o.dd("ngForOf",t.fields.region.options),o.wc(2),o.dd("control",t.form.get(t.fields.region.name))("label",t.fields.region.label),o.wc(4),o.yd(t.fields.priority.label),o.wc(1),o.dd("formControlName",t.fields.priority.name),o.wc(1),o.dd("ngForOf",t.fields.priority.options),o.wc(2),o.dd("control",t.form.get(t.fields.priority.name))("label",t.fields.priority.label),o.wc(4),o.yd(t.fields.position.label),o.wc(1),o.dd("formControlName",t.fields.position.name)("required",t.fields.position.required),o.wc(2),o.dd("control",t.form.get(t.fields.position.name))("label",t.fields.position.label),o.wc(2),o.dd("ngIf",t.hasPermissionToAssignTestimonyToUser),o.wc(2),o.dd("control",t.form.get(t.fields.transferTo.name))("label",t.fields.transferTo.label)("required",t.fields.transferTo.required)("fetchFn",t.fields.transferTo.fetchFn)("mapperFn",t.fields.transferTo.mapperFn)("showCreate",!t.modal)("submitted",e.submitted),o.wc(3),o.dd("formControlName",t.fields.anonymous.name),o.wc(1),o.zd(" ",t.fields.anonymous.label," "),o.wc(2),o.dd("control",t.form.get(t.fields.anonymous.name))("label",t.fields.anonymous.label)("ngForm",e),o.wc(1),o.dd("label",t.i18n("common.attachements")),o.wc(4),o.dd("formControl",t.form.get(t.fields.images.name))("label",t.fields.images.label)("storage",t.fields.images.storage)("required",t.fields.images.required)("max",t.fields.images.max)("submitted",e.submitted),o.wc(2),o.dd("formControl",t.form.get(t.fields.videos.name))("label",t.fields.videos.label)("formats",t.fields.videos.formats)("storage",t.fields.videos.storage)("required",t.fields.videos.required)("max",t.fields.videos.max)("submitted",e.submitted),o.wc(1),o.dd("formControl",t.form.get(t.fields.audio.name))("label",t.fields.audio.label)("formats",t.fields.audio.formats)("storage",t.fields.audio.storage)("required",t.fields.audio.required)("max",t.fields.audio.max)("submitted",e.submitted),o.wc(1),o.dd("formControl",t.form.get(t.fields.documents.name))("label",t.fields.documents.label)("formats",t.fields.documents.formats)("storage",t.fields.documents.storage)("required",t.fields.documents.required)("max",t.fields.documents.max)("submitted",e.submitted),o.wc(1),o.dd("ngIf",t.isEditing),o.wc(3),o.zc("form-buttons-modal",t.modal),o.wc(2),o.dd("ngIf",t.isEditing),o.wc(2),o.zc("form-buttons-modal",t.modal),o.wc(1),o.dd("disabled",t.saveLoading),o.wc(4),o.dd("disabled",t.saveLoading),o.wc(4),o.dd("disabled",t.saveLoading)}}let Ke=(()=>{class e{constructor(e,t,i,a,r,n,c,s){this.formBuilder=e,this.service=t,this.destroyService=i,this.confirmService=a,this.route=r,this.testimonyService=n,this.authService=c,this.dialog=s,this.expanded=!1,this.save=new o.v,this.cancel=new o.v,this.modal=!1,this.displayedColumns=["comment","position","images","symbol"],this.socket=v(b.a.urlsocket)}ngOnInit(){return Object(a.a)(this,void 0,void 0,(function*(){this.buildSchema(),this.buildForm(),this.isEditing&&(localStorage.setItem("testimonyId",this.record._id),this.buildSchemaActivity(),this.buildFormActiviy(),this.doFilter())}))}get fields(){return r.a.fields}get activityFields(){return c.a.fields}presenter(e,t){return r.a.presenter(e,t)}presenterActivity(e,t){return c.a.presenter(e,t)}get loading(){return this.service.loading}doToggleExpanded(){this.expanded=!this.expanded}doFilter(){if(!this.formActivity.valid)return;this.expanded=!1;const e=this.schemaActivity.cast(this.formActivity.value);return this.service.doFetch(e)}buildFormActiviy(){const{filter:e}=this.service;this.formActivity=this.schemaActivity.buildForm(e,this.route.snapshot.queryParams)}buildSchemaActivity(){this.schemaActivity=new m.a([this.activityFields.comment,this.activityFields.position],this.formBuilder)}doResetActivity(){this.formActivity=this.schemaActivity.buildForm(),this.doFilter(),this.expanded=!1}i18n(e){return Object(s.d)(e)}doSave(){if(!this.form.valid){const e=Object(s.d)("common.required"),t=Object(s.d)("common.ok");return this.dialog.open(h.a,{width:"250px",data:{title:e,yesLabel:t}})}this.authService.currentUser.tenants[0].roles.forEach(e=>{"member"==e&&(this.userRole=e)});const e=this.record&&this.record.id;null==this.form.value.assignedTo&&"member"==this.userRole&&(this.form.value.assignedTo={id:this.authService.currentUser.id,label:this.authService.currentUser.fullName}),"open"==this.form.value.status&&null==this.form.value.assignedTo&&(this.form.value.assignedTo={id:this.authService.currentUser.id,label:this.authService.currentUser.fullName}),"waiting"==this.form.value.status&&null!=this.form.value.assignedTo&&(this.form.value.status="open");const t=this.schema.cast(this.form.value);this.save.emit({id:e,values:t}),this.socket.emit("refresh",{})}doReset(){this.buildForm()}buildForm(){this.isEditing&&(this.form=this.schema.buildForm(this.record)),this.isEditing||(this.form=this.schema.buildForm({priority:"low",status:"waiting"}))}get hasPermissionToAssignTestimonyToUser(){return this.testimonyService.hasPermissionToAssignTestimonyToUser}doDestroy(e){return Object(a.a)(this,void 0,void 0,(function*(){if(yield this.confirmService.confirm())return this.ngOnInit(),this.destroyService.doDestroy(e)}))}buildSchema(){this.schema=new n.a([this.fields.category,this.fields.title,this.fields.description,this.fields.region,this.fields.testimonyType,this.fields.status,this.fields.priority,this.fields.assignedTo,this.fields.images,this.fields.audio,this.fields.documents,this.fields.videos,this.fields.position,this.fields.anonymous,this.fields.activity,this.fields.tags,this.fields.transferTo,this.fields.contact],this.formBuilder)}get columns(){return[this.activityFields.comment.name,this.activityFields.images.name,this.activityFields.audio.name,this.activityFields.documents.name,this.activityFields.video.name,this.activityFields.position.name,"_actions"]}}return e.\u0275fac=function(t){return new(t||e)(o.Hc(g.d),o.Hc(d.a),o.Hc(l.a),o.Hc(u.a),o.Hc(w.a),o.Hc(f.a),o.Hc(p.a),o.Hc(y.b))},e.\u0275cmp=o.Bc({type:e,selectors:[["app-testimony-form"]],inputs:{isEditing:"isEditing",record:"record",saveLoading:"saveLoading",modal:"modal"},outputs:{save:"save",cancel:"cancel"},decls:1,vars:1,consts:[["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],["ngForm","ngForm"],[1,"tab",3,"label"],[1,"mat-tab"],[1,"row"],[1,"col-md-6"],["mode","single",3,"control","label","required","fetchFn","mapperFn","showCreate","submitted"],[1,"col-md-3"],["mode","multiple",3,"control","label","required","fetchFn","mapperFn","showCreate","submitted"],["floatLabel","always","appearance","outline"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"control","label"],[1,"col-md-4"],["matInput","",3,"formControlName","required"],[1,"col-md-12"],["matInput","",3,"formControlName","rows","required"],["class","col-md-4",4,"ngIf"],[1,"app-form-field","app-form-field__boolean","anonymous"],["color","accent",3,"formControlName"],[1,"app-form-error"],[3,"control","label","ngForm"],[3,"label"],[3,"formControl","label","storage","required","max","submitted"],[3,"formControl","label","formats","storage","required","max","submitted"],[3,"label",4,"ngIf"],[1,"form-buttonsLeft"],["mat-flat-button","","type","button"],["mode","multiple",3,"control","label","required","fetchFn","mapperFn","showCreate","submitted",4,"ngIf"],[1,"form-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["inline","","fontSet","far","fontIcon","fa-save"],["key","common.save"],["mat-flat-button","","color","accent","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-undo"],["key","common.reset"],["mat-flat-button","","color","warn","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-times"],["key","common.cancel"],[3,"value"],[1,"filter"],[3,"values","fields","expanded","click"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"table-responsive"],["mat-table","","matSort","",2,"width","100%",3,"dataSource","matSortActive","matSortDirection","matSortChange"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","_actions"],["style","width: 180px; text-align: right;","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-table-message",4,"ngIf"],["showFirstLastButtons","",3,"disabled","pageIndex","pageSize","pageSizeOptions","length","page"],[3,"formGroup","ngSubmit"],[1,"col-xs-12","col-lg-6"],["matInput","",3,"formControlName"],[1,"filter-buttons"],["inline","","fontSet","fas","fontIcon","fa-search"],["key","common.search"],["mat-flat-button","","type","button","color","accent",3,"disabled","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",2,"width","180px","text-align","right"],["mat-icon-button","","type","button","color","primary",3,"routerLink","matTooltip"],["mat-icon-button","","type","button","color","primary",3,"matTooltip","click"],["mat-header-row",""],["mat-row",""],[1,"mat-table-message"],["key","table.noData"],["key","table.loading"]],template:function(e,t){1&e&&o.wd(0,ze,116,107,"form",0),2&e&&o.dd("ngIf",t.form)},directives:[N.k,g.s,g.n,g.h,S.c,S.a,R,x.a,L.c,L.f,T.a,g.m,g.g,k.o,N.j,L.b,j.a,X.b,g.c,g.q,$,B.a,g.o,z.a,g.f,K.a,H.b,U.a,V.a,Z,J.a,ee.j,te.a,ee.c,ee.e,ee.b,ee.g,ee.i,ie.a,ee.d,te.b,ee.a,ae.a,oe.a,w.c,re.a,ee.f,ee.h,pe],encapsulation:2}),e})()},"a/az":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var a=i("u9O/"),o=i("UGp+"),r=i("3Pt+"),n=i("ToKS");class c extends a.a{constructor(e,t,i,a,o,r,{required:n=!1,min:c,max:s}={}){super(e,t),this.required=n,this.min=c,this.max=s,n&&(!c||c<1)&&(this.min=1),this.fetchFn=o,this.mapperFn=r,this.viewUrl=i,this.readPermission=a}forPresenter(e){return e?e.map(e=>this.mapperFn(e)):[]}forFormControl(e){const t=e?e.map(e=>this.mapperFn(e)):[],i=[];return this.required&&i.push(r.r.required),(this.min||0===this.min)&&i.push(n.a.minArrayLength(this.min)),(this.max||0===this.max)&&i.push(n.a.maxArrayLength(this.max)),new r.e(t,i)}forFormCast(){let e=o.a().nullable(!0).label(this.label).transform((e,t)=>t&&t.length?t.map(e=>e.id):[]);return this.required&&(e=e.required()),(this.min||0===this.min)&&(e=e.min(this.min)),this.max&&(e=e.max(this.max)),e}forExport(){return o.c().label(this.label).transform((e,t)=>t&&t.length?t.map(e=>e.id).join(" "):null)}forImport(){let e=o.a().nullable(!0).label(this.label).transform((e,t)=>t?Array.isArray(t)?t:t.trim().split(" ").map(e=>e):null);return this.required&&(e=e.required()),(this.min||0===this.min)&&(e=e.min(this.min)),this.max&&(e=e.max(this.max)),e}}},a55H:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var a=i("mrSG"),o=i("zkTT"),r=i("QmLB"),n=i("gJ6y"),c=i("Vbab"),s=i("fXoL"),d=i("0IaG"),l=i("UDmo"),u=i("uVpe");let m=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.errorService=t,this.snackbar=i,this.saveLoading=!1}doCreate({values:e}){return Object(a.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0;const{id:t}=yield n.a.create(e),i=yield n.a.find(t);this.saveLoading=!1,this.snackbar.success(Object(c.d)("entities.partnerCategory.create.success")),this.dialogRef&&this.dialogRef.close(i)}catch(t){this.errorService.handle(t),this.saveLoading=!1}}))}doCancel(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(s.Hc(d.g),s.Hc(r.a),s.Hc(o.a))},e.\u0275cmp=s.Bc({type:e,selectors:[["app-partner-category-form-modal"]],decls:4,vars:2,consts:[["mat-dialog-title",""],["key","entities.partnerCategory.new.title"],[3,"saveLoading","modal","save","cancel"]],template:function(e,t){1&e&&(s.Nc(0,"h1",0),s.Ic(1,"app-i18n",1),s.Mc(),s.Nc(2,"mat-dialog-content"),s.Nc(3,"app-partner-category-form",2),s.Tc("save",(function(e){return t.doCreate(e)}))("cancel",(function(){return t.doCancel()})),s.Mc(),s.Mc()),2&e&&(s.wc(3),s.dd("saveLoading",t.saveLoading)("modal",!0))},directives:[d.h,l.a,d.e,u.a],encapsulation:2}),e})(),f=(()=>{class e{constructor(e){this.dialog=e}open(){return Object(a.a)(this,void 0,void 0,(function*(){const e=this.dialog.open(m,{width:"80%"});return new Promise(t=>{const i=e.afterClosed().subscribe(e=>{t(e),i&&!i.closed&&i.unsubscribe()})})}))}}return e.\u0275fac=function(t){return new(t||e)(s.Rc(d.b))},e.\u0275prov=s.Dc({token:e,factory:e.\u0275fac}),e})()},as5z:function(e,t,i){"use strict";i.d(t,"a",(function(){return N}));var a=i("dCvk"),o=i("Vbab"),r=i("gfiE"),n=i("3WK+"),c=i("Yo9n"),s=i("9Lsv"),d=i("5LST"),l=i("7p77"),u=i("mmyZ"),m=i("a/az"),f=i("joqs"),p=i("nV0w"),h=i("qTlC"),b=i("3arV"),v=i("+dX3");function g(e){return Object(o.d)("entities.informations.fields."+e)}function w(e,t){return Object(o.d)(`entities.informations.enumerators.${e}.${t}`)}const y={id:new n.a("id",g("id")),category:class{static relationToOne(e,t,i){let a=Object(o.a)();return new d.a(e,t,"/information-category",u.a.values.informationCategoryRead,l.a.listAutocomplete,e=>e?"es"==a.id?{id:e.id,label:e.titleFR}:{id:e.id,label:e.titleEN}:null,i)}static relationToMany(e,t,i){return new m.a(e,t,"/information-category",u.a.values.informationCategoryRead,l.a.listAutocomplete,e=>e?{id:e.id,label:e.titleFR}:null,i)}}.relationToOne("category",g("category"),{required:!0}),titleFR:new s.a("titleFR",g("titleFR"),{required:!0}),titreEN:new s.a("titreEN",g("titreEN"),{required:!0}),titreAR:new s.a("titreAR",g("titreAR"),{required:!0}),descriptionFR:new s.a("descriptionFR",g("descriptionFR"),{required:!0}),descriptionEN:new s.a("descriptionEN",g("descriptionEN"),{required:!0}),descriptionAR:new s.a("descriptionAR",g("descriptionAR"),{required:!0}),images:new b.a("images",g("images"),p.a.values.informationsImages,{}),document:new h.a("document",g("document"),p.a.values.informationsDocument,{}),videos:new s.a("videos",g("videos"),{}),addressFR:new s.a("addressFR",g("addressFR")),addressEN:new s.a("addressEN",g("addressEN")),addressAR:new s.a("addressAR",g("addressAR")),num_Tel:new s.a("num_Tel",g("num_Tel"),{}),email:new s.a("email",g("email"),{}),type:new v.a("type",g("type"),[{id:"information",label:w("type","information")},{id:"news",label:w("type","news")}],{required:!0}),publish:new v.a("publish",g("publish"),[{id:"true",label:w("publish","true")},{id:"false",label:w("publish","false")}],{required:!0}),site_web:new s.a("site_web",g("site_web"),{}),googleMapsPosition:new s.a("googleMapsPosition",g("googleMapsPosition"),{}),tags:f.a.relationToMany("tags",g("tags"),{required:!0}),createdAt:new r.a("createdAt",g("createdAt")),updatedAt:new r.a("updatedAt",g("updatedAt")),createdAtRange:new c.a("createdAtRange",g("createdAtRange"))};class N extends a.a{static get fields(){return y}}},bECE:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var a=i("mrSG"),o=i("fXoL"),r=i("8uIj"),n=i("rXYk"),c=i("3Pt+"),s=i("ofXK"),d=i("kmnG"),l=i("qFsG"),u=i("YPZE"),m=i("vFJ8"),f=i("bTqV"),p=i("NFeN"),h=i("UDmo");function b(e,t){if(1&e){const e=o.Oc();o.Nc(0,"form",1,2),o.Tc("ngSubmit",(function(){return o.nd(e),o.Xc().doSave()})),o.Nc(2,"div",3),o.Nc(3,"div",4),o.Nc(4,"mat-form-field",5),o.Nc(5,"mat-label"),o.xd(6),o.Mc(),o.Ic(7,"input",6),o.Nc(8,"mat-error"),o.Ic(9,"app-validations",7),o.Mc(),o.Mc(),o.Nc(10,"mat-form-field",5),o.Nc(11,"mat-label"),o.xd(12),o.Mc(),o.Ic(13,"textarea",8),o.Nc(14,"mat-error"),o.Ic(15,"app-validations",7),o.Mc(),o.Mc(),o.Mc(),o.Nc(16,"div",4),o.Nc(17,"mat-form-field",5),o.Nc(18,"mat-label"),o.xd(19),o.Mc(),o.Ic(20,"input",9),o.Nc(21,"mat-error"),o.Ic(22,"app-validations",7),o.Mc(),o.Mc(),o.Nc(23,"mat-form-field",5),o.Nc(24,"mat-label"),o.xd(25),o.Mc(),o.Ic(26,"textarea",8),o.Nc(27,"mat-error"),o.Ic(28,"app-validations",7),o.Mc(),o.Mc(),o.Mc(),o.Nc(29,"div",4),o.Nc(30,"mat-form-field",5),o.Nc(31,"mat-label"),o.xd(32),o.Mc(),o.Ic(33,"input",9),o.Nc(34,"mat-error"),o.Ic(35,"app-validations",7),o.Mc(),o.Mc(),o.Nc(36,"mat-form-field",5),o.Nc(37,"mat-label"),o.xd(38),o.Mc(),o.Ic(39,"textarea",8),o.Nc(40,"mat-error"),o.Ic(41,"app-validations",7),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Nc(42,"div",10),o.Nc(43,"button",11),o.Ic(44,"mat-icon",12),o.xd(45,"\xa0 "),o.Ic(46,"app-i18n",13),o.Mc(),o.Nc(47,"button",14),o.Tc("click",(function(){return o.nd(e),o.Xc().doReset()})),o.Ic(48,"mat-icon",15),o.xd(49,"\xa0 "),o.Ic(50,"app-i18n",16),o.Mc(),o.Nc(51,"button",17),o.Tc("click",(function(){return o.nd(e),o.Xc().cancel.emit()})),o.Ic(52,"mat-icon",18),o.xd(53,"\xa0 "),o.Ic(54,"app-i18n",19),o.Mc(),o.Mc(),o.Mc()}if(2&e){const e=o.Xc();o.dd("formGroup",e.form),o.wc(6),o.yd(e.fields.titleFR.label),o.wc(1),o.dd("formControlName",e.fields.titleFR.name)("required",e.fields.titleFR.required),o.wc(2),o.dd("control",e.form.get(e.fields.titleFR.name))("label",e.fields.titleFR.label),o.wc(3),o.yd(e.fields.descriptionFR.label),o.wc(1),o.dd("formControlName",e.fields.descriptionFR.name)("rows",4)("required",e.fields.descriptionFR.required),o.wc(2),o.dd("control",e.form.get(e.fields.descriptionFR.name))("label",e.fields.descriptionFR.label),o.wc(4),o.yd(e.fields.titleEN.label),o.wc(1),o.dd("formControlName",e.fields.titleEN.name)("required",e.fields.titleEN.required),o.wc(2),o.dd("control",e.form.get(e.fields.titleEN.name))("label",e.fields.titleEN.label),o.wc(3),o.yd(e.fields.descriptionEN.label),o.wc(1),o.dd("formControlName",e.fields.descriptionEN.name)("rows",4)("required",e.fields.descriptionEN.required),o.wc(2),o.dd("control",e.form.get(e.fields.descriptionEN.name))("label",e.fields.descriptionEN.label),o.wc(4),o.yd(e.fields.titleAR.label),o.wc(1),o.dd("formControlName",e.fields.titleAR.name)("required",e.fields.titleAR.required),o.wc(2),o.dd("control",e.form.get(e.fields.titleAR.name))("label",e.fields.titleAR.label),o.wc(3),o.yd(e.fields.descriptionAR.label),o.wc(1),o.dd("formControlName",e.fields.descriptionAR.name)("rows",4)("required",e.fields.descriptionAR.required),o.wc(2),o.dd("control",e.form.get(e.fields.descriptionAR.name))("label",e.fields.descriptionAR.label),o.wc(1),o.zc("form-buttons-modal",e.modal),o.wc(1),o.dd("disabled",e.saveLoading),o.wc(4),o.dd("disabled",e.saveLoading),o.wc(4),o.dd("disabled",e.saveLoading)}}let v=(()=>{class e{constructor(e){this.formBuilder=e,this.save=new o.v,this.cancel=new o.v,this.modal=!1}ngOnInit(){return Object(a.a)(this,void 0,void 0,(function*(){this.buildSchema(),this.buildForm()}))}get fields(){return r.a.fields}doSave(){if(!this.form.valid)return;const e=this.record&&this.record.id,t=this.schema.cast(this.form.value);this.save.emit({id:e,values:t})}doReset(){this.buildForm()}buildForm(){this.form=this.schema.buildForm(this.record)}buildSchema(){this.schema=new n.a([this.fields.titleFR,this.fields.titleEN,this.fields.titleAR,this.fields.descriptionFR,this.fields.descriptionEN,this.fields.descriptionAR],this.formBuilder)}}return e.\u0275fac=function(t){return new(t||e)(o.Hc(c.d))},e.\u0275cmp=o.Bc({type:e,selectors:[["app-information-category-form"]],inputs:{isEditing:"isEditing",record:"record",saveLoading:"saveLoading",modal:"modal"},outputs:{save:"save",cancel:"cancel"},decls:1,vars:1,consts:[["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],["ngForm","ngForm"],[1,"row"],[1,"col-md-4"],["floatLabel","always","appearance","outline"],["matInput","","appAutofocus","",3,"formControlName","required"],[3,"control","label"],["matInput","",3,"formControlName","rows","required"],["matInput","",3,"formControlName","required"],[1,"form-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["inline","","fontSet","far","fontIcon","fa-save"],["key","common.save"],["mat-flat-button","","color","accent","color","accent","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-undo"],["key","common.reset"],["mat-flat-button","","color","warn","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-times"],["key","common.cancel"]],template:function(e,t){1&e&&o.wd(0,b,55,39,"form",0),2&e&&o.dd("ngIf",t.form)},directives:[s.k,c.s,c.n,c.h,d.c,d.f,l.b,c.c,u.a,c.m,c.g,c.q,d.b,m.a,f.b,p.a,h.a],encapsulation:2}),e})()},bOb9:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var a=i("mrSG"),o=i("zkTT"),r=i("QmLB"),n=i("rOt7"),c=i("Vbab"),s=i("fXoL"),d=i("0IaG"),l=i("UDmo"),u=i("FP4Q");let m=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.errorService=t,this.snackbar=i,this.saveLoading=!1}doCreate({values:e}){return Object(a.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0;const{id:t}=yield n.a.create(e),i=yield n.a.find(t);this.saveLoading=!1,this.snackbar.success(Object(c.d)("entities.testimonyCategory.create.success")),this.dialogRef&&this.dialogRef.close(i)}catch(t){this.errorService.handle(t),this.saveLoading=!1}}))}doCancel(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(s.Hc(d.g),s.Hc(r.a),s.Hc(o.a))},e.\u0275cmp=s.Bc({type:e,selectors:[["app-testimony-category-form-modal"]],decls:4,vars:2,consts:[["mat-dialog-title",""],["key","entities.testimonyCategory.new.title"],[3,"saveLoading","modal","save","cancel"]],template:function(e,t){1&e&&(s.Nc(0,"h1",0),s.Ic(1,"app-i18n",1),s.Mc(),s.Nc(2,"mat-dialog-content"),s.Nc(3,"app-testimony-category-form",2),s.Tc("save",(function(e){return t.doCreate(e)}))("cancel",(function(){return t.doCancel()})),s.Mc(),s.Mc()),2&e&&(s.wc(3),s.dd("saveLoading",t.saveLoading)("modal",!0))},directives:[d.h,l.a,d.e,u.a],encapsulation:2}),e})(),f=(()=>{class e{constructor(e){this.dialog=e}open(){return Object(a.a)(this,void 0,void 0,(function*(){const e=this.dialog.open(m,{width:"80%"});return new Promise(t=>{const i=e.afterClosed().subscribe(e=>{t(e),i&&!i.closed&&i.unsubscribe()})})}))}}return e.\u0275fac=function(t){return new(t||e)(s.Rc(d.b))},e.\u0275prov=s.Dc({token:e,factory:e.\u0275fac}),e})()},bPrR:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var a=i("mrSG"),o=i("KYx6"),r=i("CN2L");class n{static update(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={id:e,data:t},a=r.a.get();return(yield o.a.put(`/tenant/${a}/partner/${e}`,i)).data}))}static destroyAll(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={ids:e},i=r.a.get();return(yield o.a.delete(`/tenant/${i}/partner`,{params:t})).data}))}static create(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={data:e},i=r.a.get();return(yield o.a.post(`/tenant/${i}/partner`,t)).data}))}static import(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={data:e,importHash:t},a=r.a.get();return(yield o.a.post(`/tenant/${a}/partner/import`,i)).data}))}static find(e){return Object(a.a)(this,void 0,void 0,(function*(){const t=r.a.get();return(yield o.a.get(`/tenant/${t}/partner/${e}`)).data}))}static list(e,t,i,n){return Object(a.a)(this,void 0,void 0,(function*(){const a={filter:e,orderBy:t,limit:i,offset:n},c=r.a.get();return(yield o.a.get(`/tenant/${c}/partner`,{params:a})).data}))}static listAutocomplete(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={query:e,limit:t},a=r.a.get();return(yield o.a.get(`/tenant/${a}/partner/autocomplete`,{params:i})).data}))}}},cscj:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var a=i("fXoL"),o=i("ofXK"),r=i("UDmo"),n=i("A5z7"),c=i("NFeN");function s(e,t){1&e&&(a.Nc(0,"span"),a.Ic(1,"app-i18n",6),a.Mc())}function d(e,t){if(1&e&&(a.Nc(0,"mat-chip"),a.xd(1),a.Mc()),2&e){const e=t.$implicit;a.wc(1),a.Ad(" ",e.label,": ",e.value," ")}}function l(e,t){if(1&e&&(a.Lc(0),a.Ic(1,"app-i18n",6),a.xd(2,": "),a.Nc(3,"span",7),a.wd(4,d,2,2,"mat-chip",8),a.Mc(),a.Kc()),2&e){const e=a.Xc();a.wc(4),a.dd("ngForOf",e.items)}}function u(e,t){1&e&&a.Ic(0,"mat-icon",9)}function m(e,t){1&e&&a.Ic(0,"mat-icon",10)}let f=(()=>{class e{get items(){return Object.keys(this.values||{}).map(e=>({label:this.fields[e].label,value:this.fields[e].forFilterPreview(this.values[e])})).filter(e=>e&&(e.value||0===e.value||!1===e.value))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Bc({type:e,selectors:[["app-filter-preview"]],inputs:{values:"values",fields:"fields",expanded:"expanded"},decls:7,vars:4,consts:[[1,"filter-preview"],[1,"filter-preview-left"],[4,"ngIf"],[1,"filter-preview-right"],["inline","","fontSet","fas","fontIcon","fa-chevron-up",4,"ngIf"],["inline","","fontSet","fas","fontIcon","fa-chevron-down",4,"ngIf"],["key","common.filters"],[1,"filter-preview-values"],[4,"ngFor","ngForOf"],["inline","","fontSet","fas","fontIcon","fa-chevron-up"],["inline","","fontSet","fas","fontIcon","fa-chevron-down"]],template:function(e,t){1&e&&(a.Nc(0,"div",0),a.Nc(1,"div",1),a.wd(2,s,2,0,"span",2),a.wd(3,l,5,1,"ng-container",2),a.Mc(),a.Nc(4,"div",3),a.wd(5,u,1,0,"mat-icon",4),a.wd(6,m,1,0,"mat-icon",5),a.Mc(),a.Mc()),2&e&&(a.wc(2),a.dd("ngIf",t.expanded||!t.items.length),a.wc(1),a.dd("ngIf",!t.expanded&&t.items.length),a.wc(2),a.dd("ngIf",t.expanded),a.wc(1),a.dd("ngIf",!t.expanded))},directives:[o.k,r.a,o.j,n.a,c.a],encapsulation:2}),e})()},cvrn:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var a=i("mrSG"),o=i("fXoL"),r=i("XGOh"),n=i("rXYk"),c=i("3Pt+"),s=i("ofXK"),d=i("kmnG"),l=i("qFsG"),u=i("YPZE"),m=i("vFJ8"),f=i("iadO"),p=i("YPoJ"),h=i("urQW"),b=i("bTqV"),v=i("NFeN"),g=i("UDmo");function w(e,t){if(1&e){const e=o.Oc();o.Nc(0,"form",1,2),o.Tc("ngSubmit",(function(){return o.nd(e),o.Xc().doSave()})),o.Nc(2,"mat-form-field",3),o.Nc(3,"mat-label"),o.xd(4),o.Mc(),o.Ic(5,"textarea",4),o.Nc(6,"mat-error"),o.Ic(7,"app-validations",5),o.Mc(),o.Mc(),o.Nc(8,"mat-form-field",3),o.Nc(9,"mat-label"),o.xd(10),o.Mc(),o.Ic(11,"input",6),o.Ic(12,"mat-datepicker-toggle",7),o.Ic(13,"mat-datepicker",null,8),o.Nc(15,"mat-error"),o.Ic(16,"app-validations",5),o.Mc(),o.Mc(),o.Ic(17,"app-image-form-field",9),o.Ic(18,"app-file-form-field",10),o.Ic(19,"app-file-form-field",10),o.Ic(20,"app-file-form-field",10),o.Nc(21,"mat-form-field",3),o.Nc(22,"mat-label"),o.xd(23),o.Mc(),o.Ic(24,"input",11),o.Nc(25,"mat-error"),o.Ic(26,"app-validations",5),o.Mc(),o.Mc(),o.Nc(27,"div",12),o.Nc(28,"button",13),o.Tc("click",(function(){return o.nd(e),o.Xc().cancel.emit()})),o.Ic(29,"mat-icon",14),o.xd(30,"\xa0 "),o.Ic(31,"app-i18n",15),o.Mc(),o.Nc(32,"button",16),o.Tc("click",(function(){return o.nd(e),o.Xc().doReset()})),o.Ic(33,"mat-icon",17),o.xd(34,"\xa0 "),o.Ic(35,"app-i18n",18),o.Mc(),o.Nc(36,"button",19),o.Ic(37,"mat-icon",20),o.xd(38,"\xa0 "),o.Ic(39,"app-i18n",21),o.Mc(),o.Mc(),o.Mc()}if(2&e){const e=o.ld(1),t=o.ld(14),i=o.Xc();o.dd("formGroup",i.form),o.wc(4),o.yd(i.fields.comment.label),o.wc(1),o.dd("formControlName",i.fields.comment.name)("rows",4)("required",i.fields.comment.required),o.wc(2),o.dd("control",i.form.get(i.fields.comment.name))("label",i.fields.comment.label),o.wc(3),o.yd(i.fields.date.label),o.wc(1),o.dd("matDatepicker",t)("formControlName",i.fields.date.name),o.wc(1),o.dd("for",t),o.wc(4),o.dd("control",i.form.get(i.fields.date.name))("label",i.fields.date.label),o.wc(1),o.dd("formControl",i.form.get(i.fields.images.name))("label",i.fields.images.label)("storage",i.fields.images.storage)("required",i.fields.images.required)("max",i.fields.images.max)("submitted",e.submitted),o.wc(1),o.dd("formControl",i.form.get(i.fields.audio.name))("label",i.fields.audio.label)("formats",i.fields.audio.formats)("storage",i.fields.audio.storage)("required",i.fields.audio.required)("max",i.fields.audio.max)("submitted",e.submitted),o.wc(1),o.dd("formControl",i.form.get(i.fields.documents.name))("label",i.fields.documents.label)("formats",i.fields.documents.formats)("storage",i.fields.documents.storage)("required",i.fields.documents.required)("max",i.fields.documents.max)("submitted",e.submitted),o.wc(1),o.dd("formControl",i.form.get(i.fields.video.name))("label",i.fields.video.label)("formats",i.fields.video.formats)("storage",i.fields.video.storage)("required",i.fields.video.required)("max",i.fields.video.max)("submitted",e.submitted),o.wc(3),o.yd(i.fields.position.label),o.wc(1),o.dd("formControlName",i.fields.position.name)("required",i.fields.position.required),o.wc(2),o.dd("control",i.form.get(i.fields.position.name))("label",i.fields.position.label),o.wc(1),o.zc("form-buttons-modal",i.modal),o.wc(1),o.dd("disabled",i.saveLoading),o.wc(4),o.dd("disabled",i.saveLoading),o.wc(4),o.dd("disabled",i.saveLoading)}}let y=(()=>{class e{constructor(e){this.formBuilder=e,this.save=new o.v,this.cancel=new o.v,this.modal=!1,this.testimonyId=localStorage.getItem("testimonyId")}ngOnInit(){return Object(a.a)(this,void 0,void 0,(function*(){this.buildSchema(),this.buildForm()}))}get fields(){return r.a.fields}doSave(){if(!this.form.valid)return;const e=this.record&&this.record.id,t=this.schema.cast(this.form.value);t.testimony=this.testimonyId,this.save.emit({id:e,values:t})}doReset(){this.buildForm()}buildForm(){this.form=this.schema.buildForm(this.record)}buildSchema(){this.schema=new n.a([this.fields.comment,this.fields.date,this.fields.images,this.fields.audio,this.fields.documents,this.fields.video,this.fields.position,this.fields.testimony],this.formBuilder)}}return e.\u0275fac=function(t){return new(t||e)(o.Hc(c.d))},e.\u0275cmp=o.Bc({type:e,selectors:[["app-activity-form"]],inputs:{isEditing:"isEditing",record:"record",saveLoading:"saveLoading",modal:"modal"},outputs:{save:"save",cancel:"cancel"},decls:1,vars:1,consts:[["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],["ngForm","ngForm"],["floatLabel","always","appearance","outline"],["matInput","","appAutofocus","",3,"formControlName","rows","required"],[3,"control","label"],["matInput","",3,"matDatepicker","formControlName"],["matSuffix","",3,"for"],["picker",""],[3,"formControl","label","storage","required","max","submitted"],[3,"formControl","label","formats","storage","required","max","submitted"],["matInput","",3,"formControlName","required"],[1,"form-buttons"],["mat-flat-button","","color","warn","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-times"],["key","common.cancel"],["mat-flat-button","","color","accent","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-undo"],["key","common.reset"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["inline","","fontSet","far","fontIcon","fa-save"],["key","common.save"]],template:function(e,t){1&e&&o.wd(0,w,40,50,"form",0),2&e&&o.dd("ngIf",t.form)},directives:[s.k,c.s,c.n,c.h,d.c,d.f,l.b,c.c,u.a,c.m,c.g,c.q,d.b,m.a,f.b,f.d,d.h,f.a,p.a,c.f,h.a,b.b,v.a,g.a],encapsulation:2}),e})()},gJ6y:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var a=i("mrSG"),o=i("KYx6"),r=i("CN2L");class n{static update(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={id:e,data:t},a=r.a.get();return(yield o.a.put(`/tenant/${a}/partner-category/${e}`,i)).data}))}static destroyAll(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={ids:e},i=r.a.get();return(yield o.a.delete(`/tenant/${i}/partner-category`,{params:t})).data}))}static create(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={data:e},i=r.a.get();return(yield o.a.post(`/tenant/${i}/partner-category`,t)).data}))}static import(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={data:e,importHash:t},a=r.a.get();return(yield o.a.post(`/tenant/${a}/partner-category/import`,i)).data}))}static find(e){return Object(a.a)(this,void 0,void 0,(function*(){const t=r.a.get();return(yield o.a.get(`/tenant/${t}/partner-category/${e}`)).data}))}static list(e,t,i,n){return Object(a.a)(this,void 0,void 0,(function*(){const a={filter:e,orderBy:t,limit:i,offset:n},c=r.a.get();return(yield o.a.get(`/tenant/${c}/partner-category`,{params:a})).data}))}static listAutocomplete(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={query:e,limit:t},a=r.a.get();return(yield o.a.get(`/tenant/${a}/partner-category/autocomplete`,{params:i})).data}))}}},jmCL:function(e,t,i){"use strict";i.d(t,"a",(function(){return N}));var a=i("mrSG"),o=i("fXoL"),r=i("LvDl"),n=i("kmnG"),c=i("qFsG"),s=i("/1cH"),d=i("3Pt+"),l=i("YPZE"),u=i("ofXK"),m=i("vFJ8"),f=i("bTqV"),p=i("NFeN"),h=i("FKr1"),b=i("Xa2L");function v(e,t){if(1&e){const e=o.Oc();o.Nc(0,"button",9),o.Tc("click",(function(t){return o.nd(e),o.Xc().openCreateModal(t)})),o.Nc(1,"mat-icon"),o.xd(2,"add"),o.Mc(),o.Mc()}}function g(e,t){1&e&&(o.Nc(0,"mat-option",10),o.Ic(1,"mat-spinner",11),o.Mc())}function w(e,t){if(1&e&&(o.Nc(0,"mat-option",13),o.Nc(1,"span"),o.xd(2),o.Mc(),o.Mc()),2&e){const e=t.$implicit;o.dd("value",e),o.wc(2),o.yd(e.label)}}function y(e,t){if(1&e&&(o.Lc(0),o.wd(1,w,3,2,"mat-option",12),o.Kc()),2&e){const e=o.Xc();o.wc(1),o.dd("ngForOf",e.dataSource)}}let N=(()=>{class e{constructor(){this.createModalOpen=new o.v,this.submitted=!1,this.required=!1,this.appAutofocus=!1,this.serverSideSearch=!1,this.fetchFn=null,this.showCreate=!1,this.currentQuery="NOT_INITIALIZED",this.serverSideDataSource=[],this.clientSideDataSource=[],this.loading=!1,this.debouncedSearch=e=>{}}get dataSource(){return this.serverSideSearch?this.serverSideDataSource:this.clientSideDataSource}handleSearch(e){return Object(a.a)(this,void 0,void 0,(function*(){if(Object(r.isString)(e))return this.serverSideSearch?this.handleSearchServer(e):this.handleSearchClient(e)}))}handleSearchClient(e){return Object(a.a)(this,void 0,void 0,(function*(){this.serverSideDataSource&&this.serverSideDataSource.length||(yield this.handleSearchServer()),this.clientSideDataSource=this.serverSideDataSource.filter(t=>String(t.label||"").toLowerCase().includes(String(e||"").toLowerCase())),this.loading=!1}))}handleSearchServer(e){return Object(a.a)(this,void 0,void 0,(function*(){if(e!==this.currentQuery){this.currentQuery=e,this.loading=!0;try{const t=yield this.fetchFn(e,100);this.currentQuery===e&&(this.serverSideDataSource=t,this.loading=!1)}catch(t){console.error(t),this.currentQuery===e&&(this.serverSideDataSource=[],this.loading=!1)}}}))}ngOnInit(){this.debouncedSearch=Object(r.debounce)(this.handleSearch.bind(this),300),this.handleSearch("")}displayFn(e){if(e)return e.label}clearIfNonSelected(){this.control.value&&this.control.value.id||this.control.setValue(null)}openCreateModal(e){e.stopPropagation(),this.createModalOpen.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Bc({type:e,selectors:[["app-autocomplete-form-field"]],inputs:{submitted:"submitted",control:"control",label:"label",required:"required",appAutofocus:"appAutofocus",serverSideSearch:"serverSideSearch",fetchFn:"fetchFn",showCreate:"showCreate"},outputs:{createModalOpen:"createModalOpen"},decls:12,vars:11,consts:[["floatLabel","always","appearance","outline"],[1,"autocomplete-form-field"],["matInput","",3,"required","matAutocomplete","formControl","appAutofocus","blur","input"],["mat-icon-button","","type","button","color","primary",3,"click",4,"ngIf"],[3,"control","label"],["autoActiveFirstOption","",3,"displayWith"],["auto","matAutocomplete"],["class","mat-option-spinner",4,"ngIf"],[4,"ngIf"],["mat-icon-button","","type","button","color","primary",3,"click"],[1,"mat-option-spinner"],["color","accent","diameter","50"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){if(1&e&&(o.Nc(0,"mat-form-field",0),o.Nc(1,"mat-label"),o.xd(2),o.Mc(),o.Nc(3,"div",1),o.Nc(4,"input",2),o.Tc("blur",(function(){return t.clearIfNonSelected()}))("input",(function(e){return t.debouncedSearch(e.target.value)})),o.Mc(),o.wd(5,v,3,0,"button",3),o.Mc(),o.Nc(6,"mat-error"),o.Ic(7,"app-validations",4),o.Mc(),o.Mc(),o.Nc(8,"mat-autocomplete",5,6),o.wd(10,g,2,0,"mat-option",7),o.wd(11,y,2,1,"ng-container",8),o.Mc()),2&e){const e=o.ld(9);o.wc(2),o.yd(t.label),o.wc(2),o.dd("required",t.required)("matAutocomplete",e)("formControl",t.control)("appAutofocus",t.appAutofocus),o.wc(1),o.dd("ngIf",t.showCreate),o.wc(2),o.dd("control",t.control)("label",t.label),o.wc(1),o.dd("displayWith",t.displayFn),o.wc(2),o.dd("ngIf",t.loading),o.wc(1),o.dd("ngIf",!t.loading)}},directives:[n.c,n.f,c.b,s.c,d.c,d.q,d.m,d.f,l.a,u.k,n.b,m.a,s.a,f.b,p.a,h.o,b.b,u.j],encapsulation:2}),e})()},joqs:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var a=i("5LST"),o=i("sMbg"),r=i("mmyZ"),n=i("a/az"),c=i("Vbab");class s{static relationToOne(e,t,i){return new a.a(e,t,"/tags",r.a.values.tagsRead,o.a.listAutocomplete,e=>e?{id:e.id,label:e.titleFR}:null,i)}static relationToMany(e,t,i){let a=Object(c.a)();return new n.a(e,t,"/tags",r.a.values.tagsRead,o.a.listAutocomplete,e=>e?"es"==a.id?{id:e.id,label:e.titleFR}:{id:e.id,label:e.titleEN}:null,i)}}},lcth:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var a=i("dCvk"),o=i("Vbab"),r=i("gfiE"),n=i("3WK+"),c=i("Yo9n"),s=i("9Lsv");function d(e){return Object(o.d)("entities.partnerCategory.fields."+e)}const l={id:new n.a("id",d("id")),titleFR:new s.a("titleFR",d("titleFR"),{required:!0}),description:new s.a("description",d("description"),{}),createdAt:new r.a("createdAt",d("createdAt")),updatedAt:new r.a("updatedAt",d("updatedAt")),createdAtRange:new c.a("createdAtRange",d("createdAtRange"))};class u extends a.a{static get fields(){return l}}},qTlC:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var a=i("u9O/"),o=i("UGp+"),r=i("3Pt+"),n=i("ToKS");class c extends a.a{constructor(e,t,i,{required:a=!1,min:o,max:r,formats:n}={}){super(e,t),this.storage=i,this.required=a,this.min=o,this.max=r,this.formats=n}forPresenter(e){return e||[]}forFormControl(e){const t=[];return this.required&&t.push(r.r.required),(this.min||0===this.min)&&t.push(n.a.minArrayLength(this.min)),(this.max||0===this.max)&&t.push(n.a.maxArrayLength(this.max)),new r.e(e||[],t)}forFormCast(){return o.a().nullable(!0).label(this.label)}forExport(){return o.c().label(this.label).transform((e,t)=>t&&t.length?t.map(e=>e.downloadUrl).join(" "):null)}forImport(){let e=o.a().compact().ensure().label(this.label).nullable(!0).transform((e,t)=>t?Array.isArray(t)?t:t.trim().split(" ").map(e=>({name:e.trim(),publicUrl:e.trim(),new:!0})):null);return(this.required||this.min)&&(e=e.required()),(this.min||0===this.min)&&(e=e.min(this.min)),this.max&&(e=e.max(this.max)),e}}},qvmF:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var a=i("LvDl"),o=i("fXoL"),r=i("ofXK"),n=i("NFeN");function c(e,t){if(1&e&&(o.Nc(0,"div",2),o.Nc(1,"a",3),o.Nc(2,"mat-icon"),o.xd(3,"attach_file"),o.Mc(),o.xd(4),o.Mc(),o.Mc()),2&e){const e=t.$implicit;o.wc(1),o.dd("href",e.downloadUrl,o.pd),o.wc(3),o.zd(" ",e.name," ")}}let s=(()=>{class e{get valueAsArray(){return this.value?Array.isArray(this.value)?this.value:[this.value]:[]}get valueWithNamesTruncated(){return this.valueAsArray.map(e=>({id:e.id,name:Object(a.truncate)(e.name),downloadUrl:e.downloadUrl}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Bc({type:e,selectors:[["app-table-item-files"]],inputs:{value:"value"},decls:2,vars:1,consts:[[1,"table-item-file-list"],["class","table-item-file-list-item",4,"ngFor","ngForOf"],[1,"table-item-file-list-item"],["target","_blank","download","",1,"table-item-file-list-item-name","app-link",3,"href"]],template:function(e,t){1&e&&(o.Nc(0,"div",0),o.wd(1,c,5,2,"div",1),o.Mc()),2&e&&(o.wc(1),o.dd("ngForOf",t.valueWithNamesTruncated))},directives:[r.j,n.a],encapsulation:2}),e})()},rOt7:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var a=i("mrSG"),o=i("KYx6"),r=i("CN2L");class n{static update(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={id:e,data:t},a=r.a.get();return(yield o.a.put(`/tenant/${a}/testimony-category/${e}`,i)).data}))}static destroyAll(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={ids:e},i=r.a.get();return(yield o.a.delete(`/tenant/${i}/testimony-category`,{params:t})).data}))}static create(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={data:e},i=r.a.get();return(yield o.a.post(`/tenant/${i}/testimony-category`,t)).data}))}static import(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={data:e,importHash:t},a=r.a.get();return(yield o.a.post(`/tenant/${a}/testimony-category/import`,i)).data}))}static find(e){return Object(a.a)(this,void 0,void 0,(function*(){const t=r.a.get();return(yield o.a.get(`/tenant/${t}/testimony-category/${e}`)).data}))}static list(e,t,i,n){return Object(a.a)(this,void 0,void 0,(function*(){const a={filter:e,orderBy:t,limit:i,offset:n},c=r.a.get();return(yield o.a.get(`/tenant/${c}/testimony-category`,{params:a})).data}))}static listAutocomplete(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={query:e,limit:t},a=r.a.get();return(yield o.a.get(`/tenant/${a}/testimony-category/autocomplete`,{params:i})).data}))}}},s1L9:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var a=i("u9O/"),o=i("UGp+"),r=i("Vbab"),n=i("3Pt+");class c extends a.a{constructor(e,t,{yesLabel:i,noLabel:a}={}){super(e,t),this.yesLabel=i||Object(r.d)("common.yes"),this.noLabel=a||Object(r.d)("common.no")}forPresenter(e){return e?this.yesLabel:this.noLabel}forFilterPreview(e){return null==e?null:Boolean(e)?this.yesLabel:this.noLabel}forFormControl(e){return new n.e(e||!1)}forFormCast(){return o.b().default(!1).label(this.label)}forFilterControl(e){return new n.e(e)}forFilterCast(){return o.b().nullable(!0).label(this.label)}forExport(){return o.b().nullable(!0).default(!1).label(this.label)}forImport(){return o.b().default(!1).label(this.label)}}},sMbg:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var a=i("mrSG"),o=i("KYx6"),r=i("CN2L");class n{static update(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={id:e,data:t},a=r.a.get();return(yield o.a.put(`/tenant/${a}/tags/${e}`,i)).data}))}static destroyAll(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={ids:e},i=r.a.get();return(yield o.a.delete(`/tenant/${i}/tags`,{params:t})).data}))}static create(e){return Object(a.a)(this,void 0,void 0,(function*(){const t={data:e},i=r.a.get();return(yield o.a.post(`/tenant/${i}/tags`,t)).data}))}static import(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={data:e,importHash:t},a=r.a.get();return(yield o.a.post(`/tenant/${a}/tags/import`,i)).data}))}static find(e){return Object(a.a)(this,void 0,void 0,(function*(){const t=r.a.get();return(yield o.a.get(`/tenant/${t}/tags/${e}`)).data}))}static list(e,t,i,n){return Object(a.a)(this,void 0,void 0,(function*(){const a={filter:e,orderBy:t,limit:i,offset:n},c=r.a.get();return(yield o.a.get(`/tenant/${c}/tags`,{params:a})).data}))}static listAutocomplete(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={query:e,limit:t},a=r.a.get();return(yield o.a.get(`/tenant/${a}/tags/autocomplete`,{params:i})).data}))}}},t9Rf:function(e,t,i){"use strict";i.d(t,"a",(function(){return C}));var a=i("PCNd"),o=i("14fu"),r=i("EWUG"),n=i("mrSG"),c=i("zkTT"),s=i("QmLB"),d=i("KAnB"),l=i("Vbab"),u=i("fXoL"),m=i("0IaG"),f=i("UDmo"),p=i("CCP8");let h=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.errorService=t,this.snackbar=i,this.saveLoading=!1}doCreate({values:e}){return Object(n.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0;const{id:t}=yield d.a.create(e),i=yield d.a.find(t);this.saveLoading=!1,this.snackbar.success(Object(l.d)("entities.informations.create.success")),this.dialogRef&&this.dialogRef.close(i)}catch(t){this.errorService.handle(t),this.saveLoading=!1}}))}doCancel(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(u.Hc(m.g),u.Hc(s.a),u.Hc(c.a))},e.\u0275cmp=u.Bc({type:e,selectors:[["app-informations-form-modal"]],decls:4,vars:2,consts:[["mat-dialog-title",""],["key","entities.informations.new.title"],[3,"saveLoading","modal","save","cancel"]],template:function(e,t){1&e&&(u.Nc(0,"h1",0),u.Ic(1,"app-i18n",1),u.Mc(),u.Nc(2,"mat-dialog-content"),u.Nc(3,"app-informations-form",2),u.Tc("save",(function(e){return t.doCreate(e)}))("cancel",(function(){return t.doCancel()})),u.Mc(),u.Mc()),2&e&&(u.wc(3),u.dd("saveLoading",t.saveLoading)("modal",!0))},directives:[m.h,f.a,m.e,p.a],encapsulation:2}),e})(),b=(()=>{class e{constructor(e){this.dialog=e}open(){return Object(n.a)(this,void 0,void 0,(function*(){const e=this.dialog.open(h,{width:"80%"});return new Promise(t=>{const i=e.afterClosed().subscribe(e=>{t(e),i&&!i.closed&&i.unsubscribe()})})}))}}return e.\u0275fac=function(t){return new(t||e)(u.Rc(m.b))},e.\u0275prov=u.Dc({token:e,factory:e.\u0275fac}),e})();var v=i("bOb9"),g=i("QSg+"),w=i("NWLm"),y=i("ZE+5");let N=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.errorService=t,this.snackbar=i,this.saveLoading=!1}doCreate({values:e}){return Object(n.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0;const{id:t}=yield w.a.create(e),i=yield w.a.find(t);this.saveLoading=!1,this.snackbar.success(Object(l.d)("entities.testimony.create.success")),this.dialogRef&&this.dialogRef.close(i)}catch(t){this.errorService.handle(t),this.saveLoading=!1}}))}doCancel(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(u.Hc(m.g),u.Hc(s.a),u.Hc(c.a))},e.\u0275cmp=u.Bc({type:e,selectors:[["app-testimony-form-modal"]],decls:4,vars:2,consts:[["mat-dialog-title",""],["key","entities.testimony.new.title"],[3,"saveLoading","modal","save","cancel"]],template:function(e,t){1&e&&(u.Nc(0,"h1",0),u.Ic(1,"app-i18n",1),u.Mc(),u.Nc(2,"mat-dialog-content"),u.Nc(3,"app-testimony-form",2),u.Tc("save",(function(e){return t.doCreate(e)}))("cancel",(function(){return t.doCancel()})),u.Mc(),u.Mc()),2&e&&(u.wc(3),u.dd("saveLoading",t.saveLoading)("modal",!0))},directives:[m.h,f.a,m.e,y.a],encapsulation:2}),e})(),S=(()=>{class e{constructor(e){this.dialog=e}open(){return Object(n.a)(this,void 0,void 0,(function*(){const e=this.dialog.open(N,{width:"80%"});return new Promise(t=>{const i=e.afterClosed().subscribe(e=>{t(e),i&&!i.closed&&i.unsubscribe()})})}))}}return e.\u0275fac=function(t){return new(t||e)(u.Rc(m.b))},e.\u0275prov=u.Dc({token:e,factory:e.\u0275fac}),e})();var M=i("MLI3"),F=i("OVB5"),I=i("a55H");let C=(()=>{class e{}return e.\u0275mod=u.Fc({type:e}),e.\u0275inj=u.Ec({factory:function(t){return new(t||e)},providers:[o.a,r.a,b,v.a,g.a,S,M.a,F.a,I.a],imports:[[a.a]]}),e})()},uVpe:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var a=i("mrSG"),o=i("fXoL"),r=i("lcth"),n=i("rXYk"),c=i("3Pt+"),s=i("ofXK"),d=i("kmnG"),l=i("qFsG"),u=i("YPZE"),m=i("vFJ8"),f=i("bTqV"),p=i("NFeN"),h=i("UDmo");function b(e,t){if(1&e){const e=o.Oc();o.Nc(0,"form",1,2),o.Tc("ngSubmit",(function(){return o.nd(e),o.Xc().doSave()})),o.Nc(2,"mat-form-field",3),o.Nc(3,"mat-label"),o.xd(4),o.Mc(),o.Ic(5,"input",4),o.Nc(6,"mat-error"),o.Ic(7,"app-validations",5),o.Mc(),o.Mc(),o.Nc(8,"mat-form-field",3),o.Nc(9,"mat-label"),o.xd(10),o.Mc(),o.Ic(11,"textarea",6),o.Nc(12,"mat-error"),o.Ic(13,"app-validations",5),o.Mc(),o.Mc(),o.Nc(14,"div",7),o.Nc(15,"button",8),o.Ic(16,"mat-icon",9),o.xd(17,"\xa0 "),o.Ic(18,"app-i18n",10),o.Mc(),o.Nc(19,"button",11),o.Tc("click",(function(){return o.nd(e),o.Xc().doReset()})),o.Ic(20,"mat-icon",12),o.xd(21,"\xa0 "),o.Ic(22,"app-i18n",13),o.Mc(),o.Nc(23,"button",14),o.Tc("click",(function(){return o.nd(e),o.Xc().cancel.emit()})),o.Ic(24,"mat-icon",15),o.xd(25,"\xa0 "),o.Ic(26,"app-i18n",16),o.Mc(),o.Mc(),o.Mc()}if(2&e){const e=o.Xc();o.dd("formGroup",e.form),o.wc(4),o.yd(e.fields.titleFR.label),o.wc(1),o.dd("formControlName",e.fields.titleFR.name)("required",e.fields.titleFR.required),o.wc(2),o.dd("control",e.form.get(e.fields.titleFR.name))("label",e.fields.titleFR.label),o.wc(3),o.yd(e.fields.description.label),o.wc(1),o.dd("formControlName",e.fields.description.name)("rows",4)("required",e.fields.description.required),o.wc(2),o.dd("control",e.form.get(e.fields.description.name))("label",e.fields.description.label),o.wc(1),o.zc("form-buttons-modal",e.modal),o.wc(1),o.dd("disabled",e.saveLoading),o.wc(4),o.dd("disabled",e.saveLoading),o.wc(4),o.dd("disabled",e.saveLoading)}}let v=(()=>{class e{constructor(e){this.formBuilder=e,this.save=new o.v,this.cancel=new o.v,this.modal=!1}ngOnInit(){return Object(a.a)(this,void 0,void 0,(function*(){this.buildSchema(),this.buildForm()}))}get fields(){return r.a.fields}doSave(){if(!this.form.valid)return;const e=this.record&&this.record.id,t=this.schema.cast(this.form.value);this.save.emit({id:e,values:t})}doReset(){this.buildForm()}buildForm(){this.form=this.schema.buildForm(this.record)}buildSchema(){this.schema=new n.a([this.fields.titleFR,this.fields.description],this.formBuilder)}}return e.\u0275fac=function(t){return new(t||e)(o.Hc(c.d))},e.\u0275cmp=o.Bc({type:e,selectors:[["app-partner-category-form"]],inputs:{isEditing:"isEditing",record:"record",saveLoading:"saveLoading",modal:"modal"},outputs:{save:"save",cancel:"cancel"},decls:1,vars:1,consts:[["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],["ngForm","ngForm"],["floatLabel","always","appearance","outline"],["matInput","","appAutofocus","",3,"formControlName","required"],[3,"control","label"],["matInput","",3,"formControlName","rows","required"],[1,"form-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["inline","","fontSet","far","fontIcon","fa-save"],["key","common.save"],["mat-flat-button","","color","accent","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-undo"],["key","common.reset"],["mat-flat-button","","color","warn","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-times"],["key","common.cancel"]],template:function(e,t){1&e&&o.wd(0,b,27,17,"form",0),2&e&&o.dd("ngIf",t.form)},directives:[s.k,c.s,c.n,c.h,d.c,d.f,l.b,c.c,u.a,c.m,c.g,c.q,d.b,m.a,f.b,p.a,h.a],encapsulation:2}),e})()},urQW:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var a=i("mrSG"),o=i("fXoL"),r=i("3Pt+"),n=i("tQI4"),c=i("QmLB"),s=i("bTqV"),d=i("NFeN"),l=i("UDmo"),u=i("ofXK"),m=i("vFJ8");const f=["fileInput"];function p(e,t){if(1&e&&o.Ic(0,"app-validations",9),2&e){const e=o.Xc();o.dd("control",e.control)("label",e.label)}}function h(e,t){if(1&e){const e=o.Oc();o.Nc(0,"div",13),o.Nc(1,"mat-icon"),o.xd(2,"attach_file"),o.Mc(),o.Nc(3,"a",14),o.xd(4),o.Mc(),o.Nc(5,"button",15),o.Tc("click",(function(){o.nd(e);const i=t.$implicit;return o.Xc(2).remove(i.id)})),o.Nc(6,"mat-icon"),o.xd(7,"cancel"),o.Mc(),o.Mc(),o.Mc()}if(2&e){const e=t.$implicit;o.wc(3),o.dd("href",e.downloadUrl,o.pd),o.wc(1),o.zd(" ",e.name," ")}}function b(e,t){if(1&e&&(o.Nc(0,"div",10),o.Nc(1,"div",11),o.wd(2,h,8,2,"div",12),o.Mc(),o.Mc()),2&e){const e=o.Xc();o.wc(2),o.dd("ngForOf",e.value)}}let v=(()=>{class e{constructor(e){this.errorService=e,this.submitted=!1,this.required=!1,this._value=[],this.onChange=()=>{},this.onTouched=()=>{},this.disabled=!1,this.loading=!1,this.localError=null}add(e){return Object(a.a)(this,void 0,void 0,(function*(){try{this.localError=null;const t=e.target.files;if(!t||!t.length)return;let i=t[0];n.a.validate(i,{storage:this.storage,formats:this.formats}),this.loading=!0,i=yield n.a.upload(i,{storage:this.storage,formats:this.formats}),this.value=[...this._value,i],this.loading=!1,this.fileInput.nativeElement.value=""}catch(t){this.loading=!1,console.error(t),this.localError=this.errorService.selectMessage(t),this.fileInput.nativeElement.value=""}}))}get accept(){return this.formats?this.formats.map(e=>"."+e).join(","):void 0}remove(e){return Object(a.a)(this,void 0,void 0,(function*(){this.value=this.value.filter(t=>t.id!==e)}))}get value(){return this._value}get isFull(){return this.max&&this.value.length>=this.max}set value(e){this._value=e,this.onChange(e),this.onTouched()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}writeValue(e){this.value=e||[]}setDisabledState(e){this.disabled=Boolean(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Hc(c.a))},e.\u0275cmp=o.Bc({type:e,selectors:[["app-file-form-field"]],viewQuery:function(e,t){var i;1&e&&o.sd(f,!0),2&e&&o.kd(i=o.Uc())&&(t.fileInput=i.first)},inputs:{submitted:"submitted",control:["formControl","control"],label:"label",required:"required",_value:["value","_value"],storage:"storage",formats:"formats",max:"max"},features:[o.vc([{provide:r.k,useExisting:Object(o.pb)(()=>e),multi:!0}])],decls:13,vars:9,consts:[[2,"margin-bottom","24px"],[1,"app-form-label"],["mat-stroked-button","","type","button",3,"disabled","click"],["key","fileUploader.upload"],["type","file",2,"display","none",3,"disabled","accept","change"],["fileInput",""],[1,"app-form-error"],[3,"control","label",4,"ngIf"],["class","app-form-field",4,"ngIf"],[3,"control","label"],[1,"app-form-field"],[1,"file-form-field-list"],["class","file-form-field-list-item",4,"ngFor","ngForOf"],[1,"file-form-field-list-item"],["target","_blank","download","",1,"file-form-field-list-item-name","app-link",3,"href"],["mat-icon-button","","type","button",3,"click"]],template:function(e,t){if(1&e){const e=o.Oc();o.Nc(0,"div",0),o.Nc(1,"div",1),o.xd(2),o.Mc(),o.Nc(3,"button",2),o.Tc("click",(function(){return o.nd(e),o.ld(8).click()})),o.Nc(4,"mat-icon"),o.xd(5,"add"),o.Mc(),o.Ic(6,"app-i18n",3),o.Nc(7,"input",4,5),o.Tc("change",(function(e){return t.add(e)})),o.Mc(),o.Mc(),o.Nc(9,"div",6),o.wd(10,p,1,2,"app-validations",7),o.xd(11),o.Mc(),o.Mc(),o.wd(12,b,3,1,"div",8)}2&e&&(o.wc(1),o.zc("required",t.required),o.wc(1),o.zd(" ",t.label," "),o.wc(1),o.dd("disabled",t.loading||t.isFull),o.wc(4),o.dd("disabled",t.loading||t.isFull)("accept",t.accept),o.wc(3),o.dd("ngIf",t.submitted),o.wc(1),o.zd(" ",t.localError," "),o.wc(1),o.dd("ngIf",t.value&&t.value.length))},directives:[s.b,d.a,l.a,u.k,m.a,u.j],encapsulation:2}),e})()},xuDp:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var a=i("mrSG"),o=i("fXoL"),r=i("IsfU"),n=i("rXYk"),c=i("3Pt+"),s=i("ofXK"),d=i("kmnG"),l=i("qFsG"),u=i("YPZE"),m=i("vFJ8"),f=i("bTqV"),p=i("NFeN"),h=i("UDmo");function b(e,t){if(1&e){const e=o.Oc();o.Nc(0,"form",1,2),o.Tc("ngSubmit",(function(){return o.nd(e),o.Xc().doSave()})),o.Nc(2,"div",3),o.Nc(3,"div",4),o.Nc(4,"mat-form-field",5),o.Nc(5,"mat-label"),o.xd(6),o.Mc(),o.Ic(7,"input",6),o.Nc(8,"mat-error"),o.Ic(9,"app-validations",7),o.Mc(),o.Mc(),o.Mc(),o.Nc(10,"div",4),o.Nc(11,"mat-form-field",5),o.Nc(12,"mat-label"),o.xd(13),o.Mc(),o.Ic(14,"input",8),o.Nc(15,"mat-error"),o.Ic(16,"app-validations",7),o.Mc(),o.Mc(),o.Mc(),o.Nc(17,"div",4),o.Nc(18,"mat-form-field",5),o.Nc(19,"mat-label"),o.xd(20),o.Mc(),o.Ic(21,"input",8),o.Nc(22,"mat-error"),o.Ic(23,"app-validations",7),o.Mc(),o.Mc(),o.Mc(),o.Mc(),o.Nc(24,"div",9),o.Nc(25,"button",10),o.Ic(26,"mat-icon",11),o.xd(27,"\xa0 "),o.Ic(28,"app-i18n",12),o.Mc(),o.Nc(29,"button",13),o.Tc("click",(function(){return o.nd(e),o.Xc().doReset()})),o.Ic(30,"mat-icon",14),o.xd(31,"\xa0 "),o.Ic(32,"app-i18n",15),o.Mc(),o.Nc(33,"button",16),o.Tc("click",(function(){return o.nd(e),o.Xc().cancel.emit()})),o.Ic(34,"mat-icon",17),o.xd(35,"\xa0 "),o.Ic(36,"app-i18n",18),o.Mc(),o.Mc(),o.Mc()}if(2&e){const e=o.Xc();o.dd("formGroup",e.form),o.wc(6),o.yd(e.fields.titleFR.label),o.wc(1),o.dd("formControlName",e.fields.titleFR.name)("required",e.fields.titleFR.required),o.wc(2),o.dd("control",e.form.get(e.fields.titleFR.name))("label",e.fields.titleFR.label),o.wc(4),o.yd(e.fields.titleEN.label),o.wc(1),o.dd("formControlName",e.fields.titleEN.name)("required",e.fields.titleEN.required),o.wc(2),o.dd("control",e.form.get(e.fields.titleEN.name))("label",e.fields.titleEN.label),o.wc(4),o.yd(e.fields.titleAR.label),o.wc(1),o.dd("formControlName",e.fields.titleAR.name)("required",e.fields.titleAR.required),o.wc(2),o.dd("control",e.form.get(e.fields.titleAR.name))("label",e.fields.titleAR.label),o.wc(1),o.zc("form-buttons-modal",e.modal),o.wc(1),o.dd("disabled",e.saveLoading),o.wc(4),o.dd("disabled",e.saveLoading),o.wc(4),o.dd("disabled",e.saveLoading)}}let v=(()=>{class e{constructor(e){this.formBuilder=e,this.save=new o.v,this.cancel=new o.v,this.modal=!1}ngOnInit(){return Object(a.a)(this,void 0,void 0,(function*(){this.buildSchema(),this.buildForm()}))}get fields(){return r.a.fields}doSave(){if(!this.form.valid)return;const e=this.record&&this.record.id,t=this.schema.cast(this.form.value);this.save.emit({id:e,values:t})}doReset(){this.buildForm()}buildForm(){this.form=this.schema.buildForm(this.record)}buildSchema(){this.schema=new n.a([this.fields.titleFR,this.fields.titleEN,this.fields.titleAR],this.formBuilder)}}return e.\u0275fac=function(t){return new(t||e)(o.Hc(c.d))},e.\u0275cmp=o.Bc({type:e,selectors:[["app-tags-form"]],inputs:{isEditing:"isEditing",record:"record",saveLoading:"saveLoading",modal:"modal"},outputs:{save:"save",cancel:"cancel"},decls:1,vars:1,consts:[["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],["ngForm","ngForm"],[1,"row"],[1,"col-md-4"],["floatLabel","always","appearance","outline"],["matInput","","appAutofocus","",3,"formControlName","required"],[3,"control","label"],["matInput","",3,"formControlName","required"],[1,"form-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["inline","","fontSet","far","fontIcon","fa-save"],["key","common.save"],["mat-flat-button","","color","accent","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-undo"],["key","common.reset"],["mat-flat-button","","color","warn","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-times"],["key","common.cancel"]],template:function(e,t){1&e&&o.wd(0,b,37,21,"form",0),2&e&&o.dd("ngIf",t.form)},directives:[s.k,c.s,c.n,c.h,d.c,d.f,l.b,c.c,u.a,c.m,c.g,c.q,d.b,m.a,f.b,p.a,h.a],encapsulation:2}),e})()},z7xO:function(e,t,i){"use strict";i.d(t,"a",(function(){return M}));var a=i("mrSG"),o=i("fXoL"),r=i("QQG4"),n=i("rXYk"),c=i("3Pt+"),s=i("ofXK"),d=i("kmnG"),l=i("d3UM"),u=i("vFJ8"),m=i("bTqV"),f=i("NFeN"),p=i("UDmo"),h=i("RNjW"),b=i("YPZE"),v=i("qFsG"),g=i("FKr1");function w(e,t){if(1&e&&o.Ic(0,"app-tag-form-field",19),2&e){const e=o.Xc(2);o.dd("control",e.form.get(e.fields.emails.name))("label",e.fields.emails.label)("required",e.fields.emails.required)}}function y(e,t){if(1&e&&(o.Nc(0,"mat-form-field",5),o.Nc(1,"mat-label"),o.xd(2),o.Mc(),o.Ic(3,"input",20),o.Nc(4,"mat-error"),o.Ic(5,"app-validations",8),o.Mc(),o.Mc()),2&e){const e=o.Xc(2);o.wc(2),o.yd(e.fields.email.label),o.wc(1),o.dd("formControlName",e.fields.email.name)("required",e.fields.email.required),o.wc(2),o.dd("control",e.form.get(e.fields.email.name))("label",e.fields.email.label)}}function N(e,t){if(1&e&&(o.Nc(0,"mat-option",21),o.xd(1),o.Mc()),2&e){const e=t.$implicit;o.dd("value",e.value),o.wc(1),o.zd("",e.label," ")}}function S(e,t){if(1&e){const e=o.Oc();o.Nc(0,"form",1,2),o.Tc("ngSubmit",(function(){return o.nd(e),o.Xc().doSave()})),o.wd(2,w,1,3,"app-tag-form-field",3),o.wd(3,y,6,5,"mat-form-field",4),o.Nc(4,"mat-form-field",5),o.Nc(5,"mat-label"),o.xd(6),o.Mc(),o.Nc(7,"mat-select",6),o.wd(8,N,2,2,"mat-option",7),o.Mc(),o.Nc(9,"mat-error"),o.Ic(10,"app-validations",8),o.Mc(),o.Mc(),o.Nc(11,"div",9),o.Nc(12,"button",10),o.Ic(13,"mat-icon",11),o.xd(14,"\xa0 "),o.Ic(15,"app-i18n",12),o.Mc(),o.Nc(16,"button",13),o.Tc("click",(function(){return o.nd(e),o.Xc().doReset()})),o.Ic(17,"mat-icon",14),o.xd(18,"\xa0 "),o.Ic(19,"app-i18n",15),o.Mc(),o.Nc(20,"button",16),o.Tc("click",(function(){return o.nd(e),o.Xc().cancel.emit()})),o.Ic(21,"mat-icon",17),o.xd(22,"\xa0 "),o.Ic(23,"app-i18n",18),o.Mc(),o.Mc(),o.Mc()}if(2&e){const e=o.Xc();o.dd("formGroup",e.form),o.wc(2),o.dd("ngIf",!e.modal),o.wc(1),o.dd("ngIf",e.modal),o.wc(3),o.yd(e.fields.rolesRequired.label),o.wc(1),o.dd("formControlName",e.fields.rolesRequired.name)("required",e.fields.rolesRequired.required),o.wc(1),o.dd("ngForOf",e.fields.rolesRequired.options),o.wc(2),o.dd("control",e.form.get(e.fields.rolesRequired.name))("label",e.fields.rolesRequired.label),o.wc(1),o.zc("form-buttons-modal",e.modal),o.wc(1),o.dd("disabled",e.saveLoading),o.wc(4),o.dd("disabled",e.saveLoading),o.wc(4),o.dd("disabled",e.saveLoading)}}let M=(()=>{class e{constructor(e){this.formBuilder=e,this.save=new o.v,this.cancel=new o.v,this.modal=!1}ngOnInit(){return Object(a.a)(this,void 0,void 0,(function*(){this.buildSchema(),this.buildForm()}))}get fields(){return r.a.fields}doSave(){if(!this.form.valid)return;const e=this.schema.cast(this.form.value);e.email&&(e.emails=[e.email],delete e.email),this.save.emit({values:e})}doReset(){this.buildForm()}buildForm(){this.form=this.schema.buildForm()}buildSchema(){this.schema=new n.a([this.modal?this.fields.email:this.fields.emails,this.fields.rolesRequired],this.formBuilder)}}return e.\u0275fac=function(t){return new(t||e)(o.Hc(c.d))},e.\u0275cmp=o.Bc({type:e,selectors:[["app-user-new-form"]],inputs:{isEditing:"isEditing",record:"record",saveLoading:"saveLoading",modal:"modal"},outputs:{save:"save",cancel:"cancel"},decls:1,vars:1,consts:[["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],["ngForm","ngForm"],["appAutofocus","",3,"control","label","required",4,"ngIf"],["floatLabel","always","appearance","outline",4,"ngIf"],["floatLabel","always","appearance","outline"],["multiple","",3,"formControlName","required"],[3,"value",4,"ngFor","ngForOf"],[3,"control","label"],[1,"form-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["inline","","fontSet","far","fontIcon","fa-save"],["key","common.save"],["mat-flat-button","","color","accent","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-undo"],["key","common.reset"],["mat-flat-button","","color","warn","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-times"],["key","common.cancel"],["appAutofocus","",3,"control","label","required"],["matInput","","appAutofocus","",3,"formControlName","required"],[3,"value"]],template:function(e,t){1&e&&o.wd(0,S,24,14,"form",0),2&e&&o.dd("ngIf",t.form)},directives:[s.k,c.s,c.n,c.h,d.c,d.f,l.a,c.m,c.g,c.q,s.j,d.b,u.a,m.b,f.a,p.a,h.a,b.a,v.b,c.c,g.o],encapsulation:2}),e})()}}]);