(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{QQG4:function(t,e,a){"use strict";a.d(e,"a",(function(){return N}));var i=a("9Lsv"),r=a("3WK+"),n=a("gfiE"),o=a("Yo9n"),c=a("3arV"),s=a("s1L9"),l=a("PaKb"),d=a("u9O/"),u=a("UGp+"),m=a("+dX3"),f=a("VXJn"),p=a("Vbab"),h=a("dCvk"),g=a("nV0w");class b extends l.a{constructor(t,e,a){super(t,e,a),this.options=f.a.selectOptions}forExport(){return u.c().label(this.label).transform(t=>t?t.map(t=>f.a.labelOf(t)).join(" "):null)}}function w(t){return Object(p.d)("user.fields."+t)}const v={id:new r.a("id",w("id")),firstName:new i.a("firstName",w("firstName"),{max:80}),lastName:new i.a("lastName",w("lastName"),{max:175}),password:new i.a("password",w("password"),{required:!0}),oldPassword:new i.a("oldPassword",w("oldPassword"),{required:!0}),newPassword:new i.a("newPassword",w("newPassword"),{required:!0}),newPasswordConfirmation:new i.a("newPasswordConfirmation",w("newPasswordConfirmation"),{required:!0}),fullName:new i.a("fullName",w("fullName")),email:new i.a("email",w("email"),{required:!0,max:255}),role:new m.a("role",w("role"),f.a.selectOptions),rememberMe:new s.a("rememberMe",w("rememberMe")),phoneNumber:new i.a("phoneNumber",w("phoneNumber"),{matches:/^[0-9]/,max:24}),avatars:new c.a("avatars",w("avatars"),g.a.values.userAvatarsProfiles,{max:1}),emails:new class extends l.a{forFormRules(){let t=u.a().label(this.label).of(u.f().email(Object(p.d)("user.validations.email")).label(Object(p.d)("user.fields.email")).max(255).required());return this.required&&(t=t.required()),[{validator:(e,a,i)=>{try{t.validateSync(a),i()}catch(r){i(r)}}}]}}("emails",w("emails"),{required:!0}),roles:new b("roles",w("roles"),{}),rolesRequired:new b("roles",w("roles"),{required:!0}),status:new m.a("status",w("status"),[{id:"active",label:Object(p.d)("user.status.active")},{id:"invited",label:Object(p.d)("user.status.invited")},{id:"empty-permissions",label:Object(p.d)("user.status.empty-permissions")},{id:"inactive",label:Object(p.d)("user.status.inactive")}]),createdAt:new n.a("createdAt",w("createdAt")),updatedAt:new n.a("updatedAt",w("updatedAt")),createdAtRange:new o.a("createdAtRange",w("createdAtRange")),roleUser:new d.a("roleUser",w("roleUser"))};class N extends h.a{static get fields(){return v}}},YPZE:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var i=a("fXoL");let r=(()=>{class t{constructor(t){this.elementRef=t,this.shouldFocusElement="",this.timer=null,this.timerDelay=10}ngAfterContentInit(){""===this.shouldFocusElement&&this.startFocusWorkflow()}ngOnChanges(t){t.timerDelay&&"number"!=typeof this.timerDelay&&isNaN(this.timerDelay=+this.timerDelay)&&(this.timerDelay=10),t.shouldFocusElement&&(this.shouldFocusElement?this.startFocusWorkflow():this.stopFocusWorkflow())}ngOnDestroy(){this.stopFocusWorkflow()}startFocusWorkflow(){this.timer||(this.timer=setTimeout(()=>{this.timer=null,this.elementRef.nativeElement.focus()},this.timerDelay))}stopFocusWorkflow(){clearTimeout(this.timer),this.timer=null}}return t.\u0275fac=function(e){return new(e||t)(i.Hc(i.s))},t.\u0275dir=i.Cc({type:t,selectors:[["","autofocus",""],["","appAutofocus",""]],inputs:{shouldFocusElement:["appAutofocus","shouldFocusElement"],timerDelay:["autofocusDelay","timerDelay"]},features:[i.uc]}),t})()},Yj9t:function(t,e,a){"use strict";a.r(e),a.d(e,"AuthModule",(function(){return Et}));var i=a("PCNd"),r=a("tyNb"),n=a("mrSG"),o=a("qXBG"),c=a("QQG4"),s=a("rXYk"),l=a("fXoL"),d=a("3Pt+"),u=a("ofXK"),m=a("kmnG"),f=a("qFsG"),p=a("YPZE"),h=a("vFJ8"),g=a("bSwM"),b=a("bTqV"),w=a("UDmo"),v=a("Vbab"),N=a("4SZC");function I(t,e){if(1&t){const t=l.Oc();l.Nc(0,"img",2),l.Tc("click",(function(){l.nd(t);const a=e.$implicit;return l.Xc().doChangeLanguage(a.id)})),l.Mc()}if(2&t){const t=e.$implicit;l.dd("alt",t.label)("title",t.label)("src",t.flag,l.pd)}}let M=(()=>{class t{constructor(){}ngOnInit(){this.languages=Object(v.c)()}doChangeLanguage(t){N.a.doChangeLanguage(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Bc({type:t,selectors:[["app-i18n-flags"]],decls:2,vars:1,consts:[[1,"i18n-flags"],[3,"alt","title","src","click",4,"ngFor","ngForOf"],[3,"alt","title","src","click"]],template:function(t,e){1&t&&(l.Nc(0,"div",0),l.wd(1,I,1,3,"img",1),l.Mc()),2&t&&(l.wc(1),l.dd("ngForOf",e.languages))},directives:[u.j],styles:[".i18n-flags[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;margin-top:24px}.i18n-flags[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:8px;cursor:pointer}"]}),t})();function y(t,e){if(1&t&&l.Ic(0,"img",22),2&t){const t=l.Xc();l.dd("src",t.logoUrl,l.pd)}}function S(t,e){1&t&&(l.Nc(0,"h1"),l.Ic(1,"app-i18n",23),l.Mc())}function k(t,e){if(1&t&&(l.Nc(0,"span"),l.xd(1),l.Mc()),2&t){const t=l.Xc();l.wc(1),l.zd(" ",t.errorMessage," ")}}let U=(()=>{class t{constructor(t,e){this.formBuilder=t,this.authService=e}ngOnInit(){this.authService.doClearErrorMessage(),this.buildSchema(),this.form=this.schema.buildForm({rememberMe:!0})}get backgroundImageUrl(){return this.authService.backgroundImageUrl||"/assets/images/signin.jpg"}get logoUrl(){return this.authService.logoUrl}get fields(){return c.a.fields}get loading(){return this.authService.loading}get errorStateMatcher(){return{isErrorState:(t,e)=>Boolean(this.errorMessage||t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}get errorMessage(){return this.authService.errorMessage}signin(){return Object(n.a)(this,void 0,void 0,(function*(){if(!this.form.valid)return;const{email:t,password:e,rememberMe:a}=this.form.value;yield this.authService.doSigninWithEmailAndPassword(t,e,a)}))}buildSchema(){this.schema=new s.a([this.fields.email,this.fields.password,this.fields.rememberMe],this.formBuilder)}}return t.\u0275fac=function(e){return new(e||t)(l.Hc(d.d),l.Hc(o.a))},t.\u0275cmp=l.Bc({type:t,selectors:[["app-signin"]],decls:33,vars:17,consts:[[1,"auth"],[1,"wrapper"],[1,"content"],[1,"logo"],["width","240px","alt","",3,"src",4,"ngIf"],[4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],["floatLabel","always","appearance","outline",1,"w-100"],["matInput","","type","text","autocomplete","email","appAutofocus","",3,"formControlName","errorStateMatcher"],[3,"control","label"],["matInput","","type","password","autocomplete","current-password",3,"formControlName"],["label","Password",3,"control"],[1,"form-field","w-100",2,"display","flex","align-items","baseline","justify-content","space-between"],["color","primary",3,"formControlName"],["mat-button","","color","primary","routerLink","/auth/forgot-password"],["key","auth.forgotPassword"],[1,"form-buttons"],["mat-raised-button","","type","submit","color","primary",1,"w-100",3,"disabled"],["key","auth.signin"],[1,"other-actions"],["mat-button","","color","primary","routerLink","/auth/signup"],["key","auth.createAnAccount"],["width","240px","alt","",3,"src"],["key","app.title"]],template:function(t,e){1&t&&(l.Nc(0,"div",0),l.Nc(1,"div",1),l.Nc(2,"div",2),l.Nc(3,"div",3),l.wd(4,y,1,1,"img",4),l.wd(5,S,2,0,"h1",5),l.Mc(),l.Nc(6,"form",6),l.Tc("ngSubmit",(function(){return e.signin()})),l.Nc(7,"mat-form-field",7),l.Nc(8,"mat-label"),l.xd(9),l.Mc(),l.Ic(10,"input",8),l.Nc(11,"mat-error"),l.Ic(12,"app-validations",9),l.wd(13,k,2,1,"span",5),l.Mc(),l.Mc(),l.Nc(14,"mat-form-field",7),l.Nc(15,"mat-label"),l.xd(16),l.Mc(),l.Ic(17,"input",10),l.Nc(18,"mat-error"),l.Ic(19,"app-validations",11),l.Mc(),l.Mc(),l.Nc(20,"div"),l.Nc(21,"div",12),l.Nc(22,"mat-checkbox",13),l.xd(23),l.Mc(),l.Nc(24,"a",14),l.Ic(25,"app-i18n",15),l.Mc(),l.Mc(),l.Mc(),l.Nc(26,"div",16),l.Nc(27,"button",17),l.Ic(28,"app-i18n",18),l.Mc(),l.Mc(),l.Nc(29,"div",19),l.Nc(30,"a",20),l.Ic(31,"app-i18n",21),l.Mc(),l.Mc(),l.Ic(32,"app-i18n-flags"),l.Mc(),l.Mc(),l.Mc(),l.Mc()),2&t&&(l.wc(1),l.td("background-image","url("+e.backgroundImageUrl+")"),l.wc(3),l.dd("ngIf",e.logoUrl),l.wc(1),l.dd("ngIf",!e.logoUrl),l.wc(1),l.dd("formGroup",e.form),l.wc(3),l.yd(e.fields.email.label),l.wc(1),l.dd("formControlName",e.fields.email.name)("errorStateMatcher",e.errorStateMatcher),l.wc(2),l.dd("control",e.form.get(e.fields.email.name))("label",e.fields.email.label),l.wc(1),l.dd("ngIf",e.errorMessage),l.wc(3),l.yd(e.fields.password.label),l.wc(1),l.dd("formControlName",e.fields.password.name),l.wc(2),l.dd("control",e.form.get(e.fields.password.name)),l.wc(3),l.dd("formControlName",e.fields.rememberMe.name),l.wc(1),l.zd("",e.fields.rememberMe.label," "),l.wc(4),l.dd("disabled",e.loading))},directives:[u.k,d.s,d.n,d.h,m.c,m.f,f.b,d.c,p.a,d.m,d.g,m.b,h.a,g.a,b.a,r.e,w.a,b.b,M],encapsulation:2}),t})(),x=(()=>{class t{constructor(t,e){this.auth=t,this.router=e}canActivate(t,e){return Object(n.a)(this,void 0,void 0,(function*(){return yield this.auth.initialized,!this.auth.isSignedIn||(this.router.navigate([""]),!1)}))}}return t.\u0275fac=function(e){return new(e||t)(l.Rc(o.a),l.Rc(r.b))},t.\u0275prov=l.Dc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function C(t,e){if(1&t&&l.Ic(0,"img",17),2&t){const t=l.Xc();l.dd("src",t.logoUrl,l.pd)}}function O(t,e){1&t&&(l.Nc(0,"h1"),l.Ic(1,"app-i18n",18),l.Mc())}function P(t,e){if(1&t&&(l.Nc(0,"span"),l.xd(1),l.Mc()),2&t){const t=l.Xc();l.wc(1),l.zd(" ",t.errorMessage," ")}}let F=(()=>{class t{constructor(t,e,a){this.formBuilder=t,this.route=e,this.authService=a}ngOnInit(){this.authService.doClearErrorMessage(),this.buildSchema(),this.form=this.schema.buildForm({email:this.emailFromInvitation?{value:this.emailFromInvitation,disabled:!0}:void 0})}get backgroundImageUrl(){return this.authService.backgroundImageUrl||"/assets/images/signup.jpg"}get logoUrl(){return this.authService.logoUrl}get fields(){return c.a.fields}get emailFromInvitation(){return this.route.snapshot.queryParamMap.get("email")}get loading(){return this.authService.loading}get errorStateMatcher(){return{isErrorState:(t,e)=>Boolean(this.errorMessage||t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}get errorMessage(){return this.authService.errorMessage}signup(){return Object(n.a)(this,void 0,void 0,(function*(){if(!this.form.valid)return;let{email:t,password:e}=this.form.value;t=t||this.emailFromInvitation,yield this.authService.doRegisterEmailAndPassword(t,e)}))}buildSchema(){this.schema=new s.a([this.fields.email,this.fields.password],this.formBuilder)}}return t.\u0275fac=function(e){return new(e||t)(l.Hc(d.d),l.Hc(r.a),l.Hc(o.a))},t.\u0275cmp=l.Bc({type:t,selectors:[["app-signup"]],decls:26,vars:16,consts:[[1,"auth"],[1,"wrapper"],[1,"content"],[1,"logo"],["width","240px","alt","",3,"src",4,"ngIf"],[4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],["floatLabel","always","appearance","outline",1,"w-100"],["matInput","","type","text","autocomplete","email","appAutofocus","",3,"formControlName","errorStateMatcher"],[3,"control","label"],["matInput","","type","password","autocomplete","current-password",3,"formControlName"],[1,"form-buttons"],["mat-raised-button","","type","submit","color","primary",1,"w-100",3,"disabled"],["key","auth.signup"],[1,"other-actions"],["mat-button","","color","primary","routerLink","/auth/signin"],["key","auth.alreadyHaveAnAccount"],["width","240px","alt","",3,"src"],["key","app.title"]],template:function(t,e){1&t&&(l.Nc(0,"div",0),l.Nc(1,"div",1),l.Nc(2,"div",2),l.Nc(3,"div",3),l.wd(4,C,1,1,"img",4),l.wd(5,O,2,0,"h1",5),l.Mc(),l.Nc(6,"form",6),l.Tc("ngSubmit",(function(){return e.signup()})),l.Nc(7,"mat-form-field",7),l.Nc(8,"mat-label"),l.xd(9),l.Mc(),l.Ic(10,"input",8),l.Nc(11,"mat-error"),l.Ic(12,"app-validations",9),l.wd(13,P,2,1,"span",5),l.Mc(),l.Mc(),l.Nc(14,"mat-form-field",7),l.Nc(15,"mat-label"),l.xd(16),l.Mc(),l.Ic(17,"input",10),l.Nc(18,"mat-error"),l.Ic(19,"app-validations",9),l.Mc(),l.Mc(),l.Nc(20,"div",11),l.Nc(21,"button",12),l.Ic(22,"app-i18n",13),l.Mc(),l.Mc(),l.Nc(23,"div",14),l.Nc(24,"a",15),l.Ic(25,"app-i18n",16),l.Mc(),l.Mc(),l.Mc(),l.Mc(),l.Mc(),l.Mc()),2&t&&(l.wc(1),l.td("background-image","url("+e.backgroundImageUrl+")"),l.wc(3),l.dd("ngIf",e.logoUrl),l.wc(1),l.dd("ngIf",!e.logoUrl),l.wc(1),l.dd("formGroup",e.form),l.wc(3),l.yd(e.fields.email.label),l.wc(1),l.dd("formControlName",e.fields.email.name)("errorStateMatcher",e.errorStateMatcher),l.wc(2),l.dd("control",e.form.get(e.fields.email.name))("label",e.fields.email.label),l.wc(1),l.dd("ngIf",e.errorMessage),l.wc(3),l.yd(e.fields.password.label),l.wc(1),l.dd("formControlName",e.fields.password.name),l.wc(2),l.dd("control",e.form.get(e.fields.password.name))("label",e.fields.password.label),l.wc(2),l.dd("disabled",e.loading))},directives:[u.k,d.s,d.n,d.h,m.c,m.f,f.b,d.c,p.a,d.m,d.g,m.b,h.a,b.b,w.a,b.a,r.e],encapsulation:2}),t})();function T(t,e){if(1&t&&l.Ic(0,"img",16),2&t){const t=l.Xc();l.dd("src",t.logoUrl,l.pd)}}function A(t,e){1&t&&(l.Nc(0,"h1"),l.Ic(1,"app-i18n",17),l.Mc())}let j=(()=>{class t{constructor(t,e){this.formBuilder=t,this.authService=e}ngOnInit(){this.buildSchema(),this.form=this.schema.buildForm()}get backgroundImageUrl(){return this.authService.backgroundImageUrl||"/assets/images/forgotPassword.jpg"}get logoUrl(){return this.authService.logoUrl}get fields(){return c.a.fields}get loading(){return this.authService.loadingPasswordResetEmail}submit(){return Object(n.a)(this,void 0,void 0,(function*(){if(!this.form.valid)return;let{email:t}=this.form.value;yield this.authService.doSendPasswordResetEmail(t)}))}buildSchema(){this.schema=new s.a([this.fields.email],this.formBuilder)}}return t.\u0275fac=function(e){return new(e||t)(l.Hc(d.d),l.Hc(o.a))},t.\u0275cmp=l.Bc({type:t,selectors:[["app-forgot-password"]],decls:19,vars:10,consts:[[1,"auth"],[1,"wrapper"],[1,"content"],[1,"logo"],["width","240px","alt","",3,"src",4,"ngIf"],[4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],["floatLabel","always","appearance","outline",1,"w-100"],["matInput","","type","text","autocomplete","email","appAutofocus","",3,"formControlName"],[3,"control","label"],[1,"form-buttons"],["mat-raised-button","","type","submit","color","primary",1,"w-100",3,"disabled"],["key","auth.passwordResetEmail.message"],[1,"other-actions"],["mat-button","","color","primary","routerLink","/auth/signin"],["key","common.cancel"],["width","240px","alt","",3,"src"],["key","app.title"]],template:function(t,e){1&t&&(l.Nc(0,"div",0),l.Nc(1,"div",1),l.Nc(2,"div",2),l.Nc(3,"div",3),l.wd(4,T,1,1,"img",4),l.wd(5,A,2,0,"h1",5),l.Mc(),l.Nc(6,"form",6),l.Tc("ngSubmit",(function(){return e.submit()})),l.Nc(7,"mat-form-field",7),l.Nc(8,"mat-label"),l.xd(9),l.Mc(),l.Ic(10,"input",8),l.Nc(11,"mat-error"),l.Ic(12,"app-validations",9),l.Mc(),l.Mc(),l.Nc(13,"div",10),l.Nc(14,"button",11),l.Ic(15,"app-i18n",12),l.Mc(),l.Mc(),l.Nc(16,"div",13),l.Nc(17,"a",14),l.Ic(18,"app-i18n",15),l.Mc(),l.Mc(),l.Mc(),l.Mc(),l.Mc(),l.Mc()),2&t&&(l.wc(1),l.td("background-image","url("+e.backgroundImageUrl+")"),l.wc(3),l.dd("ngIf",e.logoUrl),l.wc(1),l.dd("ngIf",!e.logoUrl),l.wc(1),l.dd("formGroup",e.form),l.wc(3),l.yd(e.fields.email.label),l.wc(1),l.dd("formControlName",e.fields.email.name),l.wc(2),l.dd("control",e.form.get(e.fields.email.name))("label",e.fields.email.label),l.wc(2),l.dd("disabled",e.loading))},directives:[u.k,d.s,d.n,d.h,m.c,m.f,f.b,d.c,p.a,d.m,d.g,m.b,h.a,b.b,w.a,b.a,r.e],encapsulation:2}),t})();var L=a("AKtp"),E=a("YHaZ"),q=a("fmGZ"),B=a("AytR");function H(t,e){if(1&t&&(l.Nc(0,"mat-form-field",1),l.Nc(1,"mat-label"),l.xd(2),l.Mc(),l.Ic(3,"input",9),l.Nc(4,"span",10),l.xd(5),l.Mc(),l.Nc(6,"mat-error"),l.Ic(7,"app-validations",3),l.Mc(),l.Mc()),2&t){const t=l.Xc();l.wc(2),l.yd(t.fields.tenantUrl.label),l.wc(1),l.dd("formControlName",t.fields.tenantUrl.name),l.wc(2),l.yd(t.frontendUrlHost),l.wc(2),l.dd("control",t.form.get(t.fields.tenantUrl.name))("label",t.fields.tenantUrl.label)}}function X(t,e){if(1&t){const t=l.Oc();l.Nc(0,"button",11),l.Tc("click",(function(){return l.nd(t),l.Xc().viewToggle.emit()})),l.Ic(1,"app-i18n",12),l.Mc()}if(2&t){const t=l.Xc();l.dd("disabled",t.loading)}}let R=(()=>{class t{constructor(t,e,a,i){this.formBuilder=t,this.route=e,this.authService=a,this.tenantFormService=i,this.viewToggle=new l.v}ngOnInit(){this.buildSchema(),this.form=this.schema.buildForm(),this.form.get(this.fields.tenantName.name).valueChanges.subscribe(t=>{this.form.get(this.fields.tenantUrl.name).setValue(t.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-"))})}get fields(){return L.a.fields}get loading(){return this.tenantFormService.saveLoading}get invitedTenants(){return this.authService.invitedTenants}get frontendUrlHost(){return"."+B.a.frontendUrl.host}get tenantSubdomain(){return q.a}doSubmit(){return Object(n.a)(this,void 0,void 0,(function*(){this.form.valid&&(yield this.tenantFormService.doCreate(this.form.value))}))}buildSchema(){this.schema=new s.a([this.fields.tenantName,q.a.isEnabled&&this.fields.tenantUrl].filter(Boolean),this.formBuilder)}}return t.\u0275fac=function(e){return new(e||t)(l.Hc(d.d),l.Hc(r.a),l.Hc(o.a),l.Hc(E.a))},t.\u0275cmp=l.Bc({type:t,selectors:[["app-tenant-new-form"]],outputs:{viewToggle:"viewToggle"},decls:12,vars:8,consts:[[1,"form",3,"formGroup","ngSubmit"],["floatLabel","always","appearance","outline",1,"w-100"],["matInput","","type","text","appAutofocus","",3,"formControlName"],[3,"control","label"],["floatLabel","always","appearance","outline","class","w-100",4,"ngIf"],[1,"form-buttons"],["mat-raised-button","","type","submit","color","primary",1,"w-100",3,"disabled"],["key","tenant.create.button"],["mat-raised-button","","class","w-100","type","button",3,"disabled","click",4,"ngIf"],["matInput","","type","text",3,"formControlName"],["matSuffix",""],["mat-raised-button","","type","button",1,"w-100",3,"disabled","click"],["key","tenant.invitation.view"]],template:function(t,e){1&t&&(l.Nc(0,"form",0),l.Tc("ngSubmit",(function(){return e.doSubmit()})),l.Nc(1,"mat-form-field",1),l.Nc(2,"mat-label"),l.xd(3),l.Mc(),l.Ic(4,"input",2),l.Nc(5,"mat-error"),l.Ic(6,"app-validations",3),l.Mc(),l.Mc(),l.wd(7,H,8,5,"mat-form-field",4),l.Nc(8,"div",5),l.Nc(9,"button",6),l.Ic(10,"app-i18n",7),l.Mc(),l.wd(11,X,2,1,"button",8),l.Mc(),l.Mc()),2&t&&(l.dd("formGroup",e.form),l.wc(3),l.yd(e.fields.tenantName.label),l.wc(1),l.dd("formControlName",e.fields.tenantName.name),l.wc(2),l.dd("control",e.form.get(e.fields.tenantName.name))("label",e.fields.tenantName.label),l.wc(1),l.dd("ngIf",e.tenantSubdomain.isEnabled),l.wc(2),l.dd("disabled",e.loading),l.wc(2),l.dd("ngIf",e.invitedTenants.length))},directives:[d.s,d.n,d.h,m.c,m.f,f.b,d.c,p.a,d.m,d.g,m.b,h.a,u.k,b.b,w.a,m.h],encapsulation:2}),t})();var G=a("ER6R"),D=a("d3UM"),W=a("FKr1");function V(t,e){if(1&t&&(l.Nc(0,"mat-option",10),l.xd(1),l.Mc()),2&t){const t=e.$implicit;l.dd("value",t.id),l.wc(1),l.zd(" ",t.name," ")}}let z=(()=>{class t{constructor(t,e,a,i){this.formBuilder=t,this.route=e,this.authService=a,this.tenantInvitationService=i,this.viewToggle=new l.v}ngOnInit(){this.buildSchema(),this.form=this.schema.buildForm({[this.fields.tenantId.name]:this.invitedTenants[0].id})}get fields(){return L.a.fields}get loading(){return this.tenantInvitationService.loading}get invitedTenants(){return this.authService.invitedTenants}doSubmit(){return Object(n.a)(this,void 0,void 0,(function*(){if(!this.form.valid)return;const t=this.authService.currentUser.tenants.find(t=>t.tenant.id===this.form.value.id);yield this.tenantInvitationService.doAccept(t.invitationToken)}))}buildSchema(){this.schema=new s.a([this.fields.tenantId],this.formBuilder)}}return t.\u0275fac=function(e){return new(e||t)(l.Hc(d.d),l.Hc(r.a),l.Hc(o.a),l.Hc(G.a))},t.\u0275cmp=l.Bc({type:t,selectors:[["app-tenant-select-form"]],outputs:{viewToggle:"viewToggle"},decls:13,vars:8,consts:[[1,"form",3,"formGroup","ngSubmit"],["floatLabel","always","appearance","outline",1,"w-100"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"control","label"],[1,"form-buttons"],["mat-raised-button","","type","submit","color","primary",1,"w-100",3,"disabled"],["key","tenant.invitation.accept"],["mat-raised-button","","type","button",1,"w-100",3,"disabled","click"],["key","tenant.new.title"],[3,"value"]],template:function(t,e){1&t&&(l.Nc(0,"form",0),l.Tc("ngSubmit",(function(){return e.doSubmit()})),l.Nc(1,"mat-form-field",1),l.Nc(2,"mat-label"),l.xd(3),l.Mc(),l.Nc(4,"mat-select",2),l.wd(5,V,2,2,"mat-option",3),l.Mc(),l.Nc(6,"mat-error"),l.Ic(7,"app-validations",4),l.Mc(),l.Mc(),l.Nc(8,"div",5),l.Nc(9,"button",6),l.Ic(10,"app-i18n",7),l.Mc(),l.Nc(11,"button",8),l.Tc("click",(function(){return e.viewToggle.emit()})),l.Ic(12,"app-i18n",9),l.Mc(),l.Mc(),l.Mc()),2&t&&(l.dd("formGroup",e.form),l.wc(3),l.yd(e.fields.tenantId.label),l.wc(1),l.dd("formControlName",e.fields.tenantId.name),l.wc(1),l.dd("ngForOf",e.invitedTenants),l.wc(2),l.dd("control",e.form.get(e.fields.tenantId.name))("label",e.fields.tenantId.label),l.wc(2),l.dd("disabled",e.loading),l.wc(2),l.dd("disabled",e.loading))},directives:[d.s,d.n,d.h,m.c,m.f,D.a,d.m,d.g,u.j,m.b,h.a,b.b,w.a,W.o],encapsulation:2}),t})();function Y(t,e){if(1&t&&l.Ic(0,"img",10),2&t){const t=l.Xc();l.dd("src",t.logoUrl,l.pd)}}function J(t,e){1&t&&(l.Nc(0,"h1"),l.Ic(1,"app-i18n",11),l.Mc())}function K(t,e){if(1&t){const t=l.Oc();l.Nc(0,"app-tenant-new-form",12),l.Tc("viewToggle",(function(){return l.nd(t),l.Xc().doToggleView()})),l.Mc()}}function Q(t,e){if(1&t){const t=l.Oc();l.Nc(0,"app-tenant-select-form",12),l.Tc("viewToggle",(function(){return l.nd(t),l.Xc().doToggleView()})),l.Mc()}}let Z=(()=>{class t{constructor(t){this.authService=t,this.view="form"}ngOnInit(){this.authService.invitedTenants.length&&(this.view="select")}signout(){return Object(n.a)(this,void 0,void 0,(function*(){yield this.authService.doSignout()}))}get backgroundImageUrl(){return this.authService.backgroundImageUrl||"/assets/images/tenant.jpg"}get logoUrl(){return this.authService.logoUrl}doToggleView(){this.view="form"===this.view?"select":"form"}}return t.\u0275fac=function(e){return new(e||t)(l.Hc(o.a))},t.\u0275cmp=l.Bc({type:t,selectors:[["app-tenant"]],decls:11,vars:6,consts:[[1,"auth"],[1,"wrapper"],[1,"content"],[1,"logo"],["width","240px","alt","",3,"src",4,"ngIf"],[4,"ngIf"],[3,"viewToggle",4,"ngIf"],[1,"other-actions"],["mat-button","","color","primary",3,"click"],["key","auth.signout"],["width","240px","alt","",3,"src"],["key","app.title"],[3,"viewToggle"]],template:function(t,e){1&t&&(l.Nc(0,"div",0),l.Nc(1,"div",1),l.Nc(2,"div",2),l.Nc(3,"div",3),l.wd(4,Y,1,1,"img",4),l.wd(5,J,2,0,"h1",5),l.Mc(),l.wd(6,K,1,0,"app-tenant-new-form",6),l.wd(7,Q,1,0,"app-tenant-select-form",6),l.Nc(8,"div",7),l.Nc(9,"button",8),l.Tc("click",(function(){return e.signout()})),l.Ic(10,"app-i18n",9),l.Mc(),l.Mc(),l.Mc(),l.Mc(),l.Mc()),2&t&&(l.wc(1),l.td("background-image","url("+e.backgroundImageUrl+")"),l.wc(3),l.dd("ngIf",e.logoUrl),l.wc(1),l.dd("ngIf",!e.logoUrl),l.wc(1),l.dd("ngIf","form"===e.view),l.wc(1),l.dd("ngIf","select"===e.view))},directives:[u.k,b.b,w.a,R,z],encapsulation:2}),t})();function $(t,e){if(1&t&&l.Ic(0,"img",12),2&t){const t=l.Xc(2);l.dd("src",t.logoUrl,l.pd)}}function _(t,e){1&t&&(l.Nc(0,"h1"),l.Ic(1,"app-i18n",13),l.Mc())}function tt(t,e){if(1&t){const t=l.Oc();l.Nc(0,"div",3),l.Nc(1,"div",4),l.wd(2,$,1,1,"img",5),l.wd(3,_,2,0,"h1",6),l.Mc(),l.Nc(4,"h3",7),l.Ic(5,"app-i18n",8),l.Mc(),l.Nc(6,"div",9),l.Nc(7,"button",10),l.Tc("click",(function(){return l.nd(t),l.Xc().signout()})),l.Ic(8,"app-i18n",11),l.Mc(),l.Mc(),l.Mc()}if(2&t){const t=l.Xc();l.wc(2),l.dd("ngIf",t.logoUrl),l.wc(1),l.dd("ngIf",!t.logoUrl)}}function et(t,e){if(1&t&&l.Ic(0,"img",12),2&t){const t=l.Xc(2);l.dd("src",t.logoUrl,l.pd)}}function at(t,e){1&t&&(l.Nc(0,"h1"),l.Ic(1,"app-i18n",13),l.Mc())}function it(t,e){if(1&t){const t=l.Oc();l.Nc(0,"div",3),l.Nc(1,"div",4),l.wd(2,et,1,1,"img",5),l.wd(3,at,2,0,"h1",6),l.Mc(),l.Nc(4,"h3",7),l.Ic(5,"app-i18n",14),l.Mc(),l.Nc(6,"div",9),l.Nc(7,"button",10),l.Tc("click",(function(){return l.nd(t),l.Xc().signout()})),l.Ic(8,"app-i18n",11),l.Mc(),l.Mc(),l.Mc()}if(2&t){const t=l.Xc();l.wc(2),l.dd("ngIf",t.logoUrl),l.wc(1),l.dd("ngIf",!t.logoUrl)}}let rt=(()=>{class t{constructor(t){this.authService=t}get backgroundImageUrl(){return this.authService.backgroundImageUrl||"/assets/images/emptyPermissions.jpg"}get logoUrl(){return this.authService.logoUrl}get status(){return this.authService.currentUser.tenants[0].status}ngOnInit(){}signout(){return Object(n.a)(this,void 0,void 0,(function*(){yield this.authService.doSignout()}))}}return t.\u0275fac=function(e){return new(e||t)(l.Hc(o.a))},t.\u0275cmp=l.Bc({type:t,selectors:[["app-empty-permissions"]],decls:4,vars:4,consts:[[1,"auth"],[1,"wrapper"],["class","content",4,"ngIf"],[1,"content"],[1,"logo"],["width","240px","alt","",3,"src",4,"ngIf"],[4,"ngIf"],[2,"font-weight","normal"],["key","auth.emptyPermissions.message"],[1,"other-actions"],["mat-button","","color","primary",3,"click"],["key","auth.signout"],["width","240px","alt","",3,"src"],["key","app.title"],["key","auth.inactive.message"]],template:function(t,e){1&t&&(l.Nc(0,"div",0),l.Nc(1,"div",1),l.wd(2,tt,9,2,"div",2),l.wd(3,it,9,2,"div",2),l.Mc(),l.Mc()),2&t&&(l.wc(1),l.td("background-image","url("+e.backgroundImageUrl+")"),l.wc(1),l.dd("ngIf","empty-permissions"===e.status),l.wc(1),l.dd("ngIf","inactive"===e.status))},directives:[u.k,w.a,b.b],encapsulation:2}),t})();var nt=a("P+IX"),ot=a("j62l");let ct=(()=>{class t{constructor(t,e){this.auth=t,this.router=e}canActivate(t,e){return Object(n.a)(this,void 0,void 0,(function*(){yield this.auth.initialized;const t=new ot.a(this.auth.currentTenant,this.auth.currentUser);return t.isAuthenticated?!!t.isEmptyTenant||(this.router.navigate(["/"]),!1):(this.router.navigate(["/auth/signin"]),!1)}))}}return t.\u0275fac=function(e){return new(e||t)(l.Rc(o.a),l.Rc(r.b))},t.\u0275prov=l.Dc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),st=(()=>{class t{constructor(t,e){this.auth=t,this.router=e}canActivate(t,e){return Object(n.a)(this,void 0,void 0,(function*(){return yield this.auth.initialized,!this.auth.isSignedIn||!this.auth.roles.length||(this.router.navigate([""]),!1)}))}}return t.\u0275fac=function(e){return new(e||t)(l.Rc(o.a),l.Rc(r.b))},t.\u0275prov=l.Dc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),lt=(()=>{class t{constructor(t,e){this.auth=t,this.router=e}canActivate(t,e){return Object(n.a)(this,void 0,void 0,(function*(){return yield this.auth.initialized,!this.auth.isSignedIn||!this.auth.currentUser.emailVerified||(this.router.navigate([""]),!1)}))}}return t.\u0275fac=function(e){return new(e||t)(l.Rc(o.a),l.Rc(r.b))},t.\u0275prov=l.Dc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function dt(t,e){if(1&t&&l.Ic(0,"img",13),2&t){const t=l.Xc();l.dd("src",t.logoUrl,l.pd)}}function ut(t,e){1&t&&(l.Nc(0,"h1"),l.Ic(1,"app-i18n",14),l.Mc())}const mt=function(t){return[t]};let ft=(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}signout(){return Object(n.a)(this,void 0,void 0,(function*(){yield this.authService.doSignout()}))}get backgroundImageUrl(){return this.authService.backgroundImageUrl||"/assets/images/emailUnverified.jpg"}get logoUrl(){return this.authService.logoUrl}get loading(){return this.authService.loadingEmailConfirmation}get email(){return this.authService.currentUserEmail}sendEmailConfirmation(){return Object(n.a)(this,void 0,void 0,(function*(){yield this.authService.doSendEmailConfirmation()}))}}return t.\u0275fac=function(e){return new(e||t)(l.Hc(o.a))},t.\u0275cmp=l.Bc({type:t,selectors:[["app-email-unverified"]],decls:13,vars:8,consts:[[1,"auth"],[1,"wrapper"],[1,"content"],[1,"logo"],["width","240px","alt","",3,"src",4,"ngIf"],[4,"ngIf"],[2,"text-align","center","font-weight","normal"],["key","auth.emailUnverified.message",3,"args"],["mat-raised-button","","color","primary",1,"w-100",2,"margin-top","24px",3,"disabled","click"],["key","auth.emailUnverified.submit"],[1,"other-actions"],["mat-button","","color","primary",3,"click"],["key","auth.signinWithAnotherAccount"],["width","240px","alt","",3,"src"],["key","app.title"]],template:function(t,e){1&t&&(l.Nc(0,"div",0),l.Nc(1,"div",1),l.Nc(2,"div",2),l.Nc(3,"div",3),l.wd(4,dt,1,1,"img",4),l.wd(5,ut,2,0,"h1",5),l.Mc(),l.Nc(6,"h3",6),l.Ic(7,"app-i18n",7),l.Mc(),l.Nc(8,"button",8),l.Tc("click",(function(){return e.sendEmailConfirmation()})),l.Ic(9,"app-i18n",9),l.Mc(),l.Nc(10,"div",10),l.Nc(11,"button",11),l.Tc("click",(function(){return e.signout()})),l.Ic(12,"app-i18n",12),l.Mc(),l.Mc(),l.Mc(),l.Mc(),l.Mc()),2&t&&(l.wc(1),l.td("background-image","url("+e.backgroundImageUrl+")"),l.wc(3),l.dd("ngIf",e.logoUrl),l.wc(1),l.dd("ngIf",!e.logoUrl),l.wc(2),l.dd("args",l.gd(6,mt,e.email)),l.wc(1),l.dd("disabled",e.loading))},directives:[u.k,w.a,b.b],encapsulation:2}),t})();var pt=a("APW9"),ht=a("YPoJ"),gt=a("NFeN");const bt=function(){return["/"]};let wt=(()=>{class t{constructor(t,e){this.authService=t,this.formBuilder=e,this.breadcrumb=[[Object(v.d)("dashboard.menu")],[Object(v.d)("auth.profile.title")]]}ngOnInit(){return Object(n.a)(this,void 0,void 0,(function*(){this.buildSchema(),this.buildForm()}))}get fields(){return c.a.fields}get saveLoading(){return this.authService.loadingUpdateProfile}doSave(){if(!this.form.valid)return;const t=this.schema.cast(this.form.value);return this.authService.doUpdateProfile(t)}doReset(){this.buildForm()}buildForm(){this.form=this.schema.buildForm(this.authService.currentUser)}get currentUser(){return this.authService.currentUser}buildSchema(){this.schema=new s.a([this.fields.email,this.fields.firstName,this.fields.lastName,this.fields.phoneNumber,this.fields.avatars],this.formBuilder)}}return t.\u0275fac=function(e){return new(e||t)(l.Hc(o.a),l.Hc(d.d))},t.\u0275cmp=l.Bc({type:t,selectors:[["app-edit-profile"]],decls:41,vars:28,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","auth.profile.title"],[1,"form",3,"formGroup","ngSubmit"],["ngForm","ngForm"],[1,"row"],[1,"col-md-6"],["floatLabel","always","appearance","outline"],["matInput","",3,"formControlName","required"],[3,"control","label"],[3,"formControl","label","storage","required","max","submitted"],[1,"form-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["inline","","fontSet","far","fontIcon","fa-save"],["key","common.save"],["mat-flat-button","","color","accent","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-undo"],["key","common.reset"],["mat-flat-button","","color","warn","type","button",3,"disabled","routerLink"],["inline","","fontSet","fas","fontIcon","fa-times"],["key","common.cancel"]],template:function(t,e){if(1&t&&(l.Ic(0,"app-breadcrumb",0),l.Nc(1,"div",1),l.Nc(2,"h1",2),l.Ic(3,"app-i18n",3),l.Mc(),l.Nc(4,"form",4,5),l.Tc("ngSubmit",(function(){return e.doSave()})),l.Nc(6,"div",6),l.Nc(7,"div",7),l.Nc(8,"mat-form-field",8),l.Nc(9,"mat-label"),l.xd(10),l.Mc(),l.Ic(11,"input",9),l.Nc(12,"mat-error"),l.Ic(13,"app-validations",10),l.Mc(),l.Mc(),l.Nc(14,"mat-form-field",8),l.Nc(15,"mat-label"),l.xd(16),l.Mc(),l.Ic(17,"input",9),l.Nc(18,"mat-error"),l.Ic(19,"app-validations",10),l.Mc(),l.Mc(),l.Nc(20,"mat-form-field",8),l.Nc(21,"mat-label"),l.xd(22),l.Mc(),l.Ic(23,"input",9),l.Nc(24,"mat-error"),l.Ic(25,"app-validations",10),l.Mc(),l.Mc(),l.Mc(),l.Nc(26,"div",7),l.Ic(27,"app-image-form-field",11),l.Mc(),l.Mc(),l.Nc(28,"div",12),l.Nc(29,"button",13),l.Ic(30,"mat-icon",14),l.xd(31,"\xa0 "),l.Ic(32,"app-i18n",15),l.Mc(),l.Nc(33,"button",16),l.Tc("click",(function(){return e.doReset()})),l.Ic(34,"mat-icon",17),l.xd(35,"\xa0 "),l.Ic(36,"app-i18n",18),l.Mc(),l.Nc(37,"button",19),l.Ic(38,"mat-icon",20),l.xd(39,"\xa0 "),l.Ic(40,"app-i18n",21),l.Mc(),l.Mc(),l.Mc(),l.Mc()),2&t){const t=l.ld(5);l.dd("items",e.breadcrumb),l.wc(4),l.dd("formGroup",e.form),l.wc(6),l.yd(e.fields.firstName.label),l.wc(1),l.dd("formControlName",e.fields.firstName.name)("required",e.fields.firstName.required),l.wc(2),l.dd("control",e.form.get(e.fields.firstName.name))("label",e.fields.firstName.label),l.wc(3),l.yd(e.fields.lastName.label),l.wc(1),l.dd("formControlName",e.fields.lastName.name)("required",e.fields.lastName.required),l.wc(2),l.dd("control",e.form.get(e.fields.lastName.name))("label",e.fields.lastName.label),l.wc(3),l.yd(e.fields.phoneNumber.label),l.wc(1),l.dd("formControlName",e.fields.phoneNumber.name)("required",e.fields.phoneNumber.required),l.wc(2),l.dd("control",e.form.get(e.fields.phoneNumber.name))("label",e.fields.phoneNumber.label),l.wc(2),l.dd("formControl",e.form.get(e.fields.avatars.name))("label",e.fields.avatars.label)("storage",e.fields.avatars.storage)("required",e.fields.avatars.required)("max",e.fields.avatars.max)("submitted",t.submitted),l.wc(2),l.dd("disabled",e.saveLoading),l.wc(4),l.dd("disabled",e.saveLoading),l.wc(4),l.dd("disabled",e.saveLoading)("routerLink",l.fd(27,bt))}},directives:[pt.a,w.a,d.s,d.n,d.h,m.c,m.f,f.b,d.c,d.m,d.g,d.q,m.b,h.a,ht.a,d.f,b.b,gt.a,r.c],encapsulation:2}),t})();var vt=a("uswQ");function Nt(t,e){if(1&t&&l.Ic(0,"img",8),2&t){const t=l.Xc();l.dd("src",t.logoUrl,l.pd)}}function It(t,e){1&t&&(l.Nc(0,"h1"),l.Ic(1,"app-i18n",9),l.Mc())}let Mt=(()=>{class t{constructor(t,e){this.authService=t,this.route=e}ngOnInit(){return this.authService.doVerifyEmail(this.route.snapshot.queryParams.token)}get backgroundImageUrl(){return this.authService.backgroundImageUrl||"/assets/images/emailUnverified.jpg"}get logoUrl(){return this.authService.logoUrl}}return t.\u0275fac=function(e){return new(e||t)(l.Hc(o.a),l.Hc(r.a))},t.\u0275cmp=l.Bc({type:t,selectors:[["app-verify-email"]],decls:8,vars:4,consts:[[1,"auth"],[1,"wrapper"],[1,"content"],[1,"logo"],["width","240px","alt","",3,"src",4,"ngIf"],[4,"ngIf"],[2,"text-align","center","font-weight","normal"],["key","auth.verifyEmail.message"],["width","240px","alt","",3,"src"],["key","app.title"]],template:function(t,e){1&t&&(l.Nc(0,"div",0),l.Nc(1,"div",1),l.Nc(2,"div",2),l.Nc(3,"div",3),l.wd(4,Nt,1,1,"img",4),l.wd(5,It,2,0,"h1",5),l.Mc(),l.Nc(6,"h3",6),l.Ic(7,"app-i18n",7),l.Mc(),l.Mc(),l.Mc(),l.Mc()),2&t&&(l.wc(1),l.td("background-image","url("+e.backgroundImageUrl+")"),l.wc(3),l.dd("ngIf",e.logoUrl),l.wc(1),l.dd("ngIf",!e.logoUrl))},directives:[u.k,w.a],encapsulation:2}),t})();function yt(t,e){if(1&t&&l.Ic(0,"img",16),2&t){const t=l.Xc();l.dd("src",t.logoUrl,l.pd)}}function St(t,e){1&t&&(l.Nc(0,"h1"),l.Ic(1,"app-i18n",17),l.Mc())}let kt=(()=>{class t{constructor(t,e,a){this.formBuilder=t,this.route=e,this.authService=a}ngOnInit(){this.authService.doClearErrorMessage(),this.buildSchema(),this.form=this.schema.buildForm({})}get backgroundImageUrl(){return this.authService.backgroundImageUrl||"/assets/images/forgotPassword.jpg"}get logoUrl(){return this.authService.logoUrl}get fields(){return c.a.fields}get token(){return this.route.snapshot.queryParamMap.get("token")}get loading(){return this.authService.loadingPasswordReset}get errorStateMatcher(){return{isErrorState:(t,e)=>Boolean(this.errorMessage||t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}get errorMessage(){return this.authService.errorMessage}submit(){return Object(n.a)(this,void 0,void 0,(function*(){if(!this.form.valid)return;let{password:t}=this.form.value,e=this.token;yield this.authService.doResetPassword(e,t)}))}buildSchema(){this.schema=new s.a([this.fields.password],this.formBuilder)}}return t.\u0275fac=function(e){return new(e||t)(l.Hc(d.d),l.Hc(r.a),l.Hc(o.a))},t.\u0275cmp=l.Bc({type:t,selectors:[["app-password-reset"]],decls:19,vars:10,consts:[[1,"auth"],[1,"wrapper"],[1,"content"],[1,"logo"],["width","240px","alt","",3,"src",4,"ngIf"],[4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],["floatLabel","always","appearance","outline",1,"w-100"],["matInput","","type","password","autocomplete","current-password",3,"formControlName"],[3,"control","label"],[1,"form-buttons"],["mat-raised-button","","type","submit","color","primary",1,"w-100",3,"disabled"],["key","auth.passwordReset.message"],[1,"other-actions"],["mat-button","","color","primary","routerLink","/auth/signin"],["key","common.cancel"],["width","240px","alt","",3,"src"],["key","app.title"]],template:function(t,e){1&t&&(l.Nc(0,"div",0),l.Nc(1,"div",1),l.Nc(2,"div",2),l.Nc(3,"div",3),l.wd(4,yt,1,1,"img",4),l.wd(5,St,2,0,"h1",5),l.Mc(),l.Nc(6,"form",6),l.Tc("ngSubmit",(function(){return e.submit()})),l.Nc(7,"mat-form-field",7),l.Nc(8,"mat-label"),l.xd(9),l.Mc(),l.Ic(10,"input",8),l.Nc(11,"mat-error"),l.Ic(12,"app-validations",9),l.Mc(),l.Mc(),l.Nc(13,"div",10),l.Nc(14,"button",11),l.Ic(15,"app-i18n",12),l.Mc(),l.Mc(),l.Nc(16,"div",13),l.Nc(17,"a",14),l.Ic(18,"app-i18n",15),l.Mc(),l.Mc(),l.Mc(),l.Mc(),l.Mc(),l.Mc()),2&t&&(l.wc(1),l.td("background-image","url("+e.backgroundImageUrl+")"),l.wc(3),l.dd("ngIf",e.logoUrl),l.wc(1),l.dd("ngIf",!e.logoUrl),l.wc(1),l.dd("formGroup",e.form),l.wc(3),l.yd(e.fields.password.label),l.wc(1),l.dd("formControlName",e.fields.password.name),l.wc(2),l.dd("control",e.form.get(e.fields.password.name))("label",e.fields.password.label),l.wc(2),l.dd("disabled",e.loading))},directives:[u.k,d.s,d.n,d.h,m.c,m.f,f.b,d.c,d.m,d.g,m.b,h.a,b.b,w.a,b.a,r.e],encapsulation:2}),t})();var Ut=a("Xa2L");function xt(t,e){if(1&t&&l.Ic(0,"img",12),2&t){const t=l.Xc();l.dd("src",t.logoUrl,l.pd)}}function Ct(t,e){1&t&&(l.Nc(0,"h1"),l.Ic(1,"app-i18n",13),l.Mc())}function Ot(t,e){1&t&&(l.Nc(0,"div",14),l.Ic(1,"mat-spinner",15),l.Mc())}function Pt(t,e){if(1&t&&(l.Nc(0,"h3",16),l.xd(1),l.Mc()),2&t){const t=l.Xc();l.wc(1),l.zd(" ",t.warningMessage," ")}}function Ft(t,e){if(1&t){const t=l.Oc();l.Nc(0,"button",17),l.Tc("click",(function(){return l.nd(t),l.Xc().doAcceptWithWrongEmail()})),l.Ic(1,"app-i18n",18),l.Mc()}if(2&t){const t=l.Xc();l.dd("disabled",t.loading)}}const Tt=function(){return["/"]},At=[{path:"",children:[{path:"signin",component:U,canActivate:[x]},{path:"signup",component:F,canActivate:[x]},{path:"forgot-password",component:j,canActivate:[x]},{path:"tenant",component:Z,canActivate:[nt.a,ct]},{path:"empty-permissions",component:rt,canActivate:[nt.a,st]},{path:"email-unverified",component:ft,canActivate:[nt.a,lt]},{path:"verify-email",component:Mt},{path:"invitation",component:(()=>{class t{constructor(t,e,a){this.authService=t,this.invitationService=e,this.route=a}ngOnInit(){this.invitationService.doAcceptFromAuth(this.token)}get backgroundImageUrl(){return this.authService.backgroundImageUrl||"/assets/images/invitation.jpg"}get logoUrl(){return this.authService.logoUrl}get loading(){return this.invitationService.loading}get warningMessage(){return this.invitationService.warningMessage}doAcceptWithWrongEmail(){return this.invitationService.doAcceptFromAuth(this.token,!0)}get token(){return this.route.snapshot.queryParams.token}signout(){return Object(n.a)(this,void 0,void 0,(function*(){yield this.authService.doSignout()}))}}return t.\u0275fac=function(e){return new(e||t)(l.Hc(o.a),l.Hc(G.a),l.Hc(r.a))},t.\u0275cmp=l.Bc({type:t,selectors:[["app-invitation"]],decls:12,vars:7,consts:[[1,"auth"],[1,"wrapper"],[1,"content"],[1,"logo"],["width","240px","alt","",3,"src",4,"ngIf"],[4,"ngIf"],["class","app-page-spinner",4,"ngIf"],["style","font-weight: normal; text-align: center;",4,"ngIf"],["mat-raised-button","","style","margin-top: 16px;","class","w-100","color","primary",3,"disabled","click",4,"ngIf"],[1,"other-actions"],["mat-button","","color","primary",3,"click"],["key","auth.signout"],["width","240px","alt","",3,"src"],["key","app.title"],[1,"app-page-spinner"],["color","accent"],[2,"font-weight","normal","text-align","center"],["mat-raised-button","","color","primary",1,"w-100",2,"margin-top","16px",3,"disabled","click"],["key","tenant.invitation.acceptWrongEmail"]],template:function(t,e){1&t&&(l.Nc(0,"div",0),l.Nc(1,"div",1),l.Nc(2,"div",2),l.Nc(3,"div",3),l.wd(4,xt,1,1,"img",4),l.wd(5,Ct,2,0,"h1",5),l.Mc(),l.wd(6,Ot,2,0,"div",6),l.wd(7,Pt,2,1,"h3",7),l.wd(8,Ft,2,1,"button",8),l.Nc(9,"div",9),l.Nc(10,"button",10),l.Tc("click",(function(){return e.signout()})),l.Ic(11,"app-i18n",11),l.Mc(),l.Mc(),l.Mc(),l.Mc(),l.Mc()),2&t&&(l.wc(1),l.td("background-image","url("+e.backgroundImageUrl+")"),l.wc(3),l.dd("ngIf",e.logoUrl),l.wc(1),l.dd("ngIf",!e.logoUrl),l.wc(1),l.dd("ngIf",e.loading),l.wc(1),l.dd("ngIf",e.warningMessage),l.wc(1),l.dd("ngIf",e.warningMessage))},directives:[u.k,b.b,w.a,Ut.b],encapsulation:2}),t})()},{path:"password-reset",component:kt},{path:"profile",component:vt.a,canActivate:[nt.a],children:[{path:"",component:wt,canActivate:[nt.a]}]},{path:"password-change",component:vt.a,canActivate:[nt.a],children:[{path:"",component:(()=>{class t{constructor(t,e){this.authService=t,this.formBuilder=e,this.breadcrumb=[[Object(v.d)("dashboard.menu")],[Object(v.d)("auth.passwordChange.title")]]}ngOnInit(){return Object(n.a)(this,void 0,void 0,(function*(){this.buildSchema(),this.buildForm()}))}get fields(){return c.a.fields}get saveLoading(){return this.authService.loadingPasswordChange}doSave(){if(!this.form.valid)return;const t=this.schema.cast(this.form.value);return this.authService.doChangePassword(t.oldPassword,t.newPassword)}doReset(){this.buildForm()}buildForm(){this.form=this.schema.buildForm(this.authService.currentUser,{validator:t=>{const e=t.controls[this.fields.newPasswordConfirmation.name];return t.controls[this.fields.newPassword.name].value!==e.value&&e.setErrors({passwordMustMatch:!0}),null}})}get currentUser(){return this.authService.currentUser}buildSchema(){this.schema=new s.a([this.fields.oldPassword,this.fields.newPassword,this.fields.newPasswordConfirmation],this.formBuilder)}}return t.\u0275fac=function(e){return new(e||t)(l.Hc(o.a),l.Hc(d.d))},t.\u0275cmp=l.Bc({type:t,selectors:[["app-password-change"]],decls:37,vars:22,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","auth.passwordChange.title"],[1,"form",3,"formGroup","ngSubmit"],["ngForm","ngForm"],["floatLabel","always","appearance","outline"],["matInput","","type","password",3,"formControlName","required"],[3,"control","label"],[1,"form-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["inline","","fontSet","far","fontIcon","fa-save"],["key","common.save"],["mat-flat-button","","color","accent","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-undo"],["key","common.reset"],["mat-flat-button","","color","warn","type","button",3,"disabled","routerLink"],["inline","","fontSet","fas","fontIcon","fa-times"],["key","common.cancel"]],template:function(t,e){1&t&&(l.Ic(0,"app-breadcrumb",0),l.Nc(1,"div",1),l.Nc(2,"h1",2),l.Ic(3,"app-i18n",3),l.Mc(),l.Nc(4,"form",4,5),l.Tc("ngSubmit",(function(){return e.doSave()})),l.Nc(6,"mat-form-field",6),l.Nc(7,"mat-label"),l.xd(8),l.Mc(),l.Ic(9,"input",7),l.Nc(10,"mat-error"),l.Ic(11,"app-validations",8),l.Mc(),l.Mc(),l.Nc(12,"mat-form-field",6),l.Nc(13,"mat-label"),l.xd(14),l.Mc(),l.Ic(15,"input",7),l.Nc(16,"mat-error"),l.Ic(17,"app-validations",8),l.Mc(),l.Mc(),l.Nc(18,"mat-form-field",6),l.Nc(19,"mat-label"),l.xd(20),l.Mc(),l.Ic(21,"input",7),l.Nc(22,"mat-error"),l.Ic(23,"app-validations",8),l.Mc(),l.Mc(),l.Nc(24,"div",9),l.Nc(25,"button",10),l.Ic(26,"mat-icon",11),l.xd(27,"\xa0 "),l.Ic(28,"app-i18n",12),l.Mc(),l.Nc(29,"button",13),l.Tc("click",(function(){return e.doReset()})),l.Ic(30,"mat-icon",14),l.xd(31,"\xa0 "),l.Ic(32,"app-i18n",15),l.Mc(),l.Nc(33,"button",16),l.Ic(34,"mat-icon",17),l.xd(35,"\xa0 "),l.Ic(36,"app-i18n",18),l.Mc(),l.Mc(),l.Mc(),l.Mc()),2&t&&(l.dd("items",e.breadcrumb),l.wc(4),l.dd("formGroup",e.form),l.wc(4),l.yd(e.fields.oldPassword.label),l.wc(1),l.dd("formControlName",e.fields.oldPassword.name)("required",e.fields.oldPassword.required),l.wc(2),l.dd("control",e.form.get(e.fields.oldPassword.name))("label",e.fields.oldPassword.label),l.wc(3),l.yd(e.fields.newPassword.label),l.wc(1),l.dd("formControlName",e.fields.newPassword.name)("required",e.fields.newPassword.required),l.wc(2),l.dd("control",e.form.get(e.fields.newPassword.name))("label",e.fields.newPassword.label),l.wc(3),l.yd(e.fields.newPasswordConfirmation.label),l.wc(1),l.dd("formControlName",e.fields.newPasswordConfirmation.name)("required",e.fields.newPasswordConfirmation.required),l.wc(2),l.dd("control",e.form.get(e.fields.newPasswordConfirmation.name))("label",e.fields.newPasswordConfirmation.label),l.wc(2),l.dd("disabled",e.saveLoading),l.wc(4),l.dd("disabled",e.saveLoading),l.wc(4),l.dd("disabled",e.saveLoading)("routerLink",l.fd(21,Tt)))},directives:[pt.a,w.a,d.s,d.n,d.h,m.c,m.f,f.b,d.c,d.m,d.g,d.q,m.b,h.a,b.b,gt.a,r.c],encapsulation:2}),t})(),canActivate:[nt.a]}]}]}];let jt=(()=>{class t{}return t.\u0275mod=l.Fc({type:t}),t.\u0275inj=l.Ec({factory:function(e){return new(e||t)},providers:[],imports:[[r.f.forChild(At)],r.f]}),t})();var Lt=a("Tx//");let Et=(()=>{class t{}return t.\u0275mod=l.Fc({type:t}),t.\u0275inj=l.Ec({factory:function(e){return new(e||t)},providers:[],imports:[[i.a,jt,Lt.a]]}),t})()},s1L9:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var i=a("u9O/"),r=a("UGp+"),n=a("Vbab"),o=a("3Pt+");class c extends i.a{constructor(t,e,{yesLabel:a,noLabel:i}={}){super(t,e),this.yesLabel=a||Object(n.d)("common.yes"),this.noLabel=i||Object(n.d)("common.no")}forPresenter(t){return t?this.yesLabel:this.noLabel}forFilterPreview(t){return null==t?null:Boolean(t)?this.yesLabel:this.noLabel}forFormControl(t){return new o.e(t||!1)}forFormCast(){return r.b().default(!1).label(this.label)}forFilterControl(t){return new o.e(t)}forFilterCast(){return r.b().nullable(!0).label(this.label)}forExport(){return r.b().nullable(!0).default(!1).label(this.label)}forImport(){return r.b().default(!1).label(this.label)}}}}]);